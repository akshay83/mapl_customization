[
 {
  "align_labels_left": 0, 
  "css": null, 
  "custom_format": 0, 
  "disabled": 0, 
  "doc_type": "Sales Invoice", 
  "docstatus": 0, 
  "doctype": "Print Format", 
  "font": "Default", 
  "format_data": "[{\"fieldname\": \"print_heading_template\", \"fieldtype\": \"Custom HTML\", \"options\": \"<div class=\\\"print-heading\\\">\\n\\t<h2>\\n\\t\\tTAX INVOICE<br>\\n\\t\\t<small>{{ doc.name }}</small>\\n\\t</h2>\\n</div>\\n<h2 class=\\\"text-center\\\">\\n\\t{% if doc.invoice_copy -%}\\n\\t\\t<small>{{ doc.invoice_copy }}</small>\\n\\t{% endif -%}\\n</h2>\"}, {\"fieldtype\": \"Section Break\", \"label\": \"\"}, {\"fieldtype\": \"Column Break\"}, {\"print_hide\": 0, \"fieldname\": \"company\", \"label\": \"Company\"}, {\"print_hide\": 0, \"fieldname\": \"company_address_display\", \"label\": \"Company Address\"}, {\"fieldtype\": \"Column Break\"}, {\"print_hide\": 0, \"fieldname\": \"posting_date\", \"label\": \"Date\"}, {\"print_hide\": 0, \"fieldname\": \"due_date\", \"label\": \"Payment Due Date\"}, {\"fieldtype\": \"Section Break\", \"label\": \"\"}, {\"fieldtype\": \"Column Break\"}, {\"print_hide\": 0, \"label\": \"Custom HTML\", \"fieldname\": \"_custom_html\", \"options\": \"<hr>\", \"fieldtype\": \"HTML\"}, {\"fieldtype\": \"Section Break\", \"label\": \"Address\"}, {\"fieldtype\": \"Column Break\"}, {\"print_hide\": 0, \"fieldname\": \"customer_name\", \"label\": \"Customer Name\"}, {\"print_hide\": 0, \"fieldname\": \"address_display\", \"label\": \"Address\"}, {\"print_hide\": 0, \"fieldname\": \"contact_display\", \"label\": \"Contact\"}, {\"fieldtype\": \"Column Break\"}, {\"print_hide\": 0, \"fieldname\": \"shipping_address\", \"label\": \"Shipping Address\"}, {\"fieldtype\": \"Section Break\", \"label\": \"\"}, {\"fieldtype\": \"Column Break\"}, {\"visible_columns\": [{\"print_hide\": 0, \"fieldname\": \"item_code\", \"print_width\": \"\"}, {\"print_hide\": 0, \"fieldname\": \"description\", \"print_width\": \"200px\"}, {\"print_hide\": 0, \"fieldname\": \"gst_hsn_code\", \"print_width\": \"\"}, {\"print_hide\": 0, \"fieldname\": \"qty\", \"print_width\": \"\"}, {\"print_hide\": 0, \"fieldname\": \"uom\", \"print_width\": \"\"}, {\"print_hide\": 0, \"fieldname\": \"rate\", \"print_width\": \"\"}, {\"print_hide\": 0, \"fieldname\": \"amount\", \"print_width\": \"\"}], \"print_hide\": 0, \"fieldname\": \"items\", \"label\": \"Items\"}, {\"fieldtype\": \"Section Break\", \"label\": \"\"}, {\"fieldtype\": \"Column Break\"}, {\"fieldtype\": \"Column Break\"}, {\"print_hide\": 0, \"fieldname\": \"total\", \"label\": \"Total\"}, {\"fieldtype\": \"Section Break\", \"label\": \"\"}, {\"fieldtype\": \"Column Break\"}, {\"visible_columns\": [{\"print_hide\": 0, \"fieldname\": \"description\", \"print_width\": \"300px\"}], \"print_hide\": 0, \"fieldname\": \"taxes\", \"label\": \"Sales Taxes and Charges\"}, {\"fieldtype\": \"Section Break\", \"label\": \"\"}, {\"fieldtype\": \"Column Break\"}, {\"fieldtype\": \"Column Break\"}, {\"print_hide\": 0, \"fieldname\": \"grand_total\", \"label\": \"Grand Total\"}, {\"print_hide\": 0, \"fieldname\": \"rounded_total\", \"label\": \"Rounded Total\"}, {\"print_hide\": 0, \"fieldname\": \"in_words\", \"label\": \"In Words\"}, {\"fieldtype\": \"Section Break\", \"label\": \"\"}, {\"fieldtype\": \"Column Break\"}, {\"print_hide\": 0, \"fieldname\": \"other_charges_calculation\", \"align\": \"left\", \"label\": \"Tax Breakup\"}, {\"fieldtype\": \"Section Break\", \"label\": \"Terms\"}, {\"fieldtype\": \"Column Break\"}, {\"print_hide\": 0, \"fieldname\": \"terms\", \"label\": \"Terms and Conditions Details\"}]", 
  "html": null, 
  "line_breaks": 0, 
  "modified": "2017-07-07 13:06:20.042807", 
  "module": "Regional", 
  "name": "GST Tax Invoice", 
  "print_format_builder": 1, 
  "print_format_type": "Server", 
  "show_section_headings": 0, 
  "standard": "Yes"
 }, 
 {
  "align_labels_left": 0, 
  "css": null, 
  "custom_format": 1, 
  "disabled": 0, 
  "doc_type": "Payment Entry", 
  "docstatus": 0, 
  "doctype": "Print Format", 
  "font": "Default", 
  "format_data": null, 
  "html": "\n<div style=\"position: relative; top:0.0cm\">\n\t<div style=\"width:20.0cm;height:9.0cm;\">\n\t\t<span style=\"top: {{ 1.0 }}cm; left: {{ 9.0 }}cm;\n\t\t\tborder-bottom: solid 1px;border-top:solid 1px; position: absolute;\">\n\t\t\t\tAcc. Payee\n\t\t</span>\n\t\t<span style=\"top:1.0 cm; left:15.0cm;\n\t\t\tposition: absolute;\">\n\t\t\t{{ frappe.utils.formatdate(doc.reference_date) or '' }}\n\t\t</span>\n\t\t<span style=\"top:5.0cm;left:4.0cm;\n\t\t\tposition: absolute;\">\n\t\t\t{{ doc.account_no or '' }}\n\t\t</span>\n\t\t<span style=\"top:2.0cm;left: 3.0cm;\n\t\t\tposition: absolute;\">\n\t\t\t{{doc.party_name}}\n\t\t</span>\n\t\t<span style=\"top:3.0cm; left:4.0cm;\n\t\t\tposition: absolute; display: block; width: 15.0cm;\n\t\t\tline-height:0.5cm; word-wrap: break-word;\">\n\t\t\t\t{{frappe.utils.money_in_words(doc.base_paid_amount or doc.base_received_amount)}}\n\t\t</span>\n\t\t<span style=\"top:3.5cm;left: 16.0cm;\n\t\t\tposition: absolute;\">\n\t\t\t{{doc.get_formatted(\"base_paid_amount\") or doc.get_formatted(\"base_received_amount\")}}\n\t\t</span>\n\t\t<span style=\"top:6.0cm;left: 15.0cm;\n\t\t\tposition: absolute;\">\n\t\t\t{{doc.company}}\n\t\t</span>\n\t</div>\n</div>", 
  "line_breaks": 0, 
  "modified": "2017-03-03 18:49:03.263000", 
  "module": "Accounts", 
  "name": "ICICI Bank", 
  "print_format_builder": 0, 
  "print_format_type": "Server", 
  "show_section_headings": 0, 
  "standard": "No"
 }, 
 {
  "align_labels_left": 0, 
  "css": null, 
  "custom_format": 0, 
  "disabled": 0, 
  "doc_type": "Salary Slip", 
  "docstatus": 0, 
  "doctype": "Print Format", 
  "font": "Default", 
  "format_data": "[{\"fieldname\": \"print_heading_template\", \"fieldtype\": \"HTML\", \"options\": \"  <h3 style=\\\"text-align: right;\\\"><span style=\\\"line-height: 1.42857;\\\">{{doc.name}}</span></h3>\\n<div>\\n    <hr style=\\\"text-align: center;\\\">\\n</div>  \"}, {\"fieldtype\": \"Section Break\"}, {\"fieldtype\": \"Column Break\"}, {\"print_hide\": 0, \"fieldname\": \"employee\"}, {\"print_hide\": 0, \"fieldname\": \"company\"}, {\"print_hide\": 0, \"fieldname\": \"employee_name\"}, {\"print_hide\": 0, \"fieldname\": \"department\"}, {\"print_hide\": 0, \"fieldname\": \"designation\"}, {\"print_hide\": 0, \"fieldname\": \"branch\"}, {\"fieldtype\": \"Column Break\"}, {\"print_hide\": 0, \"fieldname\": \"start_date\"}, {\"print_hide\": 0, \"fieldname\": \"end_date\"}, {\"print_hide\": 0, \"fieldname\": \"total_days_in_month\"}, {\"print_hide\": 0, \"fieldname\": \"leave_without_pay\"}, {\"print_hide\": 0, \"fieldname\": \"payment_days\"}, {\"fieldtype\": \"Section Break\"}, {\"fieldtype\": \"Column Break\"}, {\"visible_columns\": [{\"print_hide\": 0, \"fieldname\": \"salary_component\", \"print_width\": \"\"}, {\"print_hide\": 0, \"fieldname\": \"amount\", \"print_width\": \"\"}, {\"print_hide\": 0, \"fieldname\": \"depends_on_lwp\", \"print_width\": \"\"}, {\"print_hide\": 0, \"fieldname\": \"default_amount\", \"print_width\": \"\"}], \"print_hide\": 0, \"fieldname\": \"earnings\"}, {\"fieldtype\": \"Column Break\"}, {\"visible_columns\": [{\"print_hide\": 0, \"fieldname\": \"salary_component\", \"print_width\": \"\"}, {\"print_hide\": 0, \"fieldname\": \"amount\", \"print_width\": \"\"}, {\"print_hide\": 0, \"fieldname\": \"depends_on_lwp\", \"print_width\": \"\"}, {\"print_hide\": 0, \"fieldname\": \"default_amount\", \"print_width\": \"\"}], \"print_hide\": 0, \"fieldname\": \"deductions\"}, {\"fieldtype\": \"Section Break\"}, {\"fieldtype\": \"Column Break\"}, {\"fieldtype\": \"Column Break\"}, {\"print_hide\": 0, \"fieldname\": \"arrear_amount\"}, {\"print_hide\": 0, \"fieldname\": \"leave_encashment_amount\"}, {\"print_hide\": 0, \"fieldname\": \"gross_pay\"}, {\"print_hide\": 0, \"fieldname\": \"total_deduction\"}, {\"print_hide\": 0, \"fieldname\": \"net_pay\"}, {\"print_hide\": 0, \"fieldname\": \"rounded_total\"}, {\"print_hide\": 0, \"fieldname\": \"total_in_words\"}]", 
  "html": null, 
  "line_breaks": 0, 
  "modified": "2016-07-07 13:04:55.804431", 
  "module": "HR", 
  "name": "Salary Slip Standard", 
  "print_format_builder": 1, 
  "print_format_type": "Server", 
  "show_section_headings": 0, 
  "standard": "Yes"
 }, 
 {
  "align_labels_left": 0, 
  "css": null, 
  "custom_format": 0, 
  "disabled": 0, 
  "doc_type": "Salary Slip", 
  "docstatus": 0, 
  "doctype": "Print Format", 
  "font": "Default", 
  "format_data": "[{\"fieldname\": \"print_heading_template\", \"fieldtype\": \"HTML\", \"options\": \" <h3 style=\\\"text-align: right;\\\">{{doc.name}}</h3><div><hr></div> \"}, {\"fieldtype\": \"Section Break\"}, {\"fieldtype\": \"Column Break\"}, {\"print_hide\": 0, \"fieldname\": \"employee\"}, {\"print_hide\": 0, \"fieldname\": \"employee_name\"}, {\"print_hide\": 0, \"fieldname\": \"department\"}, {\"print_hide\": 0, \"fieldname\": \"designation\"}, {\"print_hide\": 0, \"fieldname\": \"branch\"}, {\"fieldtype\": \"Column Break\"}, {\"print_hide\": 0, \"fieldname\": \"start_date\"}, {\"print_hide\": 0, \"fieldname\": \"end_date\"}, {\"print_hide\": 0, \"fieldname\": \"total_working_hours\"}, {\"print_hide\": 0, \"fieldname\": \"hour_rate\"}, {\"fieldtype\": \"Section Break\"}, {\"fieldtype\": \"Column Break\"}, {\"visible_columns\": [{\"print_hide\": 0, \"fieldname\": \"time_sheet\", \"print_width\": \"\"}, {\"print_hide\": 0, \"fieldname\": \"working_hours\", \"print_width\": \"\"}], \"print_hide\": 0, \"fieldname\": \"timesheets\"}, {\"fieldtype\": \"Column Break\"}, {\"fieldtype\": \"Section Break\"}, {\"fieldtype\": \"Column Break\"}, {\"visible_columns\": [{\"print_hide\": 0, \"fieldname\": \"salary_component\", \"print_width\": \"\"}, {\"print_hide\": 0, \"fieldname\": \"amount\", \"print_width\": \"\"}, {\"print_hide\": 0, \"fieldname\": \"depends_on_lwp\", \"print_width\": \"\"}, {\"print_hide\": 0, \"fieldname\": \"default_amount\", \"print_width\": \"\"}], \"print_hide\": 0, \"fieldname\": \"earnings\"}, {\"fieldtype\": \"Column Break\"}, {\"visible_columns\": [{\"print_hide\": 0, \"fieldname\": \"salary_component\", \"print_width\": \"\"}, {\"print_hide\": 0, \"fieldname\": \"amount\", \"print_width\": \"\"}, {\"print_hide\": 0, \"fieldname\": \"depends_on_lwp\", \"print_width\": \"\"}, {\"print_hide\": 0, \"fieldname\": \"default_amount\", \"print_width\": \"\"}], \"print_hide\": 0, \"fieldname\": \"deductions\"}, {\"fieldtype\": \"Section Break\"}, {\"fieldtype\": \"Column Break\"}, {\"fieldtype\": \"Column Break\"}, {\"print_hide\": 0, \"fieldname\": \"gross_pay\"}, {\"print_hide\": 0, \"fieldname\": \"total_deduction\"}, {\"print_hide\": 0, \"fieldname\": \"net_pay\"}, {\"print_hide\": 0, \"fieldname\": \"rounded_total\"}, {\"print_hide\": 0, \"fieldname\": \"total_in_words\"}]", 
  "html": null, 
  "line_breaks": 0, 
  "modified": "2016-07-07 13:09:43.734752", 
  "module": "HR", 
  "name": "Salary Slip based on Timesheet", 
  "print_format_builder": 1, 
  "print_format_type": "Server", 
  "show_section_headings": 0, 
  "standard": "Yes"
 }, 
 {
  "align_labels_left": 0, 
  "css": null, 
  "custom_format": 1, 
  "disabled": 0, 
  "doc_type": "Sales Invoice", 
  "docstatus": 0, 
  "doctype": "Print Format", 
  "font": "Default", 
  "format_data": null, 
  "html": "<style>\n\t.print-format table, .print-format tr, \n\t.print-format td, .print-format div, .print-format p {\n\t\tfont-family: Monospace;\n\t\tline-height: 200%;\n\t\tvertical-align: middle;\n\t}\n\t@media screen {\n\t\t.print-format {\n\t\t\twidth: 4in;\n\t\t\tpadding: 0.25in;\n\t\t\tmin-height: 8in;\n\t\t}\n\t}\n</style>\n\n<p class=\"text-center\">\n\t{{ company }}<br>\n\t{{  __(\"Invoice\") }}<br>\n</p>\n<p>\n\t<b>{{ __(\"Date\") }}:</b> {{ dateutil.global_date_format(posting_date) }}<br>\n</p>\n\n<hr>\n<table class=\"table table-condensed cart no-border\">\n\t<thead>\n\t\t<tr>\n\t\t\t<th width=\"50%\">{{ __(\"Item\") }}</b></th>\n\t\t\t<th width=\"25%\" class=\"text-right\">{{ __(\"Qty\") }}</th>\n\t\t\t<th width=\"25%\" class=\"text-right\">{{ __(\"Amount\") }}</th>\n\t\t</tr>\n\t</thead>\n\t<tbody>\n\t\t{% for item in items %}\n\t\t<tr>\n\t\t\t<td>\n\t\t\t\t{{ item.item_name }}\n\t\t\t</td>\n\t\t\t<td class=\"text-right\">{{ item.qty }}<br>@ {{ format_currency(item.rate, currency) }}</td>\n\t\t\t<td class=\"text-right\">{{ format_currency(item.amount, currency) }}</td>\n\t\t</tr>\n\t\t{% endfor %}\n\t</tbody>\n</table>\n\n<table class=\"table table-condensed no-border\">\n\t<tbody>\n\t\t<tr>\n\t\t\t<td class=\"text-right\" style=\"width: 70%\">\n\t\t\t\t{{ __(\"Net Total\") }}\n\t\t\t</td>\n\t\t\t<td class=\"text-right\">\n\t\t\t\t{{ format_currency(total, currency) }}\n\t\t\t</td>\n\t\t</tr>\n\t\t{% for row in taxes %}\n\t\t{% if not row.included_in_print_rate %}\n\t\t<tr>\n\t\t\t<td class=\"text-right\" style=\"width: 70%\">\n\t\t\t\t{{ row.description }}\n\t\t\t</td>\n\t\t\t<td class=\"text-right\">\n\t\t\t\t{{ format_currency(row.tax_amount, currency) }}\n\t\t\t</td>\n\t\t</tr>\n\t\t{% endif %}\n\t\t{% endfor %}\n\t\t{% if discount_amount %}\n\t\t<tr>\n\t\t\t<td class=\"text-right\" style=\"width: 75%\">\n\t\t\t\t{{ __(\"Discount\") }}\n\t\t\t</td>\n\t\t\t<td class=\"text-right\">\n\t\t\t\t{{ format_currency(discount_amount, currency) }}\n\t\t\t</td>\n\t\t</tr>\n\t\t{% endif %}\n\t\t<tr>\n\t\t\t<td class=\"text-right\" style=\"width: 75%\">\n\t\t\t\t<b>{{ __(\"Grand Total\") }}</b>\n\t\t\t</td>\n\t\t\t<td class=\"text-right\">\n\t\t\t\t{{ format_currency(grand_total, currency) }}\n\t\t\t</td>\n\t\t</tr>\n\t</tbody>\n</table>\n\n\n<hr>\n<p class=\"text-center\">{{ __(\"Thank you, please visit again.\") }}</p>", 
  "line_breaks": 0, 
  "modified": "2016-05-21 00:25:20.359074", 
  "module": "Accounts", 
  "name": "Point of Sale", 
  "print_format_builder": 0, 
  "print_format_type": "Js", 
  "show_section_headings": 0, 
  "standard": "Yes"
 }, 
 {
  "align_labels_left": 0, 
  "css": null, 
  "custom_format": 1, 
  "disabled": 0, 
  "doc_type": "Sales Invoice", 
  "docstatus": 0, 
  "doctype": "Print Format", 
  "font": null, 
  "format_data": null, 
  "html": "<style>\n\t.print-format table, .print-format tr, \n\t.print-format td, .print-format div, .print-format p {\n\t\tfont-family: Monospace;\n\t\tline-height: 200%;\n\t\tvertical-align: middle;\n\t}\n\t@media screen {\n\t\t.print-format {\n\t\t\twidth: 4in;\n\t\t\tpadding: 0.25in;\n\t\t\tmin-height: 8in;\n\t\t}\n\t}\n</style>\n\n<p class=\"text-center\">\n\t{{ doc.company }}<br>\n\t{{ doc.select_print_heading or _(\"Invoice\") }}<br>\n</p>\n<p>\n\t<b>{{ _(\"Receipt No\") }}:</b> {{ doc.name }}<br>\n\t<b>{{ _(\"Date\") }}:</b> {{ doc.get_formatted(\"posting_date\") }}<br>\n\t<b>{{ _(\"Customer\") }}:</b> {{ doc.customer_name }}\n</p>\n\n<hr>\n<table class=\"table table-condensed cart no-border\">\n\t<thead>\n\t\t<tr>\n\t\t\t<th width=\"50%\">{{ _(\"Item\") }}</b></th>\n\t\t\t<th width=\"25%\" class=\"text-right\">{{ _(\"Qty\") }}</th>\n\t\t\t<th width=\"25%\" class=\"text-right\">{{ _(\"Amount\") }}</th>\n\t\t</tr>\n\t</thead>\n\t<tbody>\n\t\t{%- for item in doc.items -%}\n\t\t<tr>\n\t\t\t<td>\n\t\t\t\t{{ item.item_code }}\n\t\t\t\t{%- if item.item_name != item.item_code -%}\n\t\t\t\t\t<br>{{ item.item_name }}{%- endif -%}\n\t\t\t</td>\n\t\t\t<td class=\"text-right\">{{ item.qty }}<br>@ {{ item.get_formatted(\"rate\") }}</td>\n\t\t\t<td class=\"text-right\">{{ item.get_formatted(\"amount\") }}</td>\n\t\t</tr>\n\t\t{%- endfor -%}\n\t</tbody>\n</table>\n<table class=\"table table-condensed no-border\">\n\t<tbody>\n\t\t<tr>\n\t\t\t<td class=\"text-right\" style=\"width: 70%\">\n\t\t\t\t{{ _(\"Net Total\") }}\n\t\t\t</td>\n\t\t\t<td class=\"text-right\">\n\t\t\t\t{{ doc.get_formatted(\"net_total\") }}\n\t\t\t</td>\n\t\t</tr>\n\t\t{%- for row in doc.taxes -%}\n\t\t{%- if not row.included_in_print_rate -%}\n\t\t<tr>\n\t\t\t<td class=\"text-right\" style=\"width: 70%\">\n\t\t\t\t{{ row.description }}\n\t\t\t</td>\n\t\t\t<td class=\"text-right\">\n\t\t\t\t{{ row.get_formatted(\"tax_amount\", doc) }}\n\t\t\t</td>\n\t\t</tr>\n\t\t{%- endif -%}\n\t\t{%- endfor -%}\n\t\t{%- if doc.discount_amount -%}\n\t\t<tr>\n\t\t\t<td class=\"text-right\" style=\"width: 75%\">\n\t\t\t\t{{ _(\"Discount\") }}\n\t\t\t</td>\n\t\t\t<td class=\"text-right\">\n\t\t\t\t{{ doc.get_formatted(\"discount_amount\") }}\n\t\t\t</td>\n\t\t</tr>\n\t\t{%- endif -%}\n\t\t<tr>\n\t\t\t<td class=\"text-right\" style=\"width: 75%\">\n\t\t\t\t<b>{{ _(\"Grand Total\") }}</b>\n\t\t\t</td>\n\t\t\t<td class=\"text-right\">\n\t\t\t\t{{ doc.get_formatted(\"grand_total\") }}\n\t\t\t</td>\n\t\t</tr>\n\t</tbody>\n</table>\n{% if doc.get(\"taxes\", filters={\"included_in_print_rate\": 1}) %}\n<hr>\n<p><b>Taxes Included:</b></p>\n<table class=\"table table-condensed no-border\">\n\t<tbody>\n\t\t{%- for row in doc.taxes -%}\n\t\t{%- if row.included_in_print_rate -%}\n\t\t<tr>\n\t\t\t<td class=\"text-right\" style=\"width: 70%\">\n\t\t\t\t{{ row.description }}\n\t\t\t</td>\n\t\t\t<td class=\"text-right\">\n\t\t\t\t{{ row.get_formatted(\"tax_amount_after_discount_amount\", doc) }}\n\t\t\t</td>\n\t\t<tr>\n\t\t{%- endif -%}\n\t\t{%- endfor -%}\n\t</tbody>\n</table>\n{%- endif -%}\n<hr>\n<p>{{ doc.terms or \"\" }}</p>\n<p class=\"text-center\">{{ _(\"Thank you, please visit again.\") }}</p>", 
  "line_breaks": 0, 
  "modified": "2015-04-21 05:06:29.380856", 
  "module": "Accounts", 
  "name": "POS Invoice", 
  "print_format_builder": 0, 
  "print_format_type": "Server", 
  "show_section_headings": 0, 
  "standard": "Yes"
 }, 
 {
  "align_labels_left": 0, 
  "css": null, 
  "custom_format": 1, 
  "disabled": 0, 
  "doc_type": "Journal Entry", 
  "docstatus": 0, 
  "doctype": "Print Format", 
  "font": null, 
  "format_data": null, 
  "html": "<div style=\"position: relative\">\n\n\t{%- from \"templates/print_formats/standard_macros.html\" import add_header -%}\n<div class=\"page-break\">\n    {%- if not doc.get(\"print_heading\") and not doc.get(\"select_print_heading\") \n        and doc.set(\"select_print_heading\", _(\"Payment Advice\")) -%}{%- endif -%}\n    {{ add_header(0, 1, doc, letter_head, no_letterhead) }}\n\n{%- for label, value in (\n        (_(\"Voucher Date\"), frappe.utils.formatdate(doc.voucher_date)),\n        (_(\"Reference / Cheque No.\"), doc.cheque_no),\n        (_(\"Reference / Cheque Date\"), frappe.utils.formatdate(doc.cheque_date))\n    ) -%}\n    <div class=\"row\">\n        <div class=\"col-xs-4\"><label class=\"text-right\">{{ label }}</label></div>\n        <div class=\"col-xs-8\">{{ value }}</div>\n    </div>\n{%- endfor -%}\n\t<hr>\n\t<p>{{ _(\"This amount is in full / part settlement of the listed bills\") }}:</p>\n{%- for label, value in (\n         (_(\"Amount\"), \"<strong>\" + doc.get_formatted(\"total_amount\") + \"</strong><br>\" + (doc.total_amount_in_words or \"\") + \"<br>\"),\n        (_(\"References\"), doc.remark)\n    ) -%}\n    <div class=\"row\">\n        <div class=\"col-xs-4\"><label class=\"text-right\">{{ label }}</label></div>\n        <div class=\"col-xs-8\">{{ value }}</div>\n    </div>\n    {%- endfor -%}\n    <hr>\n\t<div style=\"position: absolute; top: 14cm; left: 0cm;\">\n\t\tPrepared By</div>\n\t<div style=\"position: absolute; top: 14cm; left: 5.5cm;\">\n\t\tAuthorised Signatory</div>\n\t<div style=\"position: absolute; top: 14cm; left: 11cm;\">\n\t\tReceived Payment as Above</div>\n\t<div style=\"position: absolute; top: 16.4cm; left: 5.9cm;\">\n\t\t<strong>_____________</strong></div>\n\t<div style=\"position: absolute; top: 16.7cm; left: 6cm;\">\n\t\t<strong>A/C Payee</strong></div>\n\t<div style=\"position: absolute; top: 16.7cm; left: 5.9cm;\">\n\t\t<strong>_____________</strong></div>\n\t<div style=\"position: absolute; top: 16.9cm; left: 12cm;\">\n\t\t{{ frappe.utils.formatdate(doc.cheque_date) }}</div>\n\t<div style=\"position: absolute; top: 17.9cm; left: 1cm;\">\n\t\t{{ doc.pay_to_recd_from }}</div>\n\t<div style=\"position: absolute; top: 18.6cm; left: 1cm; width: 7cm;\">\n\t\t{{ doc.total_amount_in_words }}</div>\n\t<div style=\"position: absolute; top: 19.7cm; left: 12cm;\">\n\t\t{{ doc.get_formatted(\"total_amount\") }}</div>\n</div>", 
  "line_breaks": 0, 
  "modified": "2015-05-29 01:57:51.203850", 
  "module": "Accounts", 
  "name": "Cheque Printing Format", 
  "print_format_builder": 0, 
  "print_format_type": "Server", 
  "show_section_headings": 0, 
  "standard": "Yes"
 }, 
 {
  "align_labels_left": 0, 
  "css": null, 
  "custom_format": 0, 
  "disabled": 0, 
  "doc_type": "Journal Entry", 
  "docstatus": 0, 
  "doctype": "Print Format", 
  "font": null, 
  "format_data": null, 
  "html": "", 
  "line_breaks": 0, 
  "modified": "2015-11-25 07:06:00.668141", 
  "module": "Accounts", 
  "name": "Payment Receipt Voucher", 
  "print_format_builder": 0, 
  "print_format_type": "Server", 
  "show_section_headings": 0, 
  "standard": "Yes"
 }, 
 {
  "align_labels_left": 0, 
  "css": null, 
  "custom_format": 0, 
  "disabled": 0, 
  "doc_type": "Journal Entry", 
  "docstatus": 0, 
  "doctype": "Print Format", 
  "font": null, 
  "format_data": null, 
  "html": "{%- from \"templates/print_formats/standard_macros.html\" import add_header -%}\n\n<div class=\"page-break\">\n    {%- if not doc.get(\"print_heading\") and not doc.get(\"select_print_heading\") \n        and doc.set(\"select_print_heading\", _(\"Credit Note\")) -%}{%- endif -%}\n    {{ add_header(0, 1, doc, letter_head, no_letterhead) }}\n\n    {%- for label, value in (\n        (_(\"Credit To\"), doc.pay_to_recd_from),\n        (_(\"Date\"), frappe.utils.formatdate(doc.voucher_date)),\n        (_(\"Amount\"), \"<strong>\" + doc.get_formatted(\"total_amount\") + \"</strong><br>\" + (doc.total_amount_in_words or \"\") + \"<br>\"),\n        (_(\"Remarks\"), doc.remark)\n    ) -%}\n\n    <div class=\"row\">\n        <div class=\"col-xs-3\"><label class=\"text-right\">{{ label }}</label></div>\n        <div class=\"col-xs-9\">{{ value }}</div>\n    </div>\n\n    {%- endfor -%}\n\n    <hr>\n    <br>\n    <p class=\"strong\">\n        {{ _(\"For\") }} {{ doc.company }},<br>\n        <br>\n        <br>\n        <br>\n        {{ _(\"Authorized Signatory\") }}\n    </p>\n</div>\n\n\n", 
  "line_breaks": 0, 
  "modified": "2015-07-22 17:42:01.560817", 
  "module": "Accounts", 
  "name": "Credit Note", 
  "print_format_builder": 0, 
  "print_format_type": "Server", 
  "show_section_headings": 0, 
  "standard": "Yes"
 }, 
 {
  "align_labels_left": 0, 
  "css": null, 
  "custom_format": 1, 
  "disabled": 0, 
  "doc_type": "Offer Letter", 
  "docstatus": 0, 
  "doctype": "Print Format", 
  "font": null, 
  "format_data": null, 
  "html": "{% set terms_exist = doc.terms and (doc.terms|striptags).strip() or \"\" %}\n\n{% if letter_head and not no_letterhead -%}\n    <div class=\"letter-head\">{{ letter_head }}</div>\n    <hr>\n{%- endif %}\n\n<div {% if terms_exist -%} class=\"page-break\" {%- endif %}>\n<p>\n\n<!-- offer letter content starts here, <br> is used to create new lines -->\nDate: {{ doc.offer_date }}\n<br><br>\n\nDear {{ doc.applicant_name }}, \n\n<br><br>\n\nWe are pleased to appoint you in the services of {{ doc.company }} on the terms and conditions detailed in this letter.\n\n<br><br>\n\nYour designation shall be <b>{{ doc.designation }}</b>.\n\n<br><br>\n\n<!-- offer letter terms and description from the table -->\n\n{%- if doc.offer_terms -%}\n    {%- for row in doc.offer_terms -%}\n        <b>{{ row.offer_term }}:</b> {{ row.value }}\n\n        <br>\n    {%- endfor -%}\n{%- endif -%}\n\n<br>\n\n<!-- offer letter content continues -->\n\n\nPlease read the detailed terms as below. If you have any queries, feel free to get in touch with us.\nWe look forward to your long and fruitful career association with our organisation.\nIf you decide to join us, 'Welcome to {{ doc.company }} !'\n\n<br><br>\n\n<p class=\"strong\">\n\nYours truly,\n\n<br><br><br><br>\n\nAuthorized Signatory\n\n<br>\n\n{{ doc.company }}\n\n<!-- offer letter content ends here -->\n\n</p>\n</div>\n\n<!-- offer letter terms and conditions -->\n{% if terms_exist %}\n<div> {{ doc.terms }} </div>\n{% endif %}", 
  "line_breaks": 0, 
  "modified": "2015-12-04 11:46:28.897657", 
  "module": "HR", 
  "name": "Offer Letter", 
  "print_format_builder": 0, 
  "print_format_type": "Server", 
  "show_section_headings": 0, 
  "standard": "Yes"
 }, 
 {
  "align_labels_left": 0, 
  "css": null, 
  "custom_format": 1, 
  "disabled": 0, 
  "doc_type": "Purchase Order", 
  "docstatus": 0, 
  "doctype": "Print Format", 
  "font": "Default", 
  "format_data": null, 
  "html": "<div class=\"page-break\">\n    <div class=\"print-heading\">\n\t\t<h2>Purchase Order<br>\n\t        <small>{{doc.name}}</small>\n        </h2>\n    </div>\n    <div class=\"row section-break\">\n        <div class=\"col-xs-6 column-break\">\n                <div class=\"row\">\n\t\t\t\t\t<div class=\"col-xs-5 text-right\">\n\t\t\t\t\t\t<label>Supplier Name</label>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"col-xs-7  value\">\n\t\t\t\t\t\t{{doc.supplier_name}}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t{% if doc.address_display %}\n\t                <div class=\"row\">\n\t\t\t\t\t\t<div class=\"col-xs-5 text-right\">\n\t\t\t\t\t\t\t<label>Address</label>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class=\"col-xs-7  value\">\n\t\t\t\t\t\t\t{{doc.address_display}}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t{%- endif -%}\n\t\t\t\t{% if doc.contact_display %}\n\t                <div class=\"row\">\n\t\t\t\t\t\t<div class=\"col-xs-5 text-right\">\n\t\t\t\t\t\t\t<label>Contact</label>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class=\"col-xs-7  value\">\n\t\t\t\t\t\t\t{{doc.contact_display}}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t{%- endif -%}\n\t\t\t\t{% if doc.contact_mobile %}\n\t                <div class=\"row\">\n\t\t\t\t\t\t<div class=\"col-xs-5 text-right\">\n\t\t\t\t\t\t\t<label>Mobile No</label>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class=\"col-xs-7  value\">\n\t\t\t\t\t\t\t{{doc.contact_mobile}}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t{%- endif -%}\n        </div>\n        \n        <div class=\"col-xs-6 column-break\">\n            <div class=\"row\">\n\t\t\t\t<div class=\"col-xs-5 text-right\">\n\t\t\t\t\t<label>Date</label>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"col-xs-7  value\">\n\t\t\t\t\t{{doc.transaction_date}}\n\t\t\t\t</div>\n\t\t\t</div>\n            <div class=\"row\">\n\t\t\t\t<div class=\"col-xs-5 text-right\">\n\t\t\t\t\t<label>Customer Name</label>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"col-xs-7  value\">\n\t\t\t\t\t{{doc.customer_name}}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t{% if doc.customer_address_display %}\n\t            <div class=\"row\">\n\t\t\t\t\t<div class=\"col-xs-5 text-right\">\n\t\t\t\t\t\t<label>Customer Address</label>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"col-xs-7  value\">\n\t\t\t\t\t\t{{doc.customer_address_display}}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t{%- endif -%}\n\t\t\t{% if doc.customer_contact_display %}\n\t            <div class=\"row\">\n\t\t\t\t\t<div class=\"col-xs-5 text-right\">\n\t\t\t\t\t\t<label>Customer Contact</label>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"col-xs-7  value\">\n\t\t\t\t\t\t{{doc.customer_contact_display}}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t{%- endif -%}\n\t\t\t{% if doc.customer_contact_mobile %}\n\t            <div class=\"row\">\n\t\t\t\t\t<div class=\"col-xs-5 text-right\">\n\t\t\t\t\t\t<label>Customer Mobile No</label>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"col-xs-7  value\">\n\t\t\t\t\t\t{{doc.customer_contact_mobile}}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t{%- endif -%}\n        </div>\n    </div>\n\t<table class=\"table table-bordered\">\n\t\t<tbody>\n\t\t\t<tr>\n\t\t\t\t<th>Sr</th>\n\t\t\t\t<th>Item Name</th>\n\t\t\t\t<th>Description</th>\n\t\t\t\t<th class=\"text-right\">Qty</th>\n\t\t\t\t<th class=\"text-right\">Rate</th>\n\t\t\t\t<th class=\"text-right\">Amount</th>\n\t\t\t</tr>\n\t\t\t{%- for row in doc.items -%}\n\t\t\t<tr>\n\t\t\t\t<td style=\"width: 3%;\">{{ row.idx }}</td>\n\t\t\t\t<td style=\"width: 20%;\">\n\t\t\t\t\t{{ row.item_name }}\n\t\t\t\t\t{% if row.item_code != row.item_name -%}\n\t\t\t\t\t<br>Item Code: {{ row.item_code}}\n\t\t\t\t\t{%- endif %}\n\t\t\t\t</td>\n\t\t\t\t<td style=\"width: 37%;\">\n\t\t\t\t\t<div style=\"border: 0px;\">{{ row.description }}</div></td>\n\t\t\t\t<td style=\"width: 10%; text-align: right;\">{{ row.qty }} {{ row.uom or row.stock_uom }}</td>\n\t\t\t\t<td style=\"width: 15%; text-align: right;\">{{\n\t\t\t\t\trow.get_formatted(\"rate\", doc) }}</td>\n\t\t\t\t<td style=\"width: 15%; text-align: right;\">{{\n\t\t\t\t\trow.get_formatted(\"amount\", doc) }}</td>\n\t\t\t</tr>\n\t\t\t{%- endfor -%}\n\t\t</tbody>\n\t</table>\n    <div class=\"row section-break\">\n        <div class=\"col-xs-6 column-break\">\n        </div>\n        <div class=\"col-xs-6 column-break\">\n                <div class=\"row\">\n\t\t\t\t\t<div class=\"col-xs-5 text-right\">\n\t\t\t\t\t\t<label>Total</label>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"col-xs-7 text-right value\">\n\t\t\t\t\t\t{{doc.total}}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n                <div class=\"row\">\n\t\t\t\t\t<div class=\"col-xs-5 text-right\">\n\t\t\t\t\t\t<label>Grand Total</label>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"col-xs-7 text-right value\">\n\t\t\t\t\t\t{{doc.grand_total}}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n                <div class=\"row\">\n\t\t\t\t\t<div class=\"col-xs-5 text-right\">\n\t\t\t\t\t\t<label>In Words</label>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"col-xs-7 text-right value\">\n\t\t\t\t\t\t{{doc.in_words}}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n        </div>\n    </div>\n</div>", 
  "line_breaks": 0, 
  "modified": "2015-12-04 13:47:55.157482", 
  "module": "Buying", 
  "name": "Drop Shipping Format", 
  "print_format_builder": 0, 
  "print_format_type": "Server", 
  "show_section_headings": 0, 
  "standard": "Yes"
 }, 
 {
  "align_labels_left": 0, 
  "css": null, 
  "custom_format": 1, 
  "disabled": 0, 
  "doc_type": "Sales Invoice", 
  "docstatus": 0, 
  "doctype": "Print Format", 
  "font": "Default", 
  "format_data": null, 
  "html": "<!-- TESTED ON CHROME VER 57.0.2987.133 -->\n{% set orientation = \"Portrait\" %}\n{% set display_rows_per_page = 8 %}\n\n{% set row_height = \"auto\" %}\n{% set div_page_height = \"100%\" %}\n{% set div_max_page_height = \"100%\" %}\n{% set page_size = {} %}\n{% if page_size.update({\"min_page_height\":\"8.26in\"}) %}{% endif %}\n{% if page_size.update({\"min_page_width\":\"11.69in\"}) %}{% endif %}\n{% if page_size.update({\"max_page_height\":\"8.26in\"}) %}{% endif %}\n{% if page_size.update({\"max_page_width\":\"11.69in\"}) %}{% endif %}\n{% if page_size.update({\"preferred_page_width\":\"11.69in\"}) %}{% endif %}\n{% if page_size.update({\"preferred_page_height\":\"8.26in\"}) %}{% endif %}\n{% set header_height = \"initial\" %}\n{% set max_header_height = \"initial\" %}\n{% set footer_height = \"initial\" %}\n{% set max_footer_height = \"initial\" %}\n{% set body_height = \"initial\" %}\n{% set max_body_height = \"100%\" %}\n\n{% set footer_background = \"transparent\" %}\n{% set header_background = \"transparent\" %}\n{% set body_background = \"transparent\" %}\n{% set page_padding = \"1cm\" %}\n\n{% set global_default_font = \"Monospace\" %}\n\n{% set column_widths = {} %}\n{% if column_widths.update({\"serial_no_column_width\":\"3%\"}) %}{% endif %}\n{% if column_widths.update({\"hsn_no_column_width\":\"8%\"}) %}{% endif %}\n{% if column_widths.update({\"description_column_width\":\"35%\"}) %}{% endif %}\n{% if column_widths.update({\"qty_column_width\":\"5%\"}) %}{% endif %}\n{% if column_widths.update({\"amount_column_width\":\"10%\"}) %}{% endif %}\n{% if column_widths.update({\"rate_column_width\":\"10%\"}) %}{% endif %}\n\n{% set tax_line_counter = {'tl':1} %}\n{% set tax_line_max_length = 8 %}\n{% set tax_analysis_div_width = \"50%\" %}\n{% set tax_analysis_row_left = \"60%\" %} \n{% set tax_analysis_row_right = \"40%\" %}\n\n{% set taxes_as_columns = true %}\n{% set print_tax_analysis = false %}\n{% if column_widths.update({\"tax_rate_column_width\":\"6%\"}) %}{% endif %}        \n{% if column_widths.update({\"tax_amount_column_width\":\"8%\"}) %}{% endif %}        \n\n{% set key_index = {} %}\n{% set abbr = \" - \"+frappe.db.get_value(\"Company\", doc.company, \"abbr\") %}\n\n{% macro set_orientation_size() %}\n\t{% if orientation != \"Landscape\" %}\n\t\t{% if page_size.update({\"min_page_height\":\"11.69in\"}) %}{% endif %}\n\t\t{% if page_size.update({\"min_page_width\":\"8.26in\"}) %}{% endif %}\n\t\t{% if page_size.update({\"max_page_height\":\"11.69in\"}) %}{% endif %}\n\t\t{% if page_size.update({\"max_page_width\":\"8.26in\"}) %}{% endif %}\n\t\t{% if page_size.update({\"preferred_page_width\":\"8.26in\"}) %}{% endif %}\n\t\t{% if page_size.update({\"preferred_page_height\":\"11.69in\"}) %}{% endif %}\n    {% endif %} \n{% endmacro %}\n\n{% macro set_column_widths() %}\n\t{% set tax_columns = {'ln':0} %}\n    {% if taxes_as_columns %}\n    \t{% for taxes in doc.taxes %}\n\t    \t{% if taxes.charge_type != 'Actual' %}\n\t        \t{% if tax_columns.update({\"ln\":tax_columns.ln + 1}) %} {% endif %}\n\t        {% endif %}\n    \t{% endfor %}\n    {% endif %}\n    {% if tax_columns.ln == 0 %}\n\t    {% if column_widths.update({\"serial_no_column_width\":\"4%\"}) %}{% endif %}\n\t\t{% if column_widths.update({\"hsn_no_column_width\":\"9%\"}) %}{% endif %}\n\t\t{% if column_widths.update({\"description_column_width\":\"50%\"}) %}{% endif %}\n\t\t{% if column_widths.update({\"qty_column_width\":\"7%\"}) %}{% endif %}\n\t\t{% if column_widths.update({\"amount_column_width\":\"15%\"}) %}{% endif %}\n\t\t{% if column_widths.update({\"rate_column_width\":\"15%\"}) %}{% endif %}\n    {% else %}\n\t    {% if column_widths.update({\"serial_no_column_width\":\"3%\"}) %}{% endif %}\n\t\t{% if column_widths.update({\"hsn_no_column_width\":\"8%\"}) %}{% endif %}\t\t\n\t\t{% if column_widths.update({\"qty_column_width\":\"4%\"}) %}{% endif %}\n\t\t{% if column_widths.update({\"amount_column_width\":\"12%\"}) %}{% endif %}\n\t\t{% if column_widths.update({\"rate_column_width\":\"12%\"}) %}{% endif %}\n    \t{% if tax_columns.ln == 1 %}\n        \t{% if column_widths.update({\"description_column_width\":\"39%\"}) %}{% endif %}\n\t\t\t{% if column_widths.update({\"tax_rate_column_width\":\"5%\"}) %}{% endif %}        \n            {% if column_widths.update({\"tax_amount_column_width\":\"10%\"}) %}{% endif %}        \n            {% if column_widths.update({\"total_amount_column_width\":\"12%\"}) %}{% endif %} \n        {% endif %}\n    \t{% if tax_columns.ln == 2 %}\n        \t{% if column_widths.update({\"description_column_width\":\"32%\"}) %}{% endif %}\n\t\t\t{% if column_widths.update({\"tax_rate_column_width\":\"5%\"}) %}{% endif %}        \n            {% if column_widths.update({\"tax_amount_column_width\":\"10%\"}) %}{% endif %}  \n            {% if column_widths.update({\"total_amount_column_width\":\"12%\"}) %}{% endif %}\n\t\t\t{% if column_widths.update({\"amount_column_width\":\"11%\"}) %}{% endif %}\n\t\t\t{% if column_widths.update({\"rate_column_width\":\"11%\"}) %}{% endif %}            \n        {% endif %}        \n    {% endif %}\n{% endmacro %}\n\n{% set total_pages_as_per_rows = (doc.items|length / display_rows_per_page)|int %}\n{% if (doc.items|length % display_rows_per_page|int)|int != 0 %}\n    {% set total_pages_as_per_rows = total_pages_as_per_rows + 1 %}\n{% endif %}\n\n\n{{ set_orientation_size() }}\n{{ set_column_widths() }}\n\n<!-- DONT EDIT STYLE BELOW -->\n<style>\n    body{\n        min-height:100% /* force the BODY element to match the height of the HTML element */\n    }\n    .print-format td {\n        padding: 0px !important;\n    }\n    @-moz-document url-prefix() {\n    \t.print-format {\n\t        height: 99% !important;\n        }\n    }\n    .print-format {\n        height: 100%;\n        background-color: initial;\n        box-shadow: initial;\n        max-width: initial;\n        min-height: initial;\n        margin: initial;\n        padding: initial !important;        \n    }\n    \n    .print-format-gutter {\n        height: 100%;\n    }\n    @media screen {\n        .page-preview {\n            min-height: {{ page_size.min_page_height }} !important;\n            max-width: {{ page_size.max_page_width }} !important;\n            padding: {{ page_padding }};\n            background-color: white;\n            box-shadow: 0px 0px 9px rgba(0,0,0,0.5);\n            margin: auto;\n            display: table !important;\n            width: 100%;\n        }\n    }\n    @media print {    \n    \thtml{\n\t        height:100%;\n\t        position:relative\n\t    }    \n    \t@page {\n            size: {{ page_size.preferred_page_width }} {{ page_size.preferred_page_height }} {{ orientation }};\n            margin: {{ page_padding }};\n        }    \n        body {\n            height: 100%;\n            -webkit-print-color-adjust: exact !important;\n        }\n        .page-preview {\n            height: 100%;\n            width: 100%;\n            display: table;\n        }\n    }\n    @media all {\n \t\tcolcell {\n    \t\tborder-left-style:solid !important;\n            border-left-color:gray !important;\n            border-left-width:1px !important;\n\t\t}\n    }\n</style>\n<!-- DONT EDIT STYLE ABOVE -->\n\n<!---------------------------------------------------------------->\n<!-------- CUSTOM MACROS FOR LOCAL USE --------------------------->\n<!---------------------------------------------------------------->\n\n{% macro tax_analysis_print_format() %}\n <table style=\"height:100%;\">\n \t<tr>\n    \t<th style=\"width:125px;padding:0px !important;width:100%;\">Model (HSN Code)</th>\n\t\t{% for taxes in doc.taxes %}\n        \t{% if taxes.charge_type != 'Actual' %}\n                <th style=\"min-width:45px;padding:0px !important;text-align:right;\">Rate(%)</th>\n        \t\t<th style=\"min-width:70px;padding:0px !important;text-align:right;\">{{ taxes.account_head.split(abbr)[0] }}(Rs)</th>\n                {% if key_index.update({taxes.account_head:loop.index}) %}{% endif %}\n            {% endif %}\n    \t{% endfor %}\n    </tr>\n    \n    {% set items = doc.items|sort(attribute='item_code') %}\n    {% set current_item = {'ci':items[0].item_code} %}\n    {% for model in items %}\n    \t{% if current_item.ci != model.item_code or loop.first %}\n        \t{% if current_item.update({'ci':model.item_code}) %}{% endif %}\n    \t<tr>\n        \t<td>{{ model.item_code }}({{ frappe.db.get_value(\"Item\", model.item_code, \"gst_hsn_code\") }})</td>\n\t\t{% for tax in doc.taxes %}\n        \t{% if tax.charge_type != 'Actual' %}\n\t\t    \t{% set i = tax.item_wise_tax_detail|json_load %}\n\t\t        {% for key, val in i.items() %}\n\t            \t{% if key == model.item_code %}\n\t\t                <td style=\"text-align:right;\">{{ val[0] }}</td>\n\t\t                {% for i in range(key_index[tax.account_head]) %}\n\t\t                \t{% if loop.last %}\n\t\t                \t  <td style=\"text-align:right;\">{{ val[1] }}</td>\n\t\t                    {% endif %}\n\t\t                {% endfor %}   \n\t                {% endif %}\n\t\t        {% endfor %}\n            {% endif %}\n\t    {% endfor %}\n        {% endif %}\n        </tr>\n    {% endfor %}\n    <tr height=\"100%;\"> \n         <td style=\"width=125px;\"> </td>\n    </tr>            \n  </table>\n{% endmacro %}\n\n{% macro do_subtotals() %}\n    <!-- DIFFRENT VAT & CHARGES PRINT -->\n\t<div style=\"display:flex;justify-content:flex-end;flex-wrap:wrap;flex-direction:column;align-items:flex-end;width:100%;\">\n                \n\t\t<!-- SUB TOTAL -->\n\t\t<div style=\"width:100%;\">\n\t\t\t<div style=\"width:50%;float:left;padding: 1px !important;padding-left:10px !important;max-height: 13px;overflow: hidden;\">\n\t\t\t\t\tTaxable Value\n\t\t\t</div>\n\t\t\t<div class=\"text-right\" style=\"width:50%;float:left;padding: 1px !important;padding-right: 2px !important;max-height: 13px;overflow: hidden;\">\n\t\t\t\t\t{{ doc.get_formatted(\"net_total\") }}\n\t\t\t</div>\n\t\t</div>\n\t    <!-- END SUB TOTAL -->\n                \n\t\t{%- for row in doc.taxes -%}\n            {% if row.tax_amount != 0 %}\n\t\t\t\t<div style=\"width:100%;\">\n\t\t\t\t\t<div style=\"width:50%;float:left;padding: 1px !important;padding-left:10px !important;max-height: 13px;overflow: hidden;\">\n\t\t\t\t\t\t\t{{ row.description }}\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"text-right\" style=\"width:50%;float:left;padding: 1px !important;padding-right: 2px !important;max-height: 13px;overflow: hidden;\">\n\t\t\t\t\t\t\t{{ row.get_formatted(\"tax_amount\", doc) }}\n\t\t\t\t\t</div>\n                    <div style=\"clear:both;\"></div>\n\t\t\t\t</div>\n            {% endif %}\n\t\t{%- endfor -%}\n\t</div>\n{% endmacro %}\n\n\n{% macro attach_tax_columns_vertical_lines(is_last) %}\n\t\t{% set columnheight = {'height':\"100%\"} %}\n\t\t{% if not is_last %}\n        \t{% if columnheight.update({'height':\"100%\"}) %} {% endif %}\n        {% endif %}\n        \n\t\t{% set total_len = doc.taxes|length - (doc.taxes|selectattr(\"charge_type\", \"equalto\", \"Actual\")|list)|length %}\n\t\t{% for n in range(1, total_len+1) %}\n                <!-- <div style=\"width: {{ column_widths.tax_rate_column_width }}; text-align: right;padding-right:4px !important;padding-top:3px !important;overflow:hidden;border-left:1px solid gray !important;padding-left:2px !important;float:left;\">&nbsp</div> -->\n\t\t\t\t<div style=\"width: {{ column_widths.tax_amount_column_width }}; text-align: right;padding-right:4px !important;padding-top:3px !important;overflow:hidden;border-left:1px solid gray !important;padding-left:2px !important;float:left;height:{{ columnheight.height }}\">&nbsp</div>               \n        {% endfor %}       \n        <div style=\"width: {{ column_widths.total_amount_column_width }}; text-align: right;padding-right:4px !important;padding-top:3px !important;overflow:hidden;border-left:1px solid gray !important;padding-left:2px !important;float:left;height:{{ columnheight.height }}\">&nbsp</div>       \n        \n\t\t{% if is_last %}\n\t\t\t{% set tax_columns = {'ln':0} %}\n\t\t   \t{% for taxes in doc.taxes %}\n\t\t    \t{% if taxes.charge_type != 'Actual' %}\n\t    \t    \t{% if tax_columns.update({\"ln\":tax_columns.ln + 1}) %} {% endif %}\n\t\t        {% endif %}\n\t    \t{% endfor %}\n            {% if tax_columns.ln == 1 %}\n            \t{% if tax_columns.update({'width':\"34%\"}) %}{% endif %}\n            {% endif %}\n            {% if tax_columns.ln == 2 %}\n            \t{% if tax_columns.update({'width':\"32%\"}) %}{% endif %}\n            {% endif %}            \n        \t<div style=\"background:white !important;position:absolute;height:auto;width:{{ tax_columns.width }};border-top:1px solid gray;bottom:0;right:0;margin-right:1px;margin-left:1px;border-left:1px solid gray;display:flex;padding-bottom:4px;padding-top:4px;padding-right:1px;\">\n            \t{{ do_subtotals() }}\n        \t</div>\n        {% endif %}\n{% endmacro %}\n\n{% macro attach_tax_columns_headers() %}\n\t\t{% for taxes in doc.taxes %}\n        \t{% if taxes.charge_type != 'Actual' %}\n                <!-- <div style=\"width:{{ column_widths.tax_rate_column_width }};vertical-align:middle !important;\">{{ taxes.account_head.split(abbr)[0] }}<br/>(%)</div> -->\n        \t\t<div style=\"width:{{ column_widths.tax_amount_column_width }};vertical-align:middle !important;\">{{ taxes.account_head.split(abbr)[0] }}<br/><span style=\"font-size:10px;\">Amt/Rate(%)</span></div>\n                {% if key_index.update({taxes.account_head:loop.index}) %}{% endif %}\n            {% endif %}\n       {% endfor %}\n       <div style=\"width:{{ column_widths.total_amount_column_width }};vertical-align:middle !important;padding-right:4px !important;float:left;\">Total<br/>(Rs)</div>\n{% endmacro %}\n\n{% macro attach_tax_columns(model, current_item, first) %}\n\t{% set total_amt = {'total':0} %}\n\t{% for tax in doc.taxes %}\n       \t{% if tax.charge_type != 'Actual' %}\n\t    \t{% set i = tax.item_wise_tax_detail|json_load %}\n\t        {% for key, val in i.items() %}\n            \t{% if key == model.item_code %}\n\t                <!-- <div style=\"width: {{ column_widths.tax_rate_column_width }}; text-align: right;padding-right:1px !important;padding-left:1px !important;padding-top:3px !important;overflow:hidden;border-left:1px solid gray !important;padding-left:2px !important;float:left;display:table-cell;\">{{ frappe.utils.fmt_money(val[0]) }}</div> -->\n\t                {% for i in range(key_index[tax.account_head]) %}\n\t                \t{% if loop.last %}\n\t                \t  <div style=\"width: {{ column_widths.tax_amount_column_width }}; text-align: right;padding-right:1px !important;padding-left:1px !important;padding-top:3px !important;overflow:hidden;border-left:1px solid gray !important;padding-left:2px !important;float:left;display:table-cell;\">{{ frappe.utils.fmt_money(val[1]) }}<br/><span style=\"font-size:10px;\">{{ frappe.utils.fmt_money(val[0]) }}%</span></div>\n                          {% if total_amt.update({'total':total_amt.total+val[1]}) %} {% endif %}\n\t                    {% endif %}\n\t                {% endfor %}   \n                {% endif %}\n\t        {% endfor %}\n           {% endif %}\n\t{% endfor %}\n   \t<div style=\"width: {{ column_widths.total_amount_column_width }}; text-align: right;padding-right:1px !important;padding-left:1px !important;padding-top:3px !important;overflow:hidden;border-left:1px solid gray;float:left;display:table-cell;\">\n              \t{{ frappe.utils.fmt_money(model.net_amount+total_amt.total) }}\n    </div>                                         \n{% endmacro %}\n\n\n{% macro insert_vertical_lines(is_last) %}\n      <div style=\"flex:1;display:flex;position:relative;\">\n           <div style=\"width: {{ column_widths.serial_no_column_width }};padding-left:4px !important;padding-top:3px !important;overflow:hidden;float:left;\"></div>\n           <div style=\"width: {{ column_widths.hsn_no_column_width }};padding-left:4px !important;padding-top:3px !important;overflow:hidden;float:left;border-left:1px solid gray;\"></div>                            \n           <div style=\"width: {{ column_widths.description_column_width }};padding-left:4px !important;padding-top:3px !important;overflow:hidden;float:left;border-left:1px solid gray;\"></div>\n           <div style=\"width: {{ column_widths.qty_column_width }}; text-align: right;padding-right:4px !important;padding-top:3px !important;overflow:hidden;border-left:1px solid gray;float:left;\"></div>\n           <div style=\"width: {{ column_widths.rate_column_width }}; text-align: right;padding-right:4px !important;padding-top:3px !important;overflow:hidden;border-left:1px solid gray;float:left;\"></div>\n           <div style=\"width: {{ column_widths.amount_column_width }}; text-align: right;padding-right:4px !important;padding-top:3px !important;overflow:hidden;border-left:1px solid gray;float:left;\"></div>                        \n           {% if taxes_as_columns %}\n              \t{{ attach_tax_columns_vertical_lines(is_last) }}\n           {% endif %}                            \n           <div style=\"clear:both;\"></div>\n     </div>  \n{% endmacro %}\n\n\n{% macro print_taxes_charges() -%}\t\n\t<div style=\"display:flex;width:100%;height:100%;flex-grow:1;\">\n\t    {% set taxes_band_width = {'analysis':\"70%\",'subtotal':\"30%\"} %}\n\t    {% if not print_tax_analysis %}\n\t        {% if taxes_band_width.update({'analysis':\"0%\",'subtotal':\"100%\"}) %} {% endif %}\n\t    {% endif %}\n    \n\t\t{% if print_tax_analysis %}    \n\t\t\t<div style=\"width:{{ taxes_band_width.analysis }};padding-right:10px;\">        \n\t\t\t    \t<div style=\"max-width:50px;float:left;\"><B>TAX BREAKUP</B></div>    \n\t\t\t\t       \t{{ tax_analysis_print_format() }}\n\t\t\t</div>                 \n\t    \t<div style=\"width:{{ taxes_band_width.subtotal }};flex-grow:1;background:#eee !important;\">\n\t    \t\t{{ do_subtotals() }}\n\t\t    </div>        \n\t\t{% endif %}                    \n    </div>\n{%- endmacro %}\n\n<!---------------------------------------------------------------->\n<!-------- END OF CUSTOM MACROS FOR LOCAL USE -------------------->\n<!---------------------------------------------------------------->\n\n<!-- Macro for Header -->\n{% macro setheader() -%}\n{% set header_column_width=20 %}\n{% set value_column_width=80 %}\n<div style=\"width: 100%;height:100%;\">\n\t<div style=\"width:100%;overflow: hidden\">\n    <table style=\"width: 100%;height:100%\">\n        {% if letter_head and not no_letterhead -%}\n        <tr>\n            <td colspan=\"100%\" style=\"width: 100%;padding-bottom: 3px !important;\">\n                {{ letter_head }}\t\n            </td>\n        </tr>\n        <tr><td colspan=\"100%\"><hr style=\"margin-top:0px;margin-bottom:0px;border:none;color:black;background:black;height:1px;\"></hr></td></tr>\n        {%- endif %}\n        <tr style=\"height:100%;\">\n            <td colspan=\"100%\" style=\"width: 100%;padding: 1px !important;\">\n                <div style=\"height: 65px;max-height: 65px;overflow: hidden;background: #eee !important;\">\n                    <table style=\"width: 100%;height:100%;\">\n\t\t\t    \t<tr>\n\t\t\t        \t<td colspan=\"100%\" style=\"width: 100%;padding-top: 3px !important;padding-bottom:3px !important;text-align:right;background:white !important;\">\n\t\t\t\t           \t<div style=\"width:100%;font-size:9px;\">\n\t\t\t                \t<div style=\"float:right;\">\n\t\t\t                    \t\t<span style=\"font-family:wingdings;padding-left:5px;\">o</span>\n\t\t\t                            <span style=\"font-family:ARIAL NARROW;text-transform:uppercase;\">Triplicate for Supplier</span>\n\t\t\t                    </div>\n\t\t\t                    <div style=\"float:right;\">\n\t\t                    \t\t<span style=\"font-family:wingdings;padding-left:5px;\">o</span>\n\t\t\t                        <span style=\"font-family:ARIAL NARROW;text-transform:uppercase;\">Duplicate for Transporter</span>\n\t\t\t                    </div>                                \n\t\t\t                \t<div style=\"float:right;\">\n\t\t\t                    \t<span style=\"font-family:wingdings;\">o</span>\n\t\t\t                        <span style=\"font-family:ARIAL NARROW;text-transform:uppercase;\">Original For Recipient</span>\n\t\t\t                    </div>                                \n\t\t\t                </div>\n\t\t\t            </td>\n        \t\t\t</tr>                    \n                        <tr>\n                            <td style=\"height: 100%;width: 30%;color: black;font-size: 9px;text-transform: uppercase;text-align: left;vertical-align: middle !important; padding-left: 5px !important;\">\n\t                    \t\tTax Payable on Reverse Charge: <b>NO</b>                               \n                                <br/>Page {{ total_pages|length }} of {{ total_pages_as_per_rows }}                                \n                            </td>\t\t\t\t\t\n                            <td style=\"width: 40%;color: black;text-align: center;vertical-align: middle !important;\" rowspan=\"100%\">\n                                <span style=\"font-size: 22px;text-transform:uppercase;\"><B>{{ doc.select_print_heading or \"Tax Invoice\" }}</B></span>\n                            </td>\t\t\t\t\t\n                            <td style=\"height: 100%;width: 30%;color: black;font-size: 12px;text-transform: uppercase;text-align: right;vertical-align: middle !important; padding-right: 5px !important;\">\n                                <B>{{ doc.name[5:] }}<br>Date: {{ doc.get_formatted(\"posting_date\") }}</br> </B>\n                            </td>\t\t\t\t\t\n                        </tr>\n                    </table>\n                </div>\n                <table style=\"border-collapse: collapse;width: 100%;margin-top:2px;line-height:15px;\">\n                    <tr>\n                        <td style=\"width: 50%;vertical-align: middle !important;\">\n                            <table style=\"width: 100%;font-size:14px;\">\n                                <tr> \n                                    <td style=\"width: {{ header_column_width }}%;padding-top:5px !important;color:red;\">\n                                        Name\n                                    </td>\n                                    <td style=\"width: {{ value_column_width }}%;padding-top:5px !important;\">\n                                        <span style=\"text-align: left;text-transform:uppercase;\"><B>{{ doc.customer_name }}</B></span>\n                                    </td>\n                                </tr>\n                                <tr>\n                                \t<td style=\"width: {{ header_column_width }}%;\">\n                                    \t<!-- Intentionally Left Blank -->\n                                    </td>\n                                    <td style=\"width: {{ value_column_width }}%;\">\n                                    \t{% set coname = frappe.db.get_value(\"Customer\", doc.customer, \"company_name\") %}\n                                        {% if coname %}\n                                    \t\t<span style=\"font-size:12px;text-align: left;\"><B>C/O {{ coname }}</B></span>\n                                        {% endif %}\n                                    </td>\n                                </tr>\n                            </table>\n                        </td>\n                    \t<td style=\"vertical-align:middle !important;\">\n                    \t\t<table style=\"width:100%;font-size:14px;\">\n                                <tr> \n                                    <td style=\"width: {{ header_column_width }}%;padding-top:5px !important;color:red;\">\n                                        Name\n                                    </td>\n                                    <td style=\"width: {{ value_column_width }}%;padding-top:5px !important;\">\n                                        <span style=\"text-align: left;text-transform:uppercase;\"><B>{{ doc.customer_name }}</B></span>\n                                    </td>\n                                </tr>\n                                <tr>\n                                \t<td style=\"width: {{ header_column_width }}%;\">\n                                    \t<!-- Intentionally Left Blank -->\n                                    </td>\n                                    <td style=\"width: {{ value_column_width }}%;\">\n                                    \t{% set coname = frappe.db.get_value(\"Customer\", doc.customer, \"company_name\") %}\n                                        {% if coname %}\n                                    \t\t<span style=\"font-size:12px;text-align: left;\"><B>C/O {{ coname }}</B></span>\n                                        {% endif %}\n                                    </td>\n                                </tr>                            \n\t\t                    </table>\n\t                    </td>                        \n                    </tr>\n                    <tr>                    \t\n                        \t<td style=\"width: 50%;padding-bottom: 3px !important;padding-top: 3px !important;\">\n                            <table style=\"width: 100%;font-size:12px;\">\n                                <tr> \n                                    <td style=\"width: {{ header_column_width }}%\">\n                                        <span style=\"color:red;\">Billing Address</span>\n                                    </td>\n                                    <td style=\"width: {{ value_column_width }}%;padding-bottom:3px !important;\">\n                                        <B>{{ doc.address_display }}</B>\n                                    </td>\n                                </tr>\n\t\t\t                    <tr>\n\t\t\t                    \t<td style=\"width: {{ header_column_width }}%;\">\n\t\t\t\t                        \t<span style=\"color:red;\">Contact No</span>\n\t\t\t                        </td>\n\t\t\t                        <td style=\"width: {{ value_column_width }}%;\">\n                                    \t<b>{{ frappe.db.get_value(\"Customer\", doc.customer, \"primary_contact_no\") }}\n\t\t\t                            {% set secondary = frappe.db.get_value(\"Customer\", doc.customer, \"secondary_contact_no\") %}\n\t\t\t                            {% if secondary %}\n\t\t\t                                ,{{ secondary }}\n\t\t\t                            {% endif %}</b>                            \n\t\t\t                        </td>\n\t\t\t                    </tr>                    \n                            </table>\n                        </td>\n                        {% if doc.shipping_address_name %}                        \n                        <td style=\"width: 50%;padding-bottom: 3px !important;padding-top: 3px !important;\">\n                            <table style=\"width: 100%;font-size:12px;\">\n                                <tr> \n                                    <td style=\"width: {{ header_column_width }}%\">\n                                        <span style=\"color:red;\">Delivery Address</span>\n                                    </td>\n                                    <td style=\"width: {{ value_column_width }}%\">\n                                        <B>{{ doc.shipping_address }}</B>\n                                    </td>\n                                </tr>\n                                {% set veh_no = frappe.db.get_value(\"Customer\", doc.customer, \"vehicle_no\") %}\n                                {% if veh_no %}\n\t\t\t                    \t<tr>\n\t\t\t\t                    \t<td style=\"width: {{ header_column_width }}%;\">\n\t\t\t\t\t                        \t<span style=\"color:red;\">Vehicle No</span>\n\t\t\t\t                        </td>\n\t\t\t\t                        <td style=\"width: {{ value_column_width }}%;\">\n\t                                    \t<b>{{ veh_no }}</b>                            \n\t\t\t\t                        </td>\n\t\t\t\t                    </tr>          \n                                {% endif %}\n                            </table>\n                        </td>\n                        {%- endif %}\n                    </tr>\n                <tr><td colspan=\"100%\"><hr style=\"margin-top: 0px;margin-bottom: 0px;padding-bottom:3px !important;\"></hr></td></tr>\t\t\n                <tr>                \n\t                <td colspan=2 style=\"width:100%;padding-bottom: 3px !important;padding-top: 3px !important;\">\n                    \t<div style=\"width:100%;display:flex;\">\n\t               \t\t<div style=\"width:40%;font-size:12px;float:left;\">\n\t               \t\t\t{% if doc.hypothecation %}\n                            <div style=\"width:100%;\">\n\t                   \t\t\t\t<div style=\"color:red;float:left;\">\n\t                       \t\t\t\tHypothecation: \n\t                       \t\t\t</div>\n\t                   \t\t\t\t<div style=\"overflow:hidden;padding-left:10px;\">\n\t                       \t\t\t\t<b>{{ doc.hypothecation }}</b>\n\t                       \t\t\t</div>                        \n                            </div>\n\t              \t\t\t{% endif %}\n\t               \t\t\t{% if doc.reference %}\n                            <div style=\"width:100%;\">\n\t                   \t\t\t\t<div style=\"color:red;float:left;\">\n\t                       \t\t\t\tHYP Reference: \n\t                       \t\t\t</div>\n\t                   \t\t\t\t<div style=\"padding-left:10px;float:left;\">\n\t                       \t\t\t\t<b>{{ doc.reference }}</b>\n\t                       \t\t\t</div>                        \n                            </div>\n\t              \t\t\t{% endif %}                            \n\t                    </div>\n\t               \t\t<div style=\"width:60%;font-size:12px;\">\n\t               \t\t\t{% if doc.purchase_order_no %}\n                            <div style=\"width:100%;\">\n\t                   \t\t\t\t<div style=\"color:red;float:left;\">\n\t                       \t\t\t\tPurchase Order No: \n\t                       \t\t\t</div>\n\t                   \t\t\t\t<div style=\"overflow:hidden;padding-left:10px;\">\n\t                       \t\t\t\t<b>{{ doc.purchase_order_no }}</b>\n\t                       \t\t\t</div>                        \n                            </div>\n                            <div style=\"width:100%;\">\n\t                   \t\t\t\t<div style=\"color:red;float:left;\">\n\t                       \t\t\t\tPurchase Order Date: \n\t                       \t\t\t</div>\n\t                   \t\t\t\t<div style=\"float:left;padding-left:10px;\">\n\t                       \t\t\t\t<b>{{ doc.purchase_order_date }}</b>\n\t                       \t\t\t</div>                        \n                            </div>\n\t              \t\t\t{% endif %}\n                       </div>\n                       </div>\n\t                </td>                    \n                </tr>\n                </table> \n            </td>\n        </tr>\n    </table>\n    </div>\n    <div style=\"width:100%;height: 40px !important;bottom: 0;position: sticky;margin-top:2px;font-size: 11px;text-transform:uppercase;\">\n    <!-- <div style=\"height: 100%;width: 100%;word-wrap:break-word;\"> -->\n        <!-- Column Headings -->\n    \t<div style=\"width: 100%;background: #eee !important;min-height: 15%;height: 40px;font-weight: 600;border-bottom: 1px solid #eee;text-align:center;display:flex;align-items:center;border-bottom:1px solid gray;\">\n            <div style=\"width: {{ column_widths.serial_no_column_width }};vertical-align:middle !important;\">Sr</div>\n            <div style=\"width: {{ column_widths.hsn_no_column_width }};vertical-align:middle !important;\">HSN<br/>Code</div>\n            <div style=\"width: {{ column_widths.description_column_width }};vertical-align:middle !important;\">Item Name</div>\n            <div style=\"width: {{ column_widths.qty_column_width }};vertical-align:middle !important;\">Qty</div>\n            <div style=\"width: {{ column_widths.rate_column_width }};vertical-align:middle !important;\">Rate</div>\n            <div style=\"width: {{ column_widths.amount_column_width }};vertical-align:middle !important;\">Amount</div>\n            {% if taxes_as_columns %}\n            \t{{ attach_tax_columns_headers() }}\n            {% endif %}                        \n        </div>\n    <!-- </div> -->\n    </div>\n</div>\n{%- endmacro %}\n<!-- End Macro -->\n\n\n<!-- Footer Macro -->\n{% macro setfooter(islast) -%}\n<!-- Important Note: Using Position Relative Here and Position Absolute in Table \n Would Anchor Table to the Bottom of DIV -->\n<div style=\"height:100%;width:100%;position:relative;display: flex;flex-direction:column;\">\n\t\t<!-- CONTINUED BAND -->\n\t\t{% if not islast %}\n\t\t<div style=\"width: 100%;padding-top: 20px;padding-bottom:20px;\">\n\t\t\t<table style=\"width: 100%;\">\n\t        \t<tr>\n\t\t            <td style=\"text-align:right;\" colspan=\"100%\">\n\t\t                <b>Continued ... </b>\n\t\t            </td>\n\t\t        </tr>\n\t\t\t</table>\n\t\t</div>\n\t\t{% endif %}\n        <!-- END CONTINUED BAND -->\n                \n        <!-- TAXES BAND -->\n\t\t{% if islast  and doc.taxes|length > 0 %}\n\t\t<div style=\"width: 100%;padding-top:2px;display:flex;flex-direction:column;\">\n\t\t\t\t{{ print_taxes_charges() }}\n        </div>\n\t\t{% endif %}\n        <!-- END TAXES BAND -->\n\n\t\t<!-- TOTAL BAND -->\n\t\t{% if islast %}\n        <div style=\"width: 100%;min-height:35px;background:#eee !important;font-size:11px;\">\n        \t<div style=\"float:left;width:60%;height:100%;padding-top:5px;\">\n\t\t\t\t\t{{ frappe.utils.money_in_words(doc.grand_total) }}\n\t\t\t</div>\n            <div style=\"width:40%;font-size:14px;vertical-align: middle !important;text-align:right;float:left;height:100%;padding-top:5px;padding-right:1px;\">\n                \t<span style=\"text-transform:uppercase;\">Total</span> <b>{{ doc.get_formatted(\"grand_total\") }}</b>\n            </div>\n        </div>\n\t\t{% endif %}\n        <!-- END TOTAL BAND -->\n        \n        \n     {% set lower_header_height = \"60%\" %}\n     {% if not (islast and doc.taxes|length > 0) %}\n         {% set lower_header_height = \"60%\" %}\n     {% endif %}\n     <div style=\"width: 100%;flex-grow:1;\">\n     \t\t<hr style=\"margin-top:0 !important;margin-bottom:0 !important;border-top:1px solid gray;\"></hr>\n            <div>\n\t            <div style=\"width:65%;float: left;padding-right:5px;\">\n\t\t\t\t\t\t<div style=\"width:100%;font-size:10px;background: #eee !important;\">\n                        \t<b>Terms & Conditions</b>\n                        </div>\t\t\t\t\t   \n\t\t\t\t\t\t<div style=\"font-size: 10px;\">\n\t\t\t\t\t\t\t{{ doc.terms or \"\" }}\n\t\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t            <div style=\"margin-left:10px;overflow:hidden;font-size:11px;\">\n                \t<div>\n                    \t<div style=\"width:100%;background:#eee !important;padding-left:5px;\">\n\t                    \t<span style=\"font-size:10px;\"><b>Company's Registration Details</b></span>\n                        </div>\n\t\t\t\t\t\t<div style=\"padding-left:5px;\">\n\t\t\t\t\t\t\t{{ frappe.db.get_value(\"Company\", doc.company, \"registration_details\") or \"\" }} \n\t\t\t\t\t\t</div>          \n                    </div>\n                    <div style=\"padding-top:10px;\">\n                    \t<div style=\"background:#eee !important;width:100%;padding-left:5px;\">\n                    \t\t<b>Transportation Details</b>\n                        </div>\n                        <div style=\"padding-left:5px;\">\n                        \tVehicle No: {{ doc.vehicle_no or \"\" }}\n                        \t<br/>Date & Time of Supply: {{ doc.date_time_of_supply or \"\" }}\n                        \t<br/>Place of Supply: {{ doc.place_of_supply or \"\" }}\n                       </div>\n                    </div>\n\t            </div>\n            </div>\n     </div>\n     <div style=\"width: 100%;bottom:0px;position:absolute;font-size:12px;\">    \n        <div><hr style=\"margin-top:0 !important;margin-bottom:0 !important;border-top:1px solid gray;\"></hr></div>\n     \t<table style=\"width:100%;min-height:60px;\">\n\t        <tr style=\"height: 35%;background: #eee !important;\">\n                <td style=\"height: 20%;width: 33%; text-align: left;\">\n                      <!-- Intentionally Left Blank -->\n                </td>\n\t            <td style=\"height: 20%;width: 34%; text-align: center;\">\n\t                <!-- Intentionally Left Blank -->\n\t            </td>                                            \n\t            <td style=\"height: 100%;width: 33%; text-align: right;padding-bottom:25px !important;\">\n\t                <span style=\"padding-right:10px;\">For {{ doc.company }}</span>\n\t            </td>\n\t        </tr>\n\t        <tr style=\"background: #eee !important;padding-bottom:2px;\">\n\t            <td style=\"height: 20%;width: 33%; text-align: left;padding-left: 10px !important;\">\n\t                Receivers Signature\n\t            </td>            \n\t            <td style=\"height: 20%;width: 34%; text-align: center;\">\n\t                E. & O.E.\n\t            </td>                            \n\t            <td style=\"height: 20%;width: 33%; text-align: right;\" colspan=\"100%\">\n\t                <span style=\"padding-right:10px;\">Manager</span>\n\t            </td>\n\t        </tr>            \n         </table>\n     </div>\n    \n</div>\n{%- endmacro %}\n<!-- End Macro -->\n\n{% macro print_serialno(itemcode, serialnos) %}\n       {% if serialnos != None -%}\n           \t<div style=\"color:brown;font-size:11px;margin-left:5px;\">\n           \t{% set item_is_vehicle = frappe.db.get_value(\"Item\",itemcode,\"is_vehicle\") %}\n            {% if item_is_vehicle %}\n                  \tChassis No: \n            {% else %}\n                    Serial No:\n            {% endif %}                                                                                                \n            {%- for serial in serialnos.split('\\n') -%}   \n                {% if serial != '' %}\n                   {% set serialdoc = frappe.get_doc(\"Serial No\",serial) %}\n\t               <p style=\"display:inline;\">\n\t                      \t{{ serialdoc.serial_no }}\n\t               </p>\n\t               {% if serialdoc.is_vehicle %}\n                   \t\t <br/>\n                   \t\t Engine No: {{ serialdoc.engine_no }} \n\t\t\t\t\t\t <br/>                   \n\t\t               \t Key No: {{ serialdoc.key_no }}                         \n\t\t\t\t   {% endif %}\n\t\t        {%- endif %}\n\t\t    {%- endfor %}\n            </div>\n\t\t{%- endif %}\t\n{% endmacro %}\n\n\n{% macro do_body() -%}\n\t\t\t\t<!-- Inner Body Container -->\n\t            <div style=\"width: 100%;height: 100%;font-size:12px;display:flex;flex-direction:column;\">\n\n\t\t\t\t    {# set items = doc.items|sort(attribute='item_code') #}\n                    {% set items = doc.items %}\n                   \n                    {%- for row in items -%}\n\n                        {% if loop.index % 2 == 0 -%}\n                        <!-- Do Something / Alternative Rows -->\t   \n                        {%- endif %}\n\n                        <div style=\"min-height: {{ row_height }};height: {{ row_height }};border-bottom:1px solid #eee;overflow:hidden;display:flex;width:100%;\">\n                            <div style=\"width: {{ column_widths.serial_no_column_width }};padding-left:1px !important;padding-top:3px !important;overflow:hidden;float:left;display:table-cell;\">\n                            \t\t{{ loop.index }} \n                            </div>\n                            <div style=\"width: {{ column_widths.hsn_no_column_width }};padding-left:1px !important;padding-top:3px !important;overflow:hidden;float:left;border-left:1px solid gray;display:table-cell;\">\n                            \t\t{{ frappe.db.get_value(\"Item\",row.item_code,\"gst_hsn_code\") }} \n                            </div>                            \n                            <div style=\"width: {{ column_widths.description_column_width }};padding-left:1px !important;padding-top:3px !important;overflow:hidden;float:left;border-left:1px solid gray;display:table-cell;\"> \n                            \t<div style=\"height: {{ row_height }};\">\n                                    {% if row.brand %}\n\t                                <div style=\"display:inline;\">\n\t                                    {{ row.brand }} \n\t                                </div>\n                                    {% endif %}\n\t                                <div style=\"display:inline;\">\n\t                                \t{{ row.item_name }}\n\t\t                            </div>\n                                    <div style=\"display:inline;\">\n                                    \t<div style=\"color:blue;margin-left:5px;\">\n                                    \t\t<I>{{ row.description }}</I>\n                                        </div>\n                                    </div>\n                                                                       \n                                    <!-- SALES INVOICE ROW SERIAL NO -->\n                                    {{ print_serialno(row.item_code, row.serial_no) }}\n                                    {% if row.is_vehicle == 1 %}\n                                    \t<div style=\"color:brown;font-size:11px;margin-left:5px;\">\n                                    \tBattery No: {{ row.battery_serial_no }}\n                                        <br/>\n                                        Service Book No: {{ row.service_book_no }}\n                                        </div>\n                                    {% endif %}\n                                    <!-- SALES INVOICE ROW SERIAL NO -->\n                                    \n                                    <!-- SALES INVOICE PACKED ITEM SERIAL NO -->\n                                    {% if doc.packed_items %}\n                                       <div style=\"margin-left:10px;\">\n                                    \t{% for packs in doc.packed_items %}\n                                        \t{% if packs.parent_item == row.item_code %}\n                                            <div>\n\t\t\t\t                                <div style=\"display:inline;\">\n\t\t\t\t                                \t{{ packs.item_name }}\n\t\t\t\t\t                            </div>\n\t\t\t                                    <div style=\"display:inline;\">\n\t\t\t                                    \t<I><span style=\"color:blue;\">&nbsp - &nbsp {{ packs.description }} </span></I>\n\t\t\t                                    </div>\n\t\t\t                                    <div style=\"display:inline;\">\n\t\t\t                                    \t<I><span style=\"color:blue;\">&nbsp - &nbsp {{ packs.get_formatted(\"qty\", doc) }} {{ packs.uom or packs.stock_uom }} </span></I>\n\t\t\t                                    </div>          \n                                                {{ print_serialno(packs.item_code, packs.serial_no) }}\n\t\t                                    </div>\t\n                                            {% endif %}\n                                        {% endfor %}\n                                      </div>\n                                    {% endif %}\n                                    <!-- SALES INVOICE PACKED ITEM SERIAL NO -->\n                                    \n                                    <!-- PRINT REMARKS -->\n                                    {% if row.remarks %}\n                                    <span style=\"font-size:9px;\">                                    \n                                        <div style=\"width:100%;\">\n                                        \t<div style=\"float:left;margin-left:5px;\">\n                                        \t\tRemarks:\n                                            </div>\n                                            <div style=\"width:85%;float:left;\">\n                                            \t{{ row.remarks }}\n                                            </div>\n                                       </div>\n                                    </span>                                       \n                                    {% endif %}\n                                    \n                                </div>\n                            </div>\n                            \n                            <div style=\"width: {{ column_widths.qty_column_width }}; text-align: right;padding-right:1px !important;padding-left:1px !important;padding-top:3px !important;overflow:hidden;border-left:1px solid gray;float:left;display:table-cell;\">\n                                \t{{ row.get_formatted(\"qty\", doc) }} {{ row.uom or row.stock_uom }}\n                            </div>\n                            <div style=\"width: {{ column_widths.rate_column_width }}; text-align: right;padding-right:1px !important;padding-left:1px !important;padding-top:3px !important;overflow:hidden;border-left:1px solid gray;float:left;display:table-cell;\">\n                                \t{{ frappe.utils.fmt_money(row.net_rate) }}\n                            </div>\n                            <div style=\"width: {{ column_widths.amount_column_width }}; text-align: right;padding-right:1px !important;padding-left:1px !important;padding-top:3px !important;overflow:hidden;border-left:1px solid gray;float:left;display:table-cell;\">\n                                \t{{ frappe.utils.fmt_money(row.net_amount) }}\n                            </div>     \n            \t\t\t\t{% if taxes_as_columns %}\n            \t\t\t\t\t{{ attach_tax_columns(row,current_item,loop.first) }}\n            \t\t\t\t{% endif %}                                                                                    \n                            <div style=\"clear:both;\"></div>\n                        </div>\n\n\t                <!-- Page Break Logic Here -->\n\t                {% if loop.index % display_rows_per_page == 0  and loop.index < doc.items|length %}\n\t\t                <!-- Fill Empty Space -->\n                        {{ insert_vertical_lines(false) }}\n                        <div><hr style=\"margin-top:0 !important;margin-bottom:0 !important;border-top:1px solid gray;\"></hr></div>\n                        \n\t\t\t\t\t\t<!-- Need to Inner Body Container Used Above -->\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<!-- Page Break -->\n\t\t\t\t\t\t\t{{ insert_page_break(true) }}\n                            \n\t\t\t\t\t\t\t<!-- Inner Body Container -->\n\t\t\t            \t<div style=\"width: 100%;height: 100%;font-size:12px;display:flex;flex-direction:column;\">\n\t                {% endif %}\n                    <!-- End Page Break Logic -->\n                \n                {% endfor %}\n\n                <!-- Fill Empty Space -->\n                {{ insert_vertical_lines(true) }}\n\t\t\t\t<div><hr style=\"margin-top:0 !important;margin-bottom:0 !important;border-top:1px solid gray;\"></hr></div>\n                \n                <!-- End Inner Body Container -->\n                </div>\n{%- endmacro %}\n\n<!--------------------------------------------------------------------------------------------------->\n<!-- Don't Edit the Following Blocks -->\n<!-- Instead Use The Macros Above -->\n<!--------------------------------------------------------------------------------------------------->\n\n\n{% macro insert_page_break(test_condition) -%}\n\t{% if test_condition %} \n\n\t\t                <!-- Fill Empty Space -->\n\t\t                <!-- <div style=\"height: 100%\"></div> -->\n\n\t\t\t<!-- End Body Container -->\n\t\t        </div>\n\n\t\t    <!-- End Main Body Div -->  \n\t\t    </div>\n\n\t\t    <!-- Set Footer -->\n\t\t    <div style=\"max-height: {{ max_footer_height }};height: {{ footer_height }};background: {{ footer_background }};;overflow: hidden;display:grid;min-height:200px;flex-grow:0.18;\">\n\t\t\t\t<div style=\"width: 100%;height: 100%;\"> \n\t\t\t\t\t{{ setfooter(false) }}\n\t\t\t\t</div>\n\t\t    </div>\n\n\n\t\t<!-- End Main Div -->\n\t\t</div>\n\n\n\t\t<!-- PAGE BREAK -->\n\t\t<div class=\"page-break\"></div> <!-- Seems to be working in Chrome Ver: 38.0.2125.111 & Chrome 43 -->\n\n\t\t<!-- Logic to Count Total Number of Pages -->\n\t\t{% if total_pages.append('1') %} {% endif %}\t\n\n\t\t<!-- Start Another Main Div Tag -->\n\t\t<div class=\"page-preview\" style=\"height: {{ div_page_height }};max-height: {{ div_max_page_height }};display:flex !important;flex-direction:column;\">    \n\n\t\t    <!-- Set New Header -->\n\t\t    <div style=\"max-height: {{ max_header_height }};height: {{ header_height }};background: {{ header_background }};overflow: hidden;\">\n\t\t\t\t<div style=\"width: 100%;height:100%;\">\n\t\t\t\t\t{{ setheader() }}\n\t\t\t\t</div>\n\t\t    </div>\n\n\n\t\t    <!-- Start a New Body -->\n\t\t    <div style=\"max-height: {{ max_body_height }};height: {{ body_height }};background: {{ body_background }};overflow: hidden;flex:1;display:grid;\"> \n\n\t\t\t\t<!-- New Body Container -->\n\t\t\t\t<div style=\"width:100%;height: 100%;\">\n\n\t{% endif %}\n{%- endmacro %}\n\n<!-- Set Global Default font -->\n<span style=\"font-family:{{ global_default_font }};font-size:10px;\">\n\n<!-- Main Div Tag -->\n<div class=\"page-preview\" style=\"height: {{ page_size.div_page_height }};max-height: {{ div_max_page_height }};display:flex !important;flex-direction:column;\">\n\t<!-- Logic to Count Total Number of Pages -->\n\t{% set total_pages = [1] %}\n\n    <!-- Set Header -->\n    <div style=\"max-height: {{ max_header_height }};height: {{ header_height }};background: {{ header_background }};overflow: hidden;\">\n\t\t<div style=\"width: 100%;height:100%;\">\n\t\t\t{{ setheader() }}\n\t\t</div>\n    </div>\n\n    <!-- Set Body -->\n    <!-- Main Body Tag -->\n    <div style=\"max-height: {{ max_body_height }};height: {{ body_height }};background: {{ body_background }};overflow: hidden;flex:1;display:grid;\"> \n        <!-- Body Container -->\n        <div style=\"width:100%;height: 100%;\">\n        \n        \t{{ do_body() }}\n\t\n        <!-- End Body Container Div -->\n        </div>\n\n        <!-- End Main Body Div -->            \n    </div>\n\n\n    <!-- Set last Footer -->\n    <div style=\"max-height: {{ max_footer_height }};height: {{ footer_height }};background: {{ footer_background }};;overflow: hidden;display:grid;min-height:200px;flex-grow:0.18;\">\n\t\t<div style=\"width: 100%;height: 100%;\"> \n\t\t\t{{ setfooter(true) }}\n\t\t</div>\n    </div>\n\n</div>\n<!-- End Font -->\n</span>", 
  "line_breaks": 0, 
  "modified": "2017-10-07 12:15:27.345646", 
  "module": "Accounts", 
  "name": "Sales Invoice Standard", 
  "print_format_builder": 0, 
  "print_format_type": "Server", 
  "show_section_headings": 0, 
  "standard": "No"
 }, 
 {
  "align_labels_left": 0, 
  "css": null, 
  "custom_format": 1, 
  "disabled": 0, 
  "doc_type": "Payment Entry", 
  "docstatus": 0, 
  "doctype": "Print Format", 
  "font": "Default", 
  "format_data": null, 
  "html": "{% set display_rows_per_page = 3 %}\n{% set row_height = 40 %}\n{% set div_page_height = \"5.25in\" %}\n{% set div_max_page_height = \"5.25in\" %}\n{% set min_page_height = \"5.25in\" %}\n{% set min_page_width = \"8.3in\" %}\n{% set max_page_height = \"11.69in\" %}\n{% set max_page_width = \"8.3in\" %}\n{% set preferred_page_height = \"11.69in\" %}\n{% set preferred_page_width = \"8.3in\" %}\n{% set footer_background = \"transparent\" %}\n{% set header_background = \"transparent\" %}\n{% set body_background = \"transparent\" %}\n{% set header_height = \"45%\" %}\n{% set footer_height = \"20%\" %}\n{% set body_height = \"initial\" %}\n{% set page_padding = \"1cm\" %}\n\n\n\n<style>\n    body{\n        min-height:100% /* force the BODY element to match the height of the HTML element */\n    }\n    .print-format td {\n        padding: 0px !important;\n    }\n    .print-format {\n        height: 100%;\n        background-color: initial;\n        box-shadow: initial;\n        max-width: initial;\n        min-height: initial;\n        margin: initial;\n        padding: initial !important;        \n    }\n    .print-format-gutter {\n        height: 100%;\n    }\n    @media screen {\n        .page-preview {\n            min-height: {{ min_page_height }} !important;\n            max-width: {{ max_page_width }} !important;\n            padding: {{ page_padding }};\n            background-color: white;\n            box-shadow: 0px 0px 9px rgba(0,0,0,0.5);\n            margin: auto;\n            display: table !important;\n            width: 100%;\n        }\n    }\n    @media print {   \n    \thtml{\n\t        height:100%;\n\t        position:relative\n\t    }    \n    \t@page {\n            //size: A5 landscape;\n            margin: {{ page_padding }};\n        }\n        body {\n            height: 100%;\n            -webkit-print-color-adjust: exact !important;\n        }\n        .page-preview {\n            height: 100%;\n            width: 100%;\n            max-height: {{ max_page_height }}\n            display: table;\n        }\n        body .img {\n            width: auto !important;\n            height: auto !important;\n            max-width: auto !important;\n        }\n    }\n</style>\n\n\n\n<!-- Macro for Header -->\n{% macro setheader() -%}\n<div style=\"width: 100%;height:100%;\">\n    <table style=\"width: 100%;height:100%\">\n        {% if letter_head and not no_letterhead -%}\n        <tr>\n            <td colspan=\"100%\" style=\"width: 100%;padding-bottom: 3px !important;background:white !important;\">\n                {{ letter_head }}\t\n            </td>\n        </tr>\n        <tr><td colspan=\"100%\"><hr style=\"margin-top:0px;margin-bottom:0px;border:none;color:black;background:black;height:1px;\"></hr></td></tr>\n        {%- endif %}\n        <tr style=\"height:100%;\">\n            <td colspan=\"100%\" style=\"width: 100%;padding: 0px !important;\">\n                <div style=\"height:65px;max-height: 65px;overflow: hidden;padding-top:3px;background: #eee !important;padding-bottom: 3px;\">\n                    <table style=\"width: 100%;height:100%;\">\n                        <tr>\n                            <td style=\"height: 100%;width: 20%;color: black;font-size: 12px;text-transform: uppercase;text-align: left;vertical-align: middle !important;padding-left:5px !important;\">\n                                <B>{{ doc.name }}</B>\n                            </td>\t\t\t\t\t\n                            <td style=\"width: 60%;color: black;text-align: center;vertical-align: middle !important;\">\n                                <span style=\"font-size: 22px;text-transform:uppercase;\"><B>{{ doc.select_print_heading or \"Receipt\" }}</B></span>\n                            </td>\t\t\t\t\t\n                            <td style=\"height: 100%;width: 20%;color: black;font-size: 12px;text-transform: uppercase;text-align: right;vertical-align: middle !important;padding-right:5px !important;\">\n                                <B>Date: {{ doc.get_formatted(\"posting_date\") }}</B>\n                            </td>\t\t\t\t\t\n                        </tr>\n                    </table>\n                </div>\n                <table style=\"border-collapse: collapse;width: 100%;margin-top:10px;margin-left:5px;margin-right:5px;\">\n                    <tr>\n                        <td style=\"width: 40%;vertical-align: center;\">\n                            <table style=\"width: 100%;font-size:13px;\">\n                                <tr> \n                                    <td style=\"width: 14%;\">\n                                        <span style=\"color:red;font-size: 13px;\">Name</span>\n                                    </td>\n                                    <td style=\"width: 100%\">\n                                        <span style=\"font-size: 13px;text-align: left;\"><B> {{ doc.party_name }} </B></span>\n                                    \t{% set coname = frappe.db.get_value(\"Customer\", doc.party, \"company_name\") %}\n                                        {% if coname %}\n                                    \t\t<span style=\"font-size:12px;text-align: left;\"><br/><B>C/O {{ coname }}</B></span>\n                                        {% endif %}                                        \n                                        <span style=\"font-size: 13px;text-align: left;\"><br/>Phone:{{ frappe.db.get_value(\"Customer\",doc.party,\"primary_contact_no\") }}</span>\n                                        \t{% set sec=frappe.db.get_value(\"Customer\",doc.party,\"secondary_contact_no\") %}\n                                        \t{% if sec %}\n\t                                        \t,{{ sec }}\n    \t                                    {% endif %}\n                                        </span>\n                                    </td>\n                                </tr>\n                            </table>\n                        </td>\n                        <td style=\"width: 100%;\" rowspan=\"100%\">\n                            {% if doc.party_address -%}\n                            <table style=\"width: 100%;font-size:13px;\">\n                                <tr> \n                                    <td style=\"width: 15%\">\n                                        <span style=\"color:red;\">Address</span>\n                                    </td>\n                                    <td style=\"width: 100%\">\n                                        <B>{{ doc.address }}</B>\n                                    </td>\n                                </tr>\n                            </table>\n                            {%- endif %}\n                        </td>                        \n                    </tr>\n                </table>\n            </td>\n        </tr>\n    </table>\n</div>\n{%- endmacro %}\n<!-- End Macro -->\n\n\n<!-- Footer Macro -->\n{% macro setfooter(islast) -%}\n<!-- Important Note: Using Position Relative Here and Position Absolute in Table \n Would Anchor Table to the Bottom of DIV -->\n<div style=\"height:100%;width:100%;position:relative;\">       \n     <div style=\"width: 100%;background: #eee !important;height:60%;max-height:60%;bottom:0px;position:absolute;\">\n\t     <table style=\"width: 100%;height: 100%;\">\n         \t<tr><td colspan=\"100%\"><hr style=\"margin-top:0px;margin-bottom:0px;border:none;color:black;background:black;height:1px;\"></hr></td></tr>\n\t        <tr style=\"height: 35%;\">\n                <td style=\"width:50%;text-align:left;\"><span style=\"padding-left:10px;\">Cheque Payment(s) are Subject to Realization</span></td> \n\t            <td style=\"height: 100%;width: 100%; text-align: right;\">\n\t                <span style=\"padding-right:10px;\">For {{ doc.company }}</span>\n\t            </td>\n\t        </tr>\n\t        <tr>\n\t            <td style=\"height: 20%;width: 100%; text-align: right;\" colspan=\"100%\">\n\t                <span style=\"padding-right:10px;\">Manager</span>\n\t            </td>\n\t        </tr>\n\t    </table>\n    </div>\n</div>\n{%- endmacro %}\n<!-- End Macro -->\n\n\n{% macro do_body() -%}\t\t\n\t<table style=\"width:100%;height:100%;margin-top:20px;margin-left:5px;margin-right:5px;\">\n    \t<tr>\n        \t<td style=\"width:70%;padding-bottom: 20px !important;\">\n            \tReceived with Thanks <b> {{ doc.in_words }} </b>\n            </td>\n        \t<td style=\"width:30%;height:100%;vertical-align:middle !important;text-align:right;padding-right:20px !important;\" rowspan=\"100%\">\n            \t<span style=\"font-size:16px;font-weight:800;\"> {{ doc.get_formatted(\"paid_amount\") }} </span>\n            </td>            \n        </tr>\n        \t{% set base_mode = frappe.db.get_value(\"Mode of Payment\", doc.mode_of_payment, \"base_mode\") %}\n        \t<tr><td style=\"padding-top:40px !important;\">Mode of Payment: <b>{{ base_mode }}</b></td></tr>\n            {% if doc.base_mode != \"Cash\" %}\n            \t{% if doc.reference_no %}\n            \t\t<tr><td>Instrument/Batch No: {{ doc.reference_no }}</td></tr>\n                {% endif %}\n                {% if doc.cheque_bank %}\n                \t<tr><td>Instrument Bank : {{ doc.cheque_bank }}</td></tr>\n                {% endif %}\n                {% if doc.reference_date %}\n                \t<tr><td>Instrument Date: {{ doc.get_formatted(\"reference_date\") }}</td></tr>\n                {% endif %}\n            {% endif %}\n    </table>\n{%- endmacro %}\n\n<!--------------------------------------------------------------------------------------------------->\n<!-- Don't Edit the Following Blocks -->\n<!-- Instead Use The Macros Above -->\n<!--------------------------------------------------------------------------------------------------->\n\n\n{% macro insert_page_break(test_condition) -%}\n\t{% if test_condition %} \n\n\t\t                <!-- Fill Empty Space -->\n\t\t                <div style=\"height: 100%\"></div>\n\n\t\t\t<!-- End Body Container -->\n\t\t        </div>\n\n\t\t    <!-- End Main Body Div -->  \n\t\t    </div>\n\n\t\t    <!-- Set Footer -->\n\t\t    <div style=\"max-height: {{ footer_height }};height: {{ footer_height }};background: {{ footer_background }};;overflow: hidden;\">\n\t\t        {{ setfooter(false) }}\n\t\t    </div>\n\n\n\t\t<!-- End Main Div -->\n\t\t</div>\n\n\n\t\t<!-- PAGE BREAK -->\n\t\t<div class=\"page-break\"></div> <!-- Seems to be working in Chrome Ver: 38.0.2125.111 & Chrome 43 -->\n\n\t\t<!-- Logic to Count Total Number of Pages -->\n\t\t{% if total_pages.append('1') %} {% endif %}\t\n\n\t\t<!-- Start Another Main Div Tag -->\n\t\t<div class=\"page-preview\" style=\"height: {{ div_page_height }};max-height: {{ div_max_page_height }};\">    \n\n\t\t    <!-- Set New Header -->\n\t\t    <div style=\"max-height: {{ header_height }};height: {{ header_height }};background: {{ header_background }};overflow: hidden;\">\n\t\t\t\t<div style=\"width: 100%;height:100%;\">\n\t\t\t\t\t{{ setheader() }}\n\t\t\t\t</div>\n\t\t    </div>\n\n\n\t\t    <!-- Start a New Body -->\n\t\t    <div style=\"max-height: {{ body_height }};height: {{ body_height }};background: {{ body_background }};overflow: hidden;\">\n\n\t\t        <!-- New Body Container -->\n\t\t        <div style=\"width:100%;height: 100%;\">\t\n\n\t{% endif %}\n{%- endmacro %}\n\n\n<!-- Main Div Tag -->\n<div class=\"page-preview\" style=\"height: {{ div_page_height }};max-height: {{ div_max_page_height }};display:flex !important;flex-direction:column;\">\n\n\t<!-- Logic to Count Total Number of Pages -->\n\t{% set total_pages = [1] %}\n\n\t<!-- Dummy Div for Background -->\n    <div style=\"height:100%;width:100%;display:flex;flex-direction:column;flex:1;\">\n\n    <!-- Set Header -->\n    <div style=\"background: {{ header_background }};padding-bottom:20px;\">\n\t\t<div style=\"width: 100%;height:100%;\">\n\t\t\t{{ setheader() }}\n\t\t</div>\n    </div>\n\n    <!-- Set Body -->\n    <!-- Main Body Tag -->\n    <div style=\"max-height: {{ body_height }};height: {{ body_height }};background: {{ body_background }};overflow: hidden;flex-grow:1;\">\n\n        <!-- Body Container -->\n        <div style=\"width:100%;height: 100%;\">\n        \n        \t{{ do_body() }}\n\t\n        <!-- End Body Container Div -->\n        </div>\n\n        <!-- End Main Body Div -->            \n    </div>\n\n\n    <!-- Set last Footer -->\n    <div style=\"max-height: {{ footer_height }};height: {{ footer_height }};background: {{ footer_background }};;overflow: hidden;\">\n\t\t<div style=\"width: 100%;height: 100%;\"> \n\t\t\t{{ setfooter(true) }}\n\t\t</div>\n    </div>\n    \n    </div>\n\n</div>\n", 
  "line_breaks": 0, 
  "modified": "2017-08-27 19:13:08.651681", 
  "module": "Accounts", 
  "name": "Receipt Print Format", 
  "print_format_builder": 0, 
  "print_format_type": "Server", 
  "show_section_headings": 0, 
  "standard": "No"
 }, 
 {
  "align_labels_left": 0, 
  "css": null, 
  "custom_format": 1, 
  "disabled": 0, 
  "doc_type": "Quotation", 
  "docstatus": 0, 
  "doctype": "Print Format", 
  "font": "Default", 
  "format_data": null, 
  "html": "<!-- TESTED ON CHROME VER 57.0.2987.133 -->\n{% set display_rows_per_page = 8 %}\n{% set row_height = \"auto\" %}\n{% set div_page_height = \"100%\" %}\n{% set div_max_page_height = \"100%\" %}\n{% set min_page_height = \"11.69in\" %}\n{% set min_page_width = \"8.26in\" %}\n{% set max_page_height = \"11.69in\" %}\n{% set max_page_width = \"8.26in\" %}\n{% set preferred_page_height = \"11.69in\" %}\n{% set preferred_page_width = \"8.26in\" %}\n{% set footer_background = \"transparent\" %}\n{% set header_background = \"transparent\" %}\n{% set body_background = \"transparent\" %}\n{% set header_height = \"initial\" %}\n{% set max_header_height = \"initial\" %}\n{% set footer_height = \"initial\" %}\n{% set max_footer_height = \"initial\" %}\n{% set body_height = \"initial\" %}\n{% set max_body_height = \"100%\" %}\n{% set page_padding = \"1cm\" %}\n{% set total_pages_as_per_rows = (doc.items|length / display_rows_per_page)|int %}\n{% if (doc.items|length % display_rows_per_page|int)|int != 0 %}\n    {% set total_pages_as_per_rows = total_pages_as_per_rows + 1 %}\n{% endif %}\n<!-- FLAG to Enable/Disable Tax Analysis -->\n{% set print_tax_analysis = true %}\n{% set global_default_font = \"Monospace\" %}\n{% set serial_no_column_width = \"4%\" %}\n{% set description_column_width = \"58%\" %}\n{% set qty_column_width = \"10%\" %}\n{% set rate_column_width = \"14%\" %}\n{% set amount_column_width = \"14%\" %}        \n{% set tax_line_counter = {'tl':1} %}\n{% set tax_line_max_length = 8 %}\n{% set tax_analysis_div_width = \"50%\" %}\n{% set tax_analysis_row_left = \"60%\" %} \n{% set tax_analysis_row_right = \"40%\" %}\n{% set table_border = \"1px solid gray !important\" %}\n\n<!-- DONT EDIT STYLE BELOW -->\n<style>\n    html{\n        height:100%;\n        position:relative\n    }\n    body{\n        min-height:100% /* force the BODY element to match the height of the HTML element */\n    }\n    .print-format td {\n        padding: 0px !important;\n    }\n    .print-format {\n        height: 100%;\n        background-color: initial;\n        box-shadow: initial;\n        max-width: initial;\n        min-height: initial;\n        margin: initial;\n        padding: initial !important;        \n    }\n    .print-format-gutter {\n        height: 100%;\n    }\n    .comp-reg br {\n    \tdisplay: none;\n    }\n    @media screen {\n        .page-preview {\n            min-height: {{ min_page_height }};\n            max-width: {{ max_page_width }};\n            padding: {{ page_padding }};\n            background-color: white;\n            box-shadow: 0px 0px 9px rgba(0,0,0,0.5);\n            margin: auto;\n            display: table;\n            width: 100%;\n        }\n    }\n    @media print {    \n    \t@page {\n            size: {{ preferred_page_width }} {{ preferred_page_height }} portrait;\n            margin: {{ page_padding }};\n        }    \n        body {\n            height: 100%;\n            -webkit-print-color-adjust: exact !important;\n        }\n        .page-preview {\n            height: 100%;\n            width: 100%;\n            display: table;\n        }\n    }\n    @media all {\n \t\ttable.body-table tbody tr td {\n    \t\tborder-left-style:solid !important;\n            border-left-color:gray !important;\n            border-left-width:1px !important;\n\t\t}\n        table.body-table tbody tr td:nth-child(1) {\n        \tborder: none !important;\n        }    \n    }\n</style>\n<!-- DONT EDIT STYLE ABOVE -->\n<!-- Macro for Header -->\n{% macro setheader() -%}\n{% set header_column_width=20 %}\n{% set value_column_width=80 %}\n<div style=\"width: 100%;height:100%;\">\n\t<div style=\"width:100%;overflow: hidden\">\n    <table style=\"width: 100%;height:100%\">\n        {% if letter_head and not no_letterhead -%}\n        <tr>\n            <td colspan=\"100%\" style=\"width: 100%;padding-bottom: 3px !important;\">\n                {{ letter_head }}\t\n            </td>\n        </tr>\n        {% endif %}\n        <tr>\n        \t<td>\n                <div class=\"comp-reg\">\n\t\t\t\t\t<span style=\"font-size: 10px;\">\n\t\t\t\t\t\t{{ frappe.db.get_value(\"Company\", doc.company, \"registration_details\") or \"\" }} \n\t\t\t\t\t</span>                    \n                </div>            \n            </td>\n        </tr>\n        <tr><td colspan=\"100%\"><hr style=\"margin-top:0px;margin-bottom:0px;border:none;color:black;background:black;height:1px;margin-top:10px !important;\"></hr></td></tr>\n        <tr>\n        \t<td colspan=\"100%\" style=\"padding-top:5px !important;padding-bottom:5px !important;text-align:center;\">\n            \t<span style=\"font-size: 22px;text-transform:uppercase;\"><B>{{ doc.select_print_heading or \"QUOTATION\" }}</B></span>\n            </td>\n        </tr>\n        <tr><td colspan=\"100%\"><hr style=\"margin-top:0px;margin-bottom:0px;border:none;color:black;background:black;height:1px;margin-bottom:5px !important;\"></hr></td></tr>\n        \n        <tr>\n        \t<td style=\"width: 60%;padding-bottom: 3px !important;padding-top:5px !important;\">\n                  <table style=\"width: 100%;font-size:12px;\">\n                       <tr> \n                          <td style=\"width: {{ header_column_width }}%;padding-top:5px !important;color:red;\">\n                               Name\n                          </td>\n                          <td style=\"width: {{ value_column_width }}%;padding-top:5px !important;\">\n                               <span style=\"text-align: left;text-transform:uppercase;\"><B>{{ doc.customer_name }}</B></span>\n                          </td>\n                       </tr>\n                       <tr>\n\t\t\t\t\t\t  <td style=\"width: {{ header_column_width }}%;\">\n                               \t<!-- Intentionally Left Blank -->\n                          </td>\n                          <td style=\"width: {{ value_column_width }}%;\">\n                             \t{% set coname = frappe.db.get_value(\"Customer\", doc.customer, \"company_name\") %}\n                                {% if coname %}\n                               \t\t<span style=\"font-size:12px;text-align: left;\"><B>C/O {{ coname }}</B></span>\n                                {% endif %}\n                         </td>\n                       </tr>\n                       <tr>\n                          <td style=\"width: {{ header_column_width }}%\">\n                                <span style=\"color:red;\">Address</span>\n                          </td>\n                          <td style=\"width: {{ value_column_width }}%;padding-bottom:3px !important;\">\n                                <B>{{ doc.address_display }}</B>\n                          </td>\n                       </tr>\n                       <tr>\n\t\t\t              <td style=\"width: {{ header_column_width }}%;\">\n\t\t\t\t               \t<span style=\"color:red;\">Contact No</span>\n\t\t\t              </td>\n\t\t\t              <td style=\"width: {{ value_column_width }}%;\">\n                               \t<b>{{ frappe.db.get_value(\"Customer\", doc.customer, \"primary_contact_no\") }}\n\t\t\t                    {% set secondary = frappe.db.get_value(\"Customer\", doc.customer, \"secondary_contact_no\") %}\n\t\t\t                    {% if secondary %}\n\t\t\t                         ,{{ secondary }}\n\t\t\t                    {% endif %}</b>                            \n\t\t\t              </td>\n\t\t\t\t\t\t</tr>                    \n                 </table>            \t\n            </td>\n            <td style=\"width: 40%;padding-bottom: 3px !important;padding-top:5px !important;font-size:12px;\">\n            \t<div><B>Reference: {{ doc.name }}</B></div>\n                <div><B>Quote Date: {{ doc.get_formatted(\"transaction_date\") }}</B></div>\n                <div><B>Valid Till: {{ doc.get_formatted(\"valid_till\") }}</B></div>\n            </td>\n        </tr>\n        <tr>\n        \t<td colspan=\"100%\" style=\"width: 100%;padding-bottom: 3px !important;padding-top:15px !important;font-size:12px;\">\n            \t{{ doc.introductory_information }}\n            </td>\n       \t</tr>\n    </table>\n    </div>\n</div>\n{%- endmacro %}\n<!-- End Macro -->\n\n\n<!-- Footer Macro -->\n{% macro setfooter(islast) -%}\n<!-- Important Note: Using Position Relative Here and Position Absolute in Table \n Would Anchor Table to the Bottom of DIV -->\n<div style=\"height:100%;width:100%;display: flex;flex-direction:column;padding-top:20px;\">\n\t\t<!-- CONTINUED BAND -->\n\t\t{% if not islast %}\n\t\t<div style=\"width: 100%;padding-top: 20px;padding-bottom:20px;\">\n\t\t\t<table style=\"width: 100%;\">\n\t        \t<tr>\n\t\t            <td style=\"text-align:right;\" colspan=\"100%\">\n\t\t                <b>Continued ... </b>\n\t\t            </td>\n\t\t        </tr>\n\t\t\t</table>\n\t\t</div>\n\t\t{% endif %}\n        <!-- END CONTINUED BAND -->\n        <div style=\"width:100%;display:flex;\">\n\t        <div style=\"width:60%;padding-left:20px;padding-right:20px;\">\n\t\t\t\t<span style=\"font-size:10px;\"><b>Terms & Conditions</b></span>\t\t\t\t\t   \n\t\t\t\t<span style=\"font-size: 10px;\">\n\t\t\t\t\t{{ doc.terms or \"\" }}\n\t\t\t\t</span>\n\t\t\t</div>\n\t        {% if doc.show_bank_details and doc.bank %}\n\t              <div style=\"padding-left:10px;padding-right:30px;\">\n\t              \t{% set bank_det = frappe.get_doc('Bank Detail', doc.bank) %}\n\t                <div style=\"font-size:11px;\"><B>Bank Details</B></div>\n\t                <div style=\"padding-left:10px;\">\n\t\t                <div style=\"font-size:10px;padding-top:3px;\">\n\t\t                \t<B>Bank Name:</B>{{ bank_det.bank_name }} <BR><B>Account Name:</B>{{ bank_det.account_holder_name }} <BR><B>Account No:</B>{{ bank_det.account_number }}\n\t\t                </div>\n\t\t                <div style=\"font-size:10px;\">\n\t\t                \t{% if bank_det.ifsc_code %}\n\t\t                    \t<B>IFSC Code:</B>{{ bank_det.ifsc_code }}\n\t\t                    {% endif %}\n\t\t                    {% if bank_det.micr_code %}\n\t\t                    \t<BR><B>MICR Code:</B>{{ bank_det.micr_code }}\n\t\t                    {% endif %}\n\t\t                    {% if bank_det.swift_code %}\n\t\t                    \t<BR><B>SWIFT Code:</B>{{ bank_det.swift_code }}\n\t\t                    {% endif %}\n\t\t                </div>                \n\t                </div>\n\t              </div>\n\t        {% endif %}      \n        </div>\n        <div style=\"width:100%;padding-top:10px;padding-bottom:10px;\">\n\t\t\t<span style=\"font-size: 12px;\">\n\t\t\t\t{{ doc.closing_comments or \"\" }}\n\t\t\t</span>\n\t\t</div>\n        \n        \n     <div style=\"width: 100%;font-size:12px;padding-right:20px;\">    \n     \t<table style=\"width:100%;min-height:60px;\">\n\t        <tr style=\"height: 35%;\">\n\t            <td style=\"height: 100%;width: 50%; text-align:left;padding-top:20px !important;padding-bottom:30px !important;\">\n\t                <span style=\"padding-right:10px;\">With Regards</span>\n\t            </td>\n\t        </tr>\n\t        <tr style=\"padding-bottom:2px;\">\n\t            <td style=\"height: 20%;width: 50%; text-align:left;\" colspan=\"100%\">\n\t                <span style=\"padding-right:10px;\">For {{ doc.company }}</span>\n\t            </td>\n\t        </tr>            \n\t        <tr style=\"padding-bottom:2px;\">\n\t            <td style=\"height: 20%;width: 50%; text-align:left;\" colspan=\"100%\">\n\t                <span style=\"padding-right:10px;\">Authorized Signatory</span>\n\t            </td>\n\t        </tr>\n         </table>\n     </div>\n    \n</div>\n{%- endmacro %}\n<!-- End Macro -->\n\n{% macro do_body() -%}\n\t<div style=\"width:100%;text-align:center;padding-top:20px;\">\n\t<table style=\"text-align:left;margin:0 auto;width:85%;font-size:12px;\">\n        <!-- Column Headings -->\n    \t<tr style=\"width: 100%;background: #eee !important;min-height: 15%;height: 25px;font-weight: 600;border-bottom: 1px solid #eee;\">\n            <td style=\"width: {{ serial_no_column_width }};vertical-align:middle !important;padding-left:4px !important;\">Sr</td>\n            <td style=\"width: {{ description_column_width }};vertical-align:middle !important;padding-left:4px !important;\">Item Name</td>\n            <td style=\"width: {{ qty_column_width }};vertical-align:middle !important;padding-right:4px !important;\" class=\"text-right\">Qty</td>\n            <td style=\"width: {{ rate_column_width }};vertical-align:middle !important;padding-right:4px !important;\" class=\"text-right\">Rate</td>\n            <td style=\"width: {{ amount_column_width }};vertical-align:middle !important;padding-right:4px !important;\" class=\"text-right\">Amount</td>\n        </tr>\n    \t{% for row in doc.items %}\n        \t<tr>\n            \t<td style=\"width: {{ serial_no_column_width }};padding-left:4px !important;padding-top:3px !important;overflow:hidden;border:{{ table_border }};\">\n                       \t<div style=\"height: {{ row_height }};\">\n                       \t\t{{ row.idx }} \n                        </div>\n                </td>\n                <td style=\"width: {{ description_column_width }};padding-left:4px !important;padding-top:3px !important;overflow:hidden;border:{{ table_border }};\">\n                      \t<div style=\"height: {{ row_height }};\">\n                           {% if row.brand %}\n    \t                       \t<p style=\"display:inline;\">\n\t                               {{ row.brand }} \n\t                            </p>\n                           {% endif %}\n                           <p style=\"display:inline;\">\n\t                          \t{{ row.item_name }}\n                           </p>\n                           <p style=\"display:inline;\">\n                              \t<div style=\"color:blue;margin-left:5px;\">\n                               \t\t<I>{{ row.description }}</I>                                      \n                                </div>\n                           </p>\n                               {% if row.item_code and row.item_code != row.item_name %}\n                                   <br>Item Code: {{ row.item_code}}</br>\n                               {% endif %}\n                         </div>\n                 </td>\n                 <td style=\"width: {{ qty_column_width }}; text-align: right;padding-right:4px !important;padding-top:3px !important;overflow:hidden;border:{{ table_border }};\">\n                       \t<div style=\"height: {{ row_height }};\">\n                            \t{{ row.get_formatted(\"qty\", doc) }} {{ row.uom or row.stock_uom }}\n                        </div>\n                 </td>\n                 <td style=\"width: {{ rate_column_width }}; text-align: right;padding-right:4px !important;padding-top:3px !important;overflow:hidden;border:{{ table_border }};\">\n                      \t<div style=\"height: {{ row_height }};\">\n                             \t{{ row.get_formatted(\"rate\", doc) }}\n                        </div>\n                 </td>\n                 <td style=\"width: {{ amount_column_width }}; text-align: right;padding-right:4px !important;padding-top:3px !important;overflow:hidden;border:{{ table_border }};\">\n                       \t<div style=\"height: {{ row_height }};\">\n                             \t{{ row.get_formatted(\"amount\", doc) }}\n                        </div>\n                 </td>                            \n            </tr>\n        {% endfor %}\n    </table>\n    \t<div>\n\t    \t{% if doc.is_inclusive_of_taxes %}\n\t        \t(Rates Inclusive of Respective Taxes)\n\t        {% else %}\n\t        \t(Rates Exclusive of Respective Taxes)\n\t        {% endif %}\n        </div>\n    </div>\n    \n{%- endmacro %}\n\n<!--------------------------------------------------------------------------------------------------->\n<!-- Don't Edit the Following Blocks -->\n<!-- Instead Use The Macros Above -->\n<!--------------------------------------------------------------------------------------------------->\n\n\n{% macro insert_page_break(test_condition) -%}\n\t{% if test_condition %} \n\n\t\t                <!-- Fill Empty Space -->\n\t\t                <div style=\"height: 100%\"></div>\n\n\t\t\t<!-- End Body Container -->\n\t\t        </div>\n\n\t\t    <!-- End Main Body Div -->  \n\t\t    </div>\n\n\t\t    <!-- Set Footer -->\n\t\t    <div style=\"max-height: {{ max_footer_height }};height: {{ footer_height }};background: {{ footer_background }};overflow: hidden;display:grid;\">\n\t\t\t\t<div style=\"width: 100%;height: 100%;\"> \n\t\t\t\t\t{{ setfooter(false) }}\n\t\t\t\t</div>\n\t\t    </div>\n\n\n\t\t<!-- End Main Div -->\n\t\t</div>\n\n\n\t\t<!-- PAGE BREAK -->\n\t\t<div class=\"page-break\"></div> <!-- Seems to be working in Chrome Ver: 38.0.2125.111 & Chrome 43 -->\n\n\t\t<!-- Logic to Count Total Number of Pages -->\n\t\t{% if total_pages.append('1') %} {% endif %}\t\n\n\t\t<!-- Start Another Main Div Tag -->\n\t\t<div class=\"page-preview\" style=\"height: {{ div_page_height }};max-height: {{ div_max_page_height }};display:flex;flex-direction:column;\">    \n\n\t\t    <!-- Set New Header -->\n\t\t    <div style=\"max-height: {{ max_header_height }};height: {{ header_height }};background: {{ header_background }};overflow: hidden;\">\n\t\t\t\t<div style=\"width: 100%;height:100%;\">\n\t\t\t\t\t{{ setheader() }}\n\t\t\t\t</div>\n\t\t    </div>\n\n\n\t\t    <!-- Start a New Body -->\n\t\t    <div style=\"max-height: {{ max_body_height }};height: {{ body_height }};background: {{ body_background }};overflow: hidden;display:grid;\"> \n\n\t\t        <!-- New Body Container -->\n\t\t        <div style=\"width:100%;height: 100%;\">\t\n\n\t{% endif %}\n{%- endmacro %}\n\n<!-- Set Global Default font -->\n<span style=\"font-family:{{ global_default_font }};font-size:10px;\">\n\n<!-- Main Div Tag -->\n<div class=\"page-preview\" style=\"height: {{ div_page_height }};max-height: {{ div_max_page_height }};display:flex;flex-direction:column;\">\n\t<!-- Logic to Count Total Number of Pages -->\n\t{% set total_pages = [1] %}\n\n    <!-- Set Header -->\n    <div style=\"max-height: {{ max_header_height }};height: {{ header_height }};background: {{ header_background }};overflow: hidden;\">\n\t\t<div style=\"width: 100%;height:100%;\">\n\t\t\t{{ setheader() }}\n\t\t</div>\n    </div>\n\n    <!-- Set Body -->\n    <!-- Main Body Tag -->\n    <div style=\"max-height: {{ max_body_height }};height: {{ body_height }};background: {{ body_background }};overflow: hidden;display:grid;\"> \n        <!-- Body Container -->\n        <div style=\"width:100%;height: 100%;\">\n        \n        \t{{ do_body() }}\n\t\n        <!-- End Body Container Div -->\n        </div>\n\n        <!-- End Main Body Div -->            \n    </div>\n\n\n    <!-- Set last Footer -->\n    <div style=\"max-height: {{ max_footer_height }};height: {{ footer_height }};background: {{ footer_background }};overflow: hidden;display:grid;\">\n\t\t<div style=\"width: 100%;height: 100%;\"> \n\t\t\t{{ setfooter(true) }}\n\t\t</div>\n    </div>\n\n</div>\n<!-- End Font -->\n</span>", 
  "line_breaks": 0, 
  "modified": "2017-05-15 16:46:45.182744", 
  "module": "Selling", 
  "name": "Quotation Standard", 
  "print_format_builder": 0, 
  "print_format_type": "Server", 
  "show_section_headings": 0, 
  "standard": "No"
 }, 
 {
  "align_labels_left": 0, 
  "css": null, 
  "custom_format": 1, 
  "disabled": 0, 
  "doc_type": "Purchase Order", 
  "docstatus": 0, 
  "doctype": "Print Format", 
  "font": "Default", 
  "format_data": null, 
  "html": "<!-- TESTED ON CHROME VER 57.0.2987.133 -->\n{% set display_rows_per_page = 8 %}\n{% set row_height = \"auto\" %}\n{% set div_page_height = \"100%\" %}\n{% set div_max_page_height = \"100%\" %}\n{% set min_page_height = \"11.69in\" %}\n{% set min_page_width = \"8.26in\" %}\n{% set max_page_height = \"11.69in\" %}\n{% set max_page_width = \"8.26in\" %}\n{% set preferred_page_height = \"11.69in\" %}\n{% set preferred_page_width = \"8.26in\" %}\n{% set footer_background = \"transparent\" %}\n{% set header_background = \"transparent\" %}\n{% set body_background = \"transparent\" %}\n{% set header_height = \"initial\" %}\n{% set max_header_height = \"initial\" %}\n{% set footer_height = \"initial\" %}\n{% set max_footer_height = \"initial\" %}\n{% set body_height = \"initial\" %}\n{% set max_body_height = \"100%\" %}\n{% set page_padding = \"1cm\" %}\n{% set total_pages_as_per_rows = (doc.items|length / display_rows_per_page)|int %}\n{% if (doc.items|length % display_rows_per_page|int)|int != 0 %}\n    {% set total_pages_as_per_rows = total_pages_as_per_rows + 1 %}\n{% endif %}\n<!-- FLAG to Enable/Disable Tax Analysis -->\n{% set print_tax_analysis = true %}\n{% set global_default_font = \"Monospace\" %}\n{% set serial_no_column_width = \"4%\" %}\n{% set description_column_width = \"25%\" %}\n{% set qty_column_width = \"10%\" %}\n{% set warehouse_column_width = \"25%\" %}\n{% set rate_column_width = \"18%\" %}\n{% set amount_column_width = \"18%\" %}\n{% set tax_line_counter = {'tl':1} %}\n{% set tax_line_max_length = 8 %}\n{% set tax_analysis_div_width = \"50%\" %}\n{% set tax_analysis_row_left = \"60%\" %} \n{% set tax_analysis_row_right = \"40%\" %}\n{% set table_border = \"1px solid gray !important\" %}\n\n<!-- DONT EDIT STYLE BELOW -->\n<style>\n    html{\n        height:100%;\n        position:relative\n    }\n    body{\n        min-height:100% /* force the BODY element to match the height of the HTML element */\n    }\n    .print-format td {\n        padding: 0px !important;\n    }\n    .print-format {\n        height: 100%;\n        background-color: initial;\n        box-shadow: initial;\n        max-width: initial;\n        min-height: initial;\n        margin: initial;\n        padding: initial !important;        \n    }\n    .print-format-gutter {\n        height: 100%;\n    }\n    .comp-reg br {\n    \tdisplay: none;\n    }\n    @media screen {\n        .page-preview {\n            min-height: {{ min_page_height }};\n            max-width: {{ max_page_width }};\n            padding: {{ page_padding }};\n            background-color: white;\n            box-shadow: 0px 0px 9px rgba(0,0,0,0.5);\n            margin: auto;\n            display: table;\n            width: 100%;\n        }\n    }\n    @media print {    \n    \t@page {\n            size: {{ preferred_page_width }} {{ preferred_page_height }} portrait;\n            margin: {{ page_padding }};\n        }    \n        body {\n            height: 100%;\n            -webkit-print-color-adjust: exact !important;\n        }\n        .page-preview {\n            height: 100%;\n            width: 100%;\n            display: table;\n        }\n    }\n    @media all {\n \t\ttable.body-table tbody tr td {\n    \t\tborder-left-style:solid !important;\n            border-left-color:gray !important;\n            border-left-width:1px !important;\n\t\t}\n        table.body-table tbody tr td:nth-child(1) {\n        \tborder: none !important;\n        }    \n    }\n</style>\n<!-- DONT EDIT STYLE ABOVE -->\n<!-- Macro for Header -->\n{% macro setheader() -%}\n{% set header_column_width=20 %}\n{% set value_column_width=80 %}\n<div style=\"width: 100%;height:100%;\">\n\t<div style=\"width:100%;overflow: hidden\">\n    <table style=\"width: 100%;height:100%\">\n        {% if letter_head and not no_letterhead -%}\n        <tr>\n            <td colspan=\"100%\" style=\"width: 100%;padding-bottom: 3px !important;\">\n                {{ letter_head }}\t\n            </td>\n        </tr>\n        {% endif %}\n        <tr>\n        \t<td>\n                <div class=\"comp-reg\">\n\t\t\t\t\t<span style=\"font-size: 10px;\">\n\t\t\t\t\t\t{{ frappe.db.get_value(\"Company\", doc.company, \"registration_details\") or \"\" }} \n\t\t\t\t\t</span>                    \n                </div>            \n            </td>\n        </tr>\n        <tr>\n        \t<td colspan=\"100%\" style=\"padding-top:5px !important;padding-bottom:5px !important;text-align:center;background:#eee !important;\">\n            \t<span style=\"font-size: 22px;text-transform:uppercase;\"><B>{{ doc.select_print_heading or \"PURCHASE ORDER\" }}</B></span>\n            </td>\n        </tr>\n        \n        <tr>\n        \t<td style=\"width: 60%;padding-bottom: 3px !important;padding-top:5px !important;padding-left:5px !important;\">\n                  <table style=\"width: 100%;font-size:12px;\">\n                       <tr> \n                          <td style=\"width: {{ value_column_width }}%;padding-top:5px !important;\">\n                          \tTo,<br/>\n                            <span style=\"text-align: left;text-transform:uppercase;\"><B>{{ doc.supplier_name }}</B></span>\n                          </td>\n                       </tr>\n                       <tr>\n                         <td style=\"width: {{ value_column_width }}%;padding-bottom:3px !important;\">\n                                <B>{{ doc.address_display }}</B>\n                          </td>\n                       </tr>\n                 </table>            \t\n            </td>\n            <td style=\"width: 40%;padding-bottom: 3px !important;padding-top:5px !important;font-size:12px;padding-right: 5px;\">\n            \t<div><B>Purchase Order No: {{ doc.name }}</B></div>\n                <div><B>Quote Date: {{ doc.get_formatted(\"transaction_date\") }}</B></div>\n            </td>\n        </tr>\n        <tr>\n        \t<td colspan=\"100%\" style=\"width: 100%;padding-bottom: 3px !important;padding-top:15px !important;font-size:12px;padding-left:5px !important;\">\n            \tDear Sir, <br/>\n                <br/>\n                Kindly Bill us the Following Material at Respective Locations:\n            </td>\n       \t</tr>\n    </table>\n    </div>\n</div>\n{%- endmacro %}\n<!-- End Macro -->\n\n\n<!-- Footer Macro -->\n{% macro setfooter(islast) -%}\n<!-- Important Note: Using Position Relative Here and Position Absolute in Table \n Would Anchor Table to the Bottom of DIV -->\n<div style=\"height:100%;width:100%;display: flex;flex-direction:column;padding-top:20px;\">\n\t\t<!-- CONTINUED BAND -->\n\t\t{% if not islast %}\n\t\t<div style=\"width: 100%;padding-top: 20px;padding-bottom:20px;\">\n\t\t\t<table style=\"width: 100%;\">\n\t        \t<tr>\n\t\t            <td style=\"text-align:right;\" colspan=\"100%\">\n\t\t                <b>Continued ... </b>\n\t\t            </td>\n\t\t        </tr>\n\t\t\t</table>\n\t\t</div>\n\t\t{% endif %}\n        <!-- END CONTINUED BAND -->\n        <div style=\"width:100%;display:flex;\">\n\t        <div style=\"width:60%;padding-left:20px;padding-right:20px;\">\n\t\t\t\t<span style=\"font-size:10px;\"><b>Terms & Conditions</b></span>\t\t\t\t\t   \n\t\t\t\t<span style=\"font-size: 10px;\">\n\t\t\t\t\t{{ doc.terms or \"\" }}\n\t\t\t\t</span>\n\t\t\t</div>\n        </div>\n        <div style=\"width:100%;padding-top:10px;padding-bottom:10px;\">\n\t\t\t<span style=\"font-size: 12px;\">\n\t\t\t\t{# doc.closing_comments or \"\" #}\n\t\t\t</span>\n\t\t</div>\n        \n        \n     <div style=\"width: 100%;font-size:12px;padding-right:20px;\">    \n     \t<table style=\"width:100%;min-height:60px;\">\n\t        <tr style=\"height: 35%;\">\n\t            <td style=\"height: 100%;width: 50%; text-align:left;padding-top:20px !important;padding-bottom:30px !important;\">\n\t                <span style=\"padding-right:10px;\">With Regards</span>\n\t            </td>\n\t        </tr>\n\t        <tr style=\"padding-bottom:2px;\">\n\t            <td style=\"height: 20%;width: 50%; text-align:left;\" colspan=\"100%\">\n\t                <span style=\"padding-right:10px;\">For {{ doc.company }}</span>\n\t            </td>\n\t        </tr>            \n\t        <tr style=\"padding-bottom:2px;\">\n\t            <td style=\"height: 20%;width: 50%; text-align:left;\" colspan=\"100%\">\n\t                <span style=\"padding-right:10px;\">Authorized Signatory</span>\n\t            </td>\n\t        </tr>\n         </table>\n     </div>\n    \n</div>\n{%- endmacro %}\n<!-- End Macro -->\n\n{% macro do_body() -%}\n\t<div style=\"width:100%;text-align:center;padding-top:20px;\">\n\t<table style=\"text-align:left;margin:0 auto;width:95%;font-size:12px;\">\n        <!-- Column Headings -->\n    \t<tr style=\"width: 100%;background: #eee !important;min-height: 15%;height: 25px;font-weight: 600;border-bottom: 1px solid #eee;\">\n            <td style=\"width: {{ serial_no_column_width }};vertical-align:middle !important;padding-left:4px !important;\">Sr</td>\n            <td style=\"width: {{ description_column_width }};vertical-align:middle !important;padding-left:4px !important;\">Item Name</td>\n            <td style=\"width: {{ qty_column_width }};vertical-align:middle !important;padding-right:4px !important;\" class=\"text-right\">Qty</td>\n            <td style=\"width: {{ warehouse_column_width }};vertical-align:middle !important;padding-left:4px !important;\" >Warehouse</td>\n            {% if doc.total > 0 %}\n\t            <td style=\"width: {{ rate_column_width }};vertical-align:middle !important;padding-right:4px !important;\" class=\"text-right\">Rate</td>\n\t            <td style=\"width: {{ amount_column_width }};vertical-align:middle !important;padding-right:4px !important;\" class=\"text-right\">Amount</td>\n            {% endif %}\n        </tr>\n    \t{% for row in doc.items %}\n        \t<tr>\n            \t<td style=\"width: {{ serial_no_column_width }};padding-left:4px !important;padding-top:3px !important;overflow:hidden;border:{{ table_border }};\">\n                       \t<div style=\"height: {{ row_height }};\">\n                       \t\t{{ row.idx }} \n                        </div>\n                </td>\n                <td style=\"width: {{ description_column_width }};padding-left:4px !important;padding-top:3px !important;overflow:hidden;border:{{ table_border }};\">\n                      \t<div style=\"height: {{ row_height }};\">\n                           <p style=\"display:inline;\">\n\t                          \t{{ row.item_name }}\n                           </p>\n                               {% if row.item_code and row.item_code != row.item_name %}\n                                   <br>Item Code: {{ row.item_code}}</br>\n                               {% endif %}\n                         </div>\n                 </td>\n                 <td style=\"width: {{ qty_column_width }}; text-align: right;padding-right:4px !important;padding-top:3px !important;overflow:hidden;border:{{ table_border }};\">\n                       \t<div style=\"height: {{ row_height }};\">\n                            \t{{ row.get_formatted(\"qty\", doc) }} {{ row.uom or row.stock_uom }}\n                        </div>\n                 </td>\n                 <td style=\"width: {{ warehouse_column_width }}; text-align: left;padding-left:4px !important;padding-top:3px !important;overflow:hidden;border:{{ table_border }};\">\n                      \t<div style=\"height: {{ row_height }};\">\n                             \t{{ row.warehouse }}\n                        </div>\n                 </td>\n\t            {% if doc.total > 0 %}\n\t                 <td style=\"width: {{ rate_column_width }}; text-align: right;padding-right:4px !important;padding-top:3px !important;overflow:hidden;border:{{ table_border }};\">\n\t                       \t<div style=\"height: {{ row_height }};\">\n\t                            \t{{ row.get_formatted(\"rate\", doc) }}\n\t                        </div>\n                 \t</td>\n\t                 <td style=\"width: {{ amount_column_width }}; text-align: right;padding-right:4px !important;padding-top:3px !important;overflow:hidden;border:{{ table_border }};\">\n\t                       \t<div style=\"height: {{ row_height }};\">\n\t                            \t{{ row.get_formatted(\"amount\", doc) }}\n\t                        </div>\n\t                 </td>\n\t            {% endif %}\n                 \n            </tr>\n        {% endfor %}\n    </table>\n    </div>\n    \n{%- endmacro %}\n\n<!--------------------------------------------------------------------------------------------------->\n<!-- Don't Edit the Following Blocks -->\n<!-- Instead Use The Macros Above -->\n<!--------------------------------------------------------------------------------------------------->\n\n\n{% macro insert_page_break(test_condition) -%}\n\t{% if test_condition %} \n\n\t\t                <!-- Fill Empty Space -->\n\t\t                <div style=\"height: 100%\"></div>\n\n\t\t\t<!-- End Body Container -->\n\t\t        </div>\n\n\t\t    <!-- End Main Body Div -->  \n\t\t    </div>\n\n\t\t    <!-- Set Footer -->\n\t\t    <div style=\"max-height: {{ max_footer_height }};height: {{ footer_height }};background: {{ footer_background }};overflow: hidden;display:grid;\">\n\t\t\t\t<div style=\"width: 100%;height: 100%;\"> \n\t\t\t\t\t{{ setfooter(false) }}\n\t\t\t\t</div>\n\t\t    </div>\n\n\n\t\t<!-- End Main Div -->\n\t\t</div>\n\n\n\t\t<!-- PAGE BREAK -->\n\t\t<div class=\"page-break\"></div> <!-- Seems to be working in Chrome Ver: 38.0.2125.111 & Chrome 43 -->\n\n\t\t<!-- Logic to Count Total Number of Pages -->\n\t\t{% if total_pages.append('1') %} {% endif %}\t\n\n\t\t<!-- Start Another Main Div Tag -->\n\t\t<div class=\"page-preview\" style=\"height: {{ div_page_height }};max-height: {{ div_max_page_height }};display:flex;flex-direction:column;\">    \n\n\t\t    <!-- Set New Header -->\n\t\t    <div style=\"max-height: {{ max_header_height }};height: {{ header_height }};background: {{ header_background }};overflow: hidden;\">\n\t\t\t\t<div style=\"width: 100%;height:100%;\">\n\t\t\t\t\t{{ setheader() }}\n\t\t\t\t</div>\n\t\t    </div>\n\n\n\t\t    <!-- Start a New Body -->\n\t\t    <div style=\"max-height: {{ max_body_height }};height: {{ body_height }};background: {{ body_background }};overflow: hidden;display:grid;\"> \n\n\t\t        <!-- New Body Container -->\n\t\t        <div style=\"width:100%;height: 100%;\">\t\n\n\t{% endif %}\n{%- endmacro %}\n\n<!-- Set Global Default font -->\n<span style=\"font-family:{{ global_default_font }};font-size:10px;\">\n\n<!-- Main Div Tag -->\n<div class=\"page-preview\" style=\"height: {{ div_page_height }};max-height: {{ div_max_page_height }};display:flex;flex-direction:column;\">\n\t<!-- Logic to Count Total Number of Pages -->\n\t{% set total_pages = [1] %}\n\n    <!-- Set Header -->\n    <div style=\"max-height: {{ max_header_height }};height: {{ header_height }};background: {{ header_background }};overflow: hidden;\">\n\t\t<div style=\"width: 100%;height:100%;\">\n\t\t\t{{ setheader() }}\n\t\t</div>\n    </div>\n\n    <!-- Set Body -->\n    <!-- Main Body Tag -->\n    <div style=\"max-height: {{ max_body_height }};height: {{ body_height }};background: {{ body_background }};overflow: hidden;display:grid;\"> \n        <!-- Body Container -->\n        <div style=\"width:100%;height: 100%;\">\n        \n        \t{{ do_body() }}\n\t\n        <!-- End Body Container Div -->\n        </div>\n\n        <!-- End Main Body Div -->            \n    </div>\n\n\n    <!-- Set last Footer -->\n    <div style=\"max-height: {{ max_footer_height }};height: {{ footer_height }};background: {{ footer_background }};overflow: hidden;display:grid;\">\n\t\t<div style=\"width: 100%;height: 100%;\"> \n\t\t\t{{ setfooter(true) }}\n\t\t</div>\n    </div>\n\n</div>\n<!-- End Font -->\n</span>", 
  "line_breaks": 0, 
  "modified": "2017-07-16 13:02:31.598894", 
  "module": "Buying", 
  "name": "Purchase Order Standard", 
  "print_format_builder": 0, 
  "print_format_type": "Server", 
  "show_section_headings": 0, 
  "standard": "No"
 }, 
 {
  "align_labels_left": 0, 
  "css": null, 
  "custom_format": 1, 
  "disabled": 0, 
  "doc_type": "Sales Invoice", 
  "docstatus": 0, 
  "doctype": "Print Format", 
  "font": "Default", 
  "format_data": null, 
  "html": "<!-- TESTED ON CHROME VER 57.0.2987.133 -->\n{% set display_rows_per_page = 8 %}\n{% set row_height = \"auto\" %}\n{% set div_page_height = \"100%\" %}\n{% set div_max_page_height = \"100%\" %}\n{% set min_page_height = \"11.69in\" %}\n{% set min_page_width = \"8.26in\" %}\n{% set max_page_height = \"11.69in\" %}\n{% set max_page_width = \"8.26in\" %}\n{% set preferred_page_height = \"11.69in\" %}\n{% set preferred_page_width = \"8.26in\" %}\n{% set footer_background = \"transparent\" %}\n{% set header_background = \"transparent\" %}\n{% set body_background = \"transparent\" %}\n{% set header_height = \"initial\" %}\n{% set max_header_height = \"initial\" %}\n{% set footer_height = \"initial\" %}\n{% set max_footer_height = \"initial\" %}\n{% set body_height = \"initial\" %}\n{% set max_body_height = \"100%\" %}\n{% set page_padding = \"1cm\" %}\n{% set total_pages_as_per_rows = (doc.items|length / display_rows_per_page)|int %}\n{% if (doc.items|length % display_rows_per_page|int)|int != 0 %}\n    {% set total_pages_as_per_rows = total_pages_as_per_rows + 1 %}\n{% endif %}\n<!-- FLAG to Enable/Disable Tax Analysis -->\n{% set print_tax_analysis = true %}\n{% set global_default_font = \"Monospace\" %}\n{% set serial_no_column_width = \"4%\" %}\n{% set hsn_no_column_width = \"10%\" %}\n{% set description_column_width = \"48%\" %}\n{% set qty_column_width = \"10%\" %}\n{% set rate_column_width = \"14%\" %}\n{% set amount_column_width = \"14%\" %}        \n{% set tax_line_counter = {'tl':1} %}\n{% set tax_line_max_length = 8 %}\n{% set tax_analysis_div_width = \"50%\" %}\n{% set tax_analysis_row_left = \"60%\" %} \n{% set tax_analysis_row_right = \"40%\" %}\n\n\n<!-- DONT EDIT STYLE BELOW -->\n<style>\n    html{\n        height:100%;\n        position:relative\n    }\n    body{\n        min-height:100% /* force the BODY element to match the height of the HTML element */\n    }\n    .print-format td {\n        padding: 0px !important;\n    }\n    @-moz-document url-prefix() {\n    \t.print-format {\n\t        height: 99% !important;\n        }\n    }\n    .print-format {\n        height: 100%;\n        background-color: initial;\n        box-shadow: initial;\n        max-width: initial;\n        min-height: initial;\n        margin: initial;\n        padding: initial !important;        \n    }\n    .print-format-gutter {\n        height: 100%;\n    }\n    @media screen {\n        .page-preview {\n            min-height: {{ min_page_height }} !important;\n            max-width: {{ max_page_width }} !important;\n            padding: {{ page_padding }};\n            background-color: white;\n            box-shadow: 0px 0px 9px rgba(0,0,0,0.5);\n            margin: auto;\n            display: table !important;\n            width: 100%;\n        }\n    }\n    @media print {    \n    \t@page {\n            size: {{ preferred_page_width }} {{ preferred_page_height }} portrait;\n            margin: {{ page_padding }};\n        }    \n        body {\n            height: 100%;\n            -webkit-print-color-adjust: exact !important;\n        }\n        .page-preview {\n            height: 100%;\n            width: 100%;\n            display: table;\n        }\n    }\n    @media all {\n \t\ttable.body-table tbody tr td {\n    \t\tborder-left-style:solid !important;\n            border-left-color:gray !important;\n            border-left-width:1px !important;\n\t\t}\n        table.body-table tbody tr td:nth-child(1) {\n        \tborder: none !important;\n        }    \n    }\n</style>\n<!-- DONT EDIT STYLE ABOVE -->\n\n<!-- Macro for Header -->\n{% macro setheader() -%}\n{% set header_column_width=20 %}\n{% set value_column_width=80 %}\n<div style=\"width: 100%;height:100%;\">\n\t<div style=\"width:100%;overflow: hidden\">\n    <table style=\"width: 100%;height:100%\">\n        {% if letter_head and not no_letterhead -%}\n        <tr>\n            <td colspan=\"100%\" style=\"width: 100%;padding-bottom: 3px !important;\">\n                {{ letter_head }}\t\n            </td>\n        </tr>\n        <tr><td colspan=\"100%\"><hr style=\"margin-top:0px;margin-bottom:0px;border:none;color:black;background:black;height:1px;\"></hr></td></tr>\n        {%- endif %}\n        <tr style=\"height:100%;\">\n            <td colspan=\"100%\" style=\"width: 100%;padding: 1px !important;\">\n                <div style=\"height: 50px;max-height: 50px;overflow: hidden;padding-top:3px;background: #eee !important;\">\n                    <table style=\"width: 100%;height:100%;\">\n                        <tr>\n                            <td style=\"height: 100%;width: 30%;color: black;font-size: 9px;text-transform: uppercase;text-align: left;vertical-align: middle !important; padding-left: 5px !important;\">\n                                Page {{ total_pages|length }} of {{ total_pages_as_per_rows }}\n                            </td>\t\t\t\t\t\n                            <td style=\"width: 40%;color: black;text-align: center;vertical-align: middle !important;\" rowspan=\"100%\">\n                                <span style=\"font-size: 22px;text-transform:uppercase;\"><B>SALE CERTIFICATE</B></span>\n                                <br/>[See Rule-47 (A) & D]\n                            </td>\t\t\t\t\t\n                            <td style=\"height: 100%;width: 30%;color: black;font-size: 12px;text-transform: uppercase;text-align: right;vertical-align: middle !important; padding-right: 5px !important;\">\n                                <B>Date: {{ doc.get_formatted(\"posting_date\") }}</B>\n                            </td>\t\t\t\t\t\n                        </tr>\n                    </table>\n                </div>\n                <div style=\"font-size:14px;margin-left:5px;margin-top:10px;\">\n                \tCertified that has been delivered by us:\n                </div>\n                <table style=\"border-collapse: collapse;width: 100%;margin-top:20px;line-height:15px;margin-left:10px;\">\n                    <tr>\n                        <td style=\"width: 50%;vertical-align: middle !important;\">\n                            <table style=\"width: 100%;font-size:14px;\">\n                                <tr> \n                                    <td style=\"width: {{ header_column_width }}%;padding-top:5px !important;color:red;\">\n                                        Name\n                                    </td>\n                                    <td style=\"width: {{ value_column_width }}%;padding-top:5px !important;\">\n                                        <span style=\"text-align: left;text-transform:uppercase;\"><B>{{ doc.customer_name }}</B></span>\n                                    </td>\n                                </tr>\n                                <tr>\n                                \t<td style=\"width: {{ header_column_width }}%;\">\n                                    \t<!-- Intentionally Left Blank -->\n                                    </td>\n                                    <td style=\"width: {{ value_column_width }}%;\">\n                                    \t{% set coname = frappe.db.get_value(\"Customer\", doc.customer, \"company_name\") %}\n                                        {% if coname %}\n                                    \t\t<span style=\"font-size:12px;text-align: left;\"><B>C/O {{ coname }}</B></span>\n                                        {% endif %}\n                                    </td>\n                                </tr>\n                            </table>\n                        </td>\n                    \t<td style=\"vertical-align:middle !important;\">\n                    \t\t<table style=\"width:100%;font-size:12px;\">\n                    \t\t\t{% set pan_no = frappe.db.get_value(\"Customer\", doc.customer, \"pan_no\") %}\n                    \t\t\t{% set tax_id = frappe.db.get_value(\"Customer\", doc.customer, \"tax_id\") %}\n                    \t\t\t{% if pan_no %}\n\t                    \t\t\t<tr>\n\t                    \t\t\t\t<td style=\"width: {{ header_column_width }}%;color:red;\">\n\t                        \t\t\t\tPAN \n\t                        \t\t\t</td>\n\t                    \t\t\t\t<td style=\"width: {{ value_column_width }}%;\">\n\t                        \t\t\t\t<b>{{ pan_no }}</b>\n\t                        \t\t\t</td>                        \n\t                    \t\t\t</tr>\n                    \t\t\t{% endif %}\n                    \t\t\t{% if tax_id %}\n\t                    \t\t\t<tr>\n\t                    \t\t\t\t<td style=\"width: {{ header_column_width }}%;color:red;\">\n\t                        \t\t\t\tVAT \n\t                        \t\t\t</td>\n\t                    \t\t\t\t<td style=\"width: {{ value_column_width }}%;\">\n\t\t\t\t                        \t<b>{{ tax_id }}</b>\n\t\t\t\t                        </td>                        \n\t\t\t\t                    </tr>\n\t\t\t                    {% endif %}   \n\t\t                    </table>\n\t                    </td>                        \n                    </tr>\n                    <tr>                    \t\n                    \t{% if doc.shipping_address_name and doc.shipping_address_name != doc.customer_address %}\n                        \t<td style=\"width: 50%;padding-bottom: 3px !important;padding-top: 3px !important;\">\n                        {% else %}                        \n                        \t<td style=\"width: 100%;padding-bottom: 3px !important;padding-top: 3px !important;\">\n                        {% endif %}\n                            <table style=\"width: 100%;font-size:12px;\">\n                                <tr> \n                                    <td style=\"width: {{ header_column_width }}%\">\n                                        <span style=\"color:red;\">Billing Address\n                                        {% if not doc.shipping_address_name %}\n                                        \t<br>cum Delivery Address</br>\n                                        {% endif %}\n                                        </span>\n                                    </td>\n                                    <td style=\"width: {{ value_column_width }}%;padding-bottom:3px !important;\">\n                                        <B>{{ doc.address_display }}</B>\n                                    </td>\n                                </tr>\n\t\t\t                    <tr>\n\t\t\t                    \t<td style=\"width: {{ header_column_width }}%;\">\n\t\t\t\t                        \t<span style=\"color:red;\">Contact No</span>\n\t\t\t                        </td>\n\t\t\t                        <td style=\"width: {{ value_column_width }}%;\">\n                                    \t<b>{{ frappe.db.get_value(\"Customer\", doc.customer, \"primary_contact_no\") }}\n\t\t\t                            {% set secondary = frappe.db.get_value(\"Customer\", doc.customer, \"secondary_contact_no\") %}\n\t\t\t                            {% if secondary %}\n\t\t\t                                ,{{ secondary }}\n\t\t\t                            {% endif %}</b>                            \n\t\t\t                        </td>\n\t\t\t                    </tr>                    \n                            </table>\n                        </td>\n                        {% if doc.shipping_address_name and doc.shipping_address_name != doc.customer_address %}                        \n                        <td style=\"width: 50%;padding-bottom: 3px !important;padding-top: 3px !important;\">\n                            <table style=\"width: 100%;font-size:12px;\">\n                                <tr> \n                                    <td style=\"width: {{ header_column_width }}%\">\n                                        <span style=\"color:red;\">Delivery Address</span>\n                                    </td>\n                                    <td style=\"width: {{ value_column_width }}%\">\n                                        <B>{{ doc.shipping_address }}</B>\n                                    </td>\n                                </tr>\n                            </table>\n                        </td>\n                        {%- endif %}\n                    </tr>\n                <tr><td colspan=\"100%\"><hr style=\"margin-top: 0px;margin-bottom: 0px;padding-bottom:3px !important;\"></hr></td></tr>\t\t\n                <tr>                \n\t                <td style=\"width:100%;padding-bottom: 3px !important;padding-top: 3px !important;\">\n\t               \t\t<table style=\"width:100%;font-size:12px;\">\n\t               \t\t\t{% if doc.hypothecation %}\n\t                  \t\t\t<tr>\n\t                   \t\t\t\t<td style=\"width: 100%;\">\n\t                       \t\t\t\tThe Vehicle is held under agreement of H/P./Lease/Hypothecation with: <b>{{ doc.hypothecation }}</b>\n\t                       \t\t\t</td>                        \n\t                   \t\t\t</tr>\n\t              \t\t\t{% endif %}\n\t                    </table>\n\t                </td>\n                </tr>\n                </table> \n            </td>\n        </tr>\n    </table>\n    </div>\n</div>\n{%- endmacro %}\n<!-- End Macro -->\n\n\n<!-- Footer Macro -->\n{% macro setfooter(islast) -%}\n<!-- Important Note: Using Position Relative Here and Position Absolute in Table \n Would Anchor Table to the Bottom of DIV -->\n<div style=\"height:100%;width:100%;position:relative;display: flex;flex-direction:column;\">\n     {% set lower_header_height = \"60%\" %}\n     {% if not (islast and doc.taxes|length > 0) %}\n         {% set lower_header_height = \"60%\" %}\n     {% endif %}\n     <div style=\"width: 100%;bottom:0px;position:absolute;font-size:12px;\">    \n        <div><hr style=\"margin-top:0 !important;margin-bottom:0 !important;border-top:1px solid gray;\"></hr></div>\n     \t<table style=\"width:100%;min-height:60px;\">\n\t        <tr style=\"height: 35%;background: #eee !important;\">\n                <td style=\"height: 20%;width: 50%; text-align: left;\">\n                      <!-- Intentionally Left Blank -->\n                </td>\n\t            <td style=\"height: 100%;width: 50%; text-align: right;padding-bottom:25px !important;\">\n\t                <span style=\"padding-right:10px;\">For {{ doc.company }}</span>\n\t            </td>\n\t        </tr>\n\t        <tr style=\"background: #eee !important;padding-bottom:2px;\">\n\t            <td style=\"height: 20%;width: 50%; text-align: left;padding-left: 10px !important;\">\n\t                <!-- Intentionally Left Black -->\n\t            </td>            \n\t            <td style=\"height: 20%;width: 50%; text-align: right;\" colspan=\"100%\">\n\t                <span style=\"padding-right:10px;\">Manager</span>\n\t            </td>\n\t        </tr>\n         </table>\n     </div>\n    \n</div>\n{%- endmacro %}\n<!-- End Macro -->\n\n{% macro print_serialno(itemcode, serialnos) %}\n       {% if serialnos != None -%}\n           \t<div style=\"color:brown;font-size:11px;margin-left:5px;\">\n           \t{% set item_is_vehicle = frappe.db.get_value(\"Item\",itemcode,\"is_vehicle\") %}\n            {% if item_is_vehicle %}\n                  \tChassis No: \n            {% else %}\n                    Serial No:\n            {% endif %}                                                                                                \n            {%- for serial in serialnos.split('\\n') -%}   \n                {% if serial != '' %}\n                   {% set serialdoc = frappe.get_doc(\"Serial No\",serial) %}\n\t               <p style=\"display:inline;\">\n\t                      \t{{ serialdoc.serial_no }}\n\t               </p>\n\t               {% if serialdoc.is_vehicle %}\n                   \t\t <br/>\n                   \t\t Engine No: {{ serialdoc.engine_no }} \n\t\t\t\t\t\t <br/>                   \n\t\t               \t Key No: {{ serialdoc.key_no }}                         \n\t\t\t\t   {% endif %}\n\t\t        {%- endif %}\n\t\t    {%- endfor %}\n            </div>\n\t\t{%- endif %}\t\n{% endmacro %}\n\n\n{% macro do_body() -%}\n\n{% set serial_no = frappe.get_doc(\"Serial No\", doc.items[0].serial_no) %}\n{% set item = frappe.get_doc(\"Item\", doc.items[0].item_code) %}\n\n<div style=\"width:100%;height:100%;padding-left:10px;padding-top:20px;font-size:12px;padding-right:10px;\">\nThe Details of the Vehicle are given as below:\n<div style=\"width:100%;height:100%;padding-top:20px;padding-left:15px;line-height:30px;\">\n\t<div style=\"width:100%;\">\n    \t<div style=\"width:40%;float:left;\">1. Class of Vehicle</div>\n    \t<div style=\"width:60%;float:left;\">: {{ doc.items[0].item_name }}</div>\n    </div>\n\n\t<div style=\"width:100%;\">\n    \t<div style=\"width:40%;float:left;\">2. Makers Name</div>\n    \t<div style=\"width:60%;float:left;\">: {{ item.brand }}</div>\n    </div>\n\n\t<div style=\"width:100%;\">\n    \t<div style=\"width:40%;float:left;\">3. Chassis Number</div>\n    \t<div style=\"width:60%;float:left;\">: {{ serial_no.name }}</div>\n    </div>\n\n\t<div style=\"width:100%;\">\n    \t<div style=\"width:40%;float:left;\">4. Engine Number</div>\n    \t<div style=\"width:60%;float:left;\">: {{ serial_no.engine_no }}</div>\n    </div>\n\n\t<div style=\"width:100%;\">\n    \t<div style=\"width:40%;float:left;\">5. Horse Power of Cubic Capacity</div>\n    \t<div style=\"width:60%;float:left;\">: {{ item.engine_cc }}</div>\n    </div>\n\n\t<div style=\"width:100%;\">\n    \t<div style=\"width:40%;float:left;\">6. Fuel Used</div>\n    \t<div style=\"width:60%;float:left;\">: {{ item.fuel_used }}</div>\n    </div>\n\n\t<div style=\"width:100%;\">\n    \t<div style=\"width:40%;float:left;\">7. No. of Cylinders</div>\n    \t<div style=\"width:60%;float:left;\">: {{ item.no_of_cylinders }}</div>\n    </div>\n\n\t<div style=\"width:100%;\">\n    \t<div style=\"width:40%;float:left;\">8. Year of Manufacture</div>\n    \t<div style=\"width:60%;float:left;\">: {{ serial_no.year_of_manufacture }}</div>\n    </div>\n\n\t<div style=\"width:100%;\">\n    \t<div style=\"width:40%;float:left;\">9. Seating Capacity</div>\n    \t<div style=\"width:60%;float:left;\">: {{ item.seating_capacity }}</div>\n    </div>\n\n\t<div style=\"width:100%;\">\n    \t<div style=\"width:40%;float:left;\">10. Unleaden Weight</div>\n    \t<div style=\"width:60%;float:left;\">: {{ item.unleaden_weight }}</div>\n    </div>\n    \n    <div style=\"width:100%;\">\n    \t<div> 11. Maximum axle Weight and Number & description of Tyres (Incase of Transport Vehicle)</div>\n        <div style=\"width:100%; padding-left:25px;font-size:11px;\">\n    \t\t<div style=\"width:20%;float:left;\">(a) Front Axle</div>\n    \t\t<div style=\"width:30%;float:left;\">: N.A.</div>\n\t    \t<div style=\"width:20%;float:left;\">(b) Rear Axle</div>\n\t    \t<div style=\"width:30%;float:left;\">: N.A.</div>\n    \t</div>     \n        <div style=\"width:100%; padding-left:25px;font-size:11px;\">\n    \t\t<div style=\"width:20%;float:left;\">(c) Any other Axle</div>\n    \t\t<div style=\"width:30%;float:left;\">: N.A.</div>\n\t    \t<div style=\"width:20%;float:left;\">(d) Tandem Axle</div>\n\t    \t<div style=\"width:30%;float:left;\">: N.A.</div>\n    \t</div>             \n    </div>\n\n\t<div style=\"width:100%;\">\n    \t<div style=\"width:40%;float:left;\">12. Color of Body</div>\n    \t<div style=\"width:60%;float:left;\">: {{ serial_no.color }}</div>\n    </div>\n\n\t<div style=\"width:100%;\">\n    \t<div style=\"width:40%;float:left;\">13. Type of Body</div>\n    \t<div style=\"width:60%;float:left;\">: {{ item.type_of_body }}</div>\n    </div>\n    \n\t<div style=\"width:100%;\">\n    \t<div style=\"width:40%;float:left;\">14. Gross Vehicle Weight</div>\n    \t<div style=\"width:60%;float:left;\">: {{ item.gross_vehicle_weight }}</div>\n    </div>\n\n</div>\n\n</div>\n\n\n{%- endmacro %}\n\n<!--------------------------------------------------------------------------------------------------->\n<!-- Don't Edit the Following Blocks -->\n<!-- Instead Use The Macros Above -->\n<!--------------------------------------------------------------------------------------------------->\n\n\n{% macro insert_page_break(test_condition) -%}\n\t{% if test_condition %} \n\n\t\t                <!-- Fill Empty Space -->\n\t\t                <div style=\"height: 100%\"></div>\n\n\t\t\t<!-- End Body Container -->\n\t\t        </div>\n\n\t\t    <!-- End Main Body Div -->  \n\t\t    </div>\n\n\t\t    <!-- Set Footer -->\n\t\t    <div style=\"max-height: {{ max_footer_height }};height: {{ footer_height }};background: {{ footer_background }};;overflow: hidden;display:grid;min-height:75px;\">\n\t\t\t\t<div style=\"width: 100%;height: 100%;\"> \n\t\t\t\t\t{{ setfooter(false) }}\n\t\t\t\t</div>\n\t\t    </div>\n\n\n\t\t<!-- End Main Div -->\n\t\t</div>\n\n\n\t\t<!-- PAGE BREAK -->\n\t\t<div class=\"page-break\"></div> <!-- Seems to be working in Chrome Ver: 38.0.2125.111 & Chrome 43 -->\n\n\t\t<!-- Logic to Count Total Number of Pages -->\n\t\t{% if total_pages.append('1') %} {% endif %}\t\n\n\t\t<!-- Start Another Main Div Tag -->\n\t\t<div class=\"page-preview\" style=\"height: {{ div_page_height }};max-height: {{ div_max_page_height }};display:flex !important;flex-direction:column;\">    \n\n\t\t    <!-- Set New Header -->\n\t\t    <div style=\"max-height: {{ max_header_height }};height: {{ header_height }};background: {{ header_background }};overflow: hidden;\">\n\t\t\t\t<div style=\"width: 100%;height:100%;\">\n\t\t\t\t\t{{ setheader() }}\n\t\t\t\t</div>\n\t\t    </div>\n\n\n\t\t    <!-- Start a New Body -->\n\t\t    <div style=\"max-height: {{ max_body_height }};height: {{ body_height }};background: {{ body_background }};overflow: hidden;flex:1;display:grid;\"> \n\n\t\t        <!-- New Body Container -->\n\t\t        <div style=\"width:100%;height: 100%;\">\t\n\n\t{% endif %}\n{%- endmacro %}\n\n{% if doc.items[0].is_vehicle == 1%}\n\n<!-- Set Global Default font -->\n<span style=\"font-family:{{ global_default_font }};font-size:10px;\">\n\n<!-- Main Div Tag -->\n<div class=\"page-preview\" style=\"height: {{ div_page_height }};max-height: {{ div_max_page_height }};display:flex !important;flex-direction:column;\">\n\t<!-- Logic to Count Total Number of Pages -->\n\t{% set total_pages = [1] %}\n\n    <!-- Set Header -->\n    <div style=\"max-height: {{ max_header_height }};height: {{ header_height }};background: {{ header_background }};overflow: hidden;\">\n\t\t<div style=\"width: 100%;height:100%;\">\n\t\t\t{{ setheader() }}\n\t\t</div>\n    </div>\n\n    <!-- Set Body -->\n    <!-- Main Body Tag -->\n    <div style=\"max-height: {{ max_body_height }};height: {{ body_height }};background: {{ body_background }};overflow: hidden;flex:1;display:grid;\"> \n        <!-- Body Container -->\n        <div style=\"width:100%;height: 100%;\">\n        \n        \t{{ do_body() }}\n\t\n        <!-- End Body Container Div -->\n        </div>\n\n        <!-- End Main Body Div -->            \n    </div>\n\n\n    <!-- Set last Footer -->\n    <div style=\"max-height: {{ max_footer_height }};height: {{ footer_height }};background: {{ footer_background }};;overflow: hidden;display:grid;min-height:75px;\">\n\t\t<div style=\"width: 100%;height: 100%;\"> \n\t\t\t{{ setfooter(true) }}\n\t\t</div>\n    </div>\n\n</div>\n<!-- End Font -->\n</span>\n\n{% endif %}", 
  "line_breaks": 0, 
  "modified": "2017-08-10 14:29:02.766023", 
  "module": "Accounts", 
  "name": "Sale Letter", 
  "print_format_builder": 0, 
  "print_format_type": "Server", 
  "show_section_headings": 0, 
  "standard": "No"
 }, 
 {
  "align_labels_left": 0, 
  "css": null, 
  "custom_format": 1, 
  "disabled": 0, 
  "doc_type": "Sales Invoice", 
  "docstatus": 0, 
  "doctype": "Print Format", 
  "font": "Default", 
  "format_data": null, 
  "html": "<!-- TESTED ON CHROME VER 57.0.2987.133 -->\n{% set display_rows_per_page = 8 %}\n{% set row_height = \"auto\" %}\n{% set div_page_height = \"100%\" %}\n{% set div_max_page_height = \"100%\" %}\n{% set min_page_height = \"11.69in\" %}\n{% set min_page_width = \"8.26in\" %}\n{% set max_page_height = \"11.69in\" %}\n{% set max_page_width = \"8.26in\" %}\n{% set preferred_page_height = \"11.69in\" %}\n{% set preferred_page_width = \"8.26in\" %}\n{% set footer_background = \"transparent\" %}\n{% set header_background = \"transparent\" %}\n{% set body_background = \"transparent\" %}\n{% set header_height = \"initial\" %}\n{% set max_header_height = \"initial\" %}\n{% set footer_height = \"initial\" %}\n{% set max_footer_height = \"initial\" %}\n{% set body_height = \"initial\" %}\n{% set max_body_height = \"100%\" %}\n{% set page_padding = \"1cm\" %}\n{% set total_pages_as_per_rows = (doc.items|length / display_rows_per_page)|int %}\n{% if (doc.items|length % display_rows_per_page|int)|int != 0 %}\n    {% set total_pages_as_per_rows = total_pages_as_per_rows + 1 %}\n{% endif %}\n<!-- FLAG to Enable/Disable Tax Analysis -->\n{% set print_tax_analysis = true %}\n{% set global_default_font = \"Monospace\" %}\n{% set serial_no_column_width = \"4%\" %}\n{% set hsn_no_column_width = \"10%\" %}\n{% set description_column_width = \"48%\" %}\n{% set qty_column_width = \"10%\" %}\n{% set rate_column_width = \"14%\" %}\n{% set amount_column_width = \"14%\" %}        \n{% set tax_line_counter = {'tl':1} %}\n{% set tax_line_max_length = 8 %}\n{% set tax_analysis_div_width = \"50%\" %}\n{% set tax_analysis_row_left = \"60%\" %} \n{% set tax_analysis_row_right = \"40%\" %}\n{% set total_amount = {'amt':0} %}\n\n<!-- DONT EDIT STYLE BELOW -->\n<style>\n    html{\n        height:100%;\n        position:relative\n    }\n    body{\n        min-height:100% /* force the BODY element to match the height of the HTML element */\n    }\n    .print-format td {\n        padding: 0px !important;\n    }\n    .print-format {\n        height: 100%;\n        background-color: initial;\n        box-shadow: initial;\n        max-width: initial;\n        min-height: initial;\n        margin: initial;\n        padding: initial !important;        \n    }\n    .print-format-gutter {\n        height: 100%;\n    }\n    @media screen {\n        .page-preview {\n            min-height: {{ min_page_height }} !important;\n            max-width: {{ max_page_width }} !important;\n            padding: {{ page_padding }};\n            background-color: white;\n            box-shadow: 0px 0px 9px rgba(0,0,0,0.5);\n            margin: auto;\n            display: table !important;\n            width: 100%;\n        }\n    }\n    @media print {    \n    \t@page {\n            size: {{ preferred_page_width }} {{ preferred_page_height }} portrait;\n            margin: {{ page_padding }};\n        }    \n        body {\n            height: 100%;\n            -webkit-print-color-adjust: exact !important;\n        }\n        .page-preview {\n            height: 100%;\n            width: 100%;\n            display: table;\n        }\n    }\n    @media all {\n \t\ttable.body-table tbody tr td {\n    \t\tborder-left-style:solid !important;\n            border-left-color:gray !important;\n            border-left-width:1px !important;\n\t\t}\n        table.body-table tbody tr td:nth-child(1) {\n        \tborder: none !important;\n        }    \n    }\n</style>\n<!-- DONT EDIT STYLE ABOVE -->\n\n<!-- Macro for Header -->\n{% macro setheader() -%}\n{% set header_column_width=20 %}\n{% set value_column_width=80 %}\n<div style=\"width: 100%;height:100%;\">\n\t<div style=\"width:100%;overflow: hidden\">\n    <table style=\"width: 100%;height:100%\">\n        {% if letter_head and not no_letterhead -%}\n        <tr>\n            <td colspan=\"100%\" style=\"width: 100%;padding-bottom: 3px !important;\">\n                {{ letter_head }}\t\n            </td>\n        </tr>\n        <tr><td colspan=\"100%\"><hr style=\"margin-top:0px;margin-bottom:0px;border:none;color:black;background:black;height:1px;\"></hr></td></tr>\n        {%- endif %}\n        <tr style=\"height:100%;\">\n            <td colspan=\"100%\" style=\"width: 100%;padding: 1px !important;\">\n                <div style=\"height: 50px;max-height: 50px;overflow: hidden;padding-top:3px;background: #eee !important;\">\n                    <table style=\"width: 100%;height:100%;\">\n                        <tr>\n                            <td style=\"height: 100%;width: 30%;color: black;font-size: 9px;text-transform: uppercase;text-align: left;vertical-align: middle !important; padding-left: 5px !important;\">\n                                Page {{ total_pages|length }} of {{ total_pages_as_per_rows }}\n                            </td>\t\t\t\t\t\n                            <td style=\"width: 40%;color: black;text-align: center;vertical-align: middle !important;\" rowspan=\"100%\">\n                                <span style=\"font-size: 22px;text-transform:uppercase;\"><B>{{ doc.select_print_heading or \"Invoice\" }}</B></span>\n                            </td>\t\t\t\t\t\n                            <td style=\"height: 100%;width: 30%;color: black;font-size: 12px;text-transform: uppercase;text-align: right;vertical-align: middle !important; padding-right: 5px !important;\">\n                                <B>{{ doc.name[5:] }}<br>Date: {{ doc.get_formatted(\"posting_date\") }}</br> </B>\n                            </td>\t\t\t\t\t\n                        </tr>\n                    </table>\n                </div>\n                <table style=\"border-collapse: collapse;width: 100%;margin-top:2px;line-height:15px;\">\n                    <tr>\n                        <td style=\"width: 50%;vertical-align: middle !important;\">\n                            <table style=\"width: 100%;font-size:14px;\">\n                                <tr> \n                                    <td style=\"width: {{ header_column_width }}%;padding-top:5px !important;color:red;\">\n                                        Name\n                                    </td>\n                                    <td style=\"width: {{ value_column_width }}%;padding-top:5px !important;\">\n                                        <span style=\"text-align: left;text-transform:uppercase;\"><B>{{ doc.customer_name }}</B></span>\n                                    </td>\n                                </tr>\n                                <tr>\n                                \t<td style=\"width: {{ header_column_width }}%;\">\n                                    \t<!-- Intentionally Left Blank -->\n                                    </td>\n                                    <td style=\"width: {{ value_column_width }}%;\">\n                                    \t{% set coname = frappe.db.get_value(\"Customer\", doc.customer, \"company_name\") %}\n                                        {% if coname %}\n                                    \t\t<span style=\"font-size:12px;text-align: left;\"><B>C/O {{ coname }}</B></span>\n                                        {% endif %}\n                                    </td>\n                                </tr>\n                            </table>\n                        </td>\n                    \t<td style=\"vertical-align:middle !important;\">\n                    \t\t<table style=\"width:100%;font-size:12px;\">\n                    \t\t\t{% set pan_no = frappe.db.get_value(\"Customer\", doc.customer, \"pan_no\") %}\n                    \t\t\t{% set tax_id = frappe.db.get_value(\"Customer\", doc.customer, \"tax_id\") %}\n                    \t\t\t{% if pan_no %}\n\t                    \t\t\t<tr>\n\t                    \t\t\t\t<td style=\"width: {{ header_column_width }}%;color:red;\">\n\t                        \t\t\t\tPAN \n\t                        \t\t\t</td>\n\t                    \t\t\t\t<td style=\"width: {{ value_column_width }}%;\">\n\t                        \t\t\t\t<b>{{ pan_no }}</b>\n\t                        \t\t\t</td>                        \n\t                    \t\t\t</tr>\n                    \t\t\t{% endif %}\n                    \t\t\t{% if tax_id %}\n\t                    \t\t\t<tr>\n\t                    \t\t\t\t<td style=\"width: {{ header_column_width }}%;color:red;\">\n\t                        \t\t\t\tVAT \n\t                        \t\t\t</td>\n\t                    \t\t\t\t<td style=\"width: {{ value_column_width }}%;\">\n\t\t\t\t                        \t<b>{{ tax_id }}</b>\n\t\t\t\t                        </td>                        \n\t\t\t\t                    </tr>\n\t\t\t                    {% endif %}   \n\t\t                    </table>\n\t                    </td>                        \n                    </tr>\n                    <tr>                    \t\n                    \t{% if doc.shipping_address_name and doc.shipping_address_name != doc.customer_address %}\n                        \t<td style=\"width: 50%;padding-bottom: 3px !important;padding-top: 3px !important;\">\n                        {% else %}                        \n                        \t<td style=\"width: 100%;padding-bottom: 3px !important;padding-top: 3px !important;\">\n                        {% endif %}\n                            <table style=\"width: 100%;font-size:12px;\">\n                                <tr> \n                                    <td style=\"width: {{ header_column_width }}%\">\n                                        <span style=\"color:red;\">Billing Address\n                                        {% if not doc.shipping_address_name %}\n                                        \t<br>cum Delivery Address</br>\n                                        {% endif %}\n                                        </span>\n                                    </td>\n                                    <td style=\"width: {{ value_column_width }}%;padding-bottom:3px !important;\">\n                                        <B>{{ doc.address_display }}</B>\n                                    </td>\n                                </tr>\n\t\t\t                    <tr>\n\t\t\t                    \t<td style=\"width: {{ header_column_width }}%;\">\n\t\t\t\t                        \t<span style=\"color:red;\">Contact No</span>\n\t\t\t                        </td>\n\t\t\t                        <td style=\"width: {{ value_column_width }}%;\">\n                                    \t<b>{{ frappe.db.get_value(\"Customer\", doc.customer, \"primary_contact_no\") }}\n\t\t\t                            {% set secondary = frappe.db.get_value(\"Customer\", doc.customer, \"secondary_contact_no\") %}\n\t\t\t                            {% if secondary %}\n\t\t\t                                ,{{ secondary }}\n\t\t\t                            {% endif %}</b>                            \n\t\t\t                        </td>\n\t\t\t                    </tr>                    \n                            </table>\n                        </td>\n                        {% if doc.shipping_address_name and doc.shipping_address_name != doc.customer_address %}                        \n                        <td style=\"width: 50%;padding-bottom: 3px !important;padding-top: 3px !important;\">\n                            <table style=\"width: 100%;font-size:12px;\">\n                                <tr> \n                                    <td style=\"width: {{ header_column_width }}%\">\n                                        <span style=\"color:red;\">Delivery Address</span>\n                                    </td>\n                                    <td style=\"width: {{ value_column_width }}%\">\n                                        <B>{{ doc.shipping_address }}</B>\n                                    </td>\n                                </tr>\n                            </table>\n                        </td>\n                        {%- endif %}\n                    </tr>\n                <tr><td colspan=\"100%\"><hr style=\"margin-top: 0px;margin-bottom: 0px;padding-bottom:3px !important;\"></hr></td></tr>\t\t\n                <tr>                \n\t                <td style=\"width:50%;padding-bottom: 3px !important;padding-top: 3px !important;\">\n\t               \t\t<table style=\"width:100%;font-size:12px;\">\n\t               \t\t\t{% if doc.hypothecation %}\n\t                  \t\t\t<tr>\n\t                   \t\t\t\t<td style=\"width: 30%;color:red;\">\n\t                       \t\t\t\tHypothecation: \n\t                       \t\t\t</td>\n\t                   \t\t\t\t<td style=\"width: 70%;\">\n\t                       \t\t\t\t<b>{{ doc.hypothecation }}</b>\n\t                       \t\t\t</td>                        \n\t                   \t\t\t</tr>\n\t              \t\t\t{% endif %}\n\t               \t\t\t{% if doc.reference %}\n\t                  \t\t\t<tr>\n\t                   \t\t\t\t<td style=\"width: 30%;color:red;\">\n\t                       \t\t\t\tHYP Reference: \n\t                       \t\t\t</td>\n\t                   \t\t\t\t<td style=\"width: 70%;\">\n\t                       \t\t\t\t<b>{{ doc.reference }}</b>\n\t                       \t\t\t</td>                        \n\t                   \t\t\t</tr>\n\t              \t\t\t{% endif %}                            \n\t                    </table>\n\t                </td>\n\t                <td style=\"width:50%;padding-bottom: 3px !important;padding-top: 3px !important;\">\n\t               \t\t<table style=\"width:100%;font-size:12px;\">\n\t               \t\t\t{% if doc.purchase_order_no %}\n\t                  \t\t\t<tr>\n\t                   \t\t\t\t<td style=\"width: 40%;color:red;\">\n\t                       \t\t\t\tPurchase Order No: \n\t                       \t\t\t</td>\n\t                   \t\t\t\t<td style=\"width: 60%;\">\n\t                       \t\t\t\t<b>{{ doc.purchase_order_no }}</b>\n\t                       \t\t\t</td>                        \n\t                   \t\t\t</tr>\n\t                  \t\t\t<tr>\n\t                   \t\t\t\t<td style=\"width: 40%;color:red;\">\n\t                       \t\t\t\tPurchase Order Date: \n\t                       \t\t\t</td>\n\t                   \t\t\t\t<td style=\"width: 60%;\">\n\t                       \t\t\t\t<b>{{ doc.purchase_order_date }}</b>\n\t                       \t\t\t</td>                        \n\t                   \t\t\t</tr>                                \n\t              \t\t\t{% endif %}\n\t                    </table>\n\t                </td>                    \n                </tr>\n                </table> \n            </td>\n        </tr>\n    </table>\n    </div>\n    <div style=\"width:100%;height: 25px !important;bottom: 0;position: sticky;margin-top:2px;font-size: 12px;text-transform:uppercase;\">\n    <table style=\"height: 100%;width: 100%;\">\n        <!-- Column Headings -->\n    \t<tr style=\"width: 100%;background: #eee !important;min-height: 15%;height: 25px;font-weight: 600;border-bottom: 1px solid #eee;\">\n            <td style=\"width: {{ serial_no_column_width }};vertical-align:middle !important;padding-left:4px !important;\">Sr</td>\n            <td style=\"width: {{ hsn_no_column_width }};vertical-align:middle !important;padding-left:4px !important;\">HSN Code</td>\n            <td style=\"width: {{ description_column_width }};vertical-align:middle !important;padding-left:4px !important;\">Item Name</td>\n            <td style=\"width: {{ qty_column_width }};vertical-align:middle !important;padding-right:4px !important;\" class=\"text-right\">Qty</td>\n            <td style=\"width: {{ rate_column_width }};vertical-align:middle !important;padding-right:4px !important;\" class=\"text-right\">Rate</td>\n            <td style=\"width: {{ amount_column_width }};vertical-align:middle !important;padding-right:4px !important;\" class=\"text-right\">Amount</td>\n        </tr>\n    </table>\n    </div>\n</div>\n{%- endmacro %}\n<!-- End Macro -->\n\n\n<!-- Footer Macro -->\n{% macro setfooter(islast) -%}\n<!-- Important Note: Using Position Relative Here and Position Absolute in Table \n Would Anchor Table to the Bottom of DIV -->\n<div style=\"height:100%;width:100%;position:relative;display: flex;flex-direction:column;\">\n\t\t<!-- CONTINUED BAND -->\n\t\t{% if not islast %}\n\t\t<div style=\"width: 100%;padding-top: 20px;padding-bottom:20px;\">\n\t\t\t<table style=\"width: 100%;\">\n\t        \t<tr>\n\t\t            <td style=\"text-align:right;\" colspan=\"100%\">\n\t\t                <b>Continued ... </b>\n\t\t            </td>\n\t\t        </tr>\n\t\t\t</table>\n\t\t</div>\n\t\t{% endif %}\n        <!-- END CONTINUED BAND -->\n        \n\t\t<!-- TOTAL BAND -->\n\t\t{% if islast %}\n        <div style=\"width: 100%;\">\n\t\t<table style=\"width:100%;height:100%;min-height:35px;\">\n\t\t\t<tr  style=\"font-size: 11px;height: 100%;width:100%;background: #eee !important;\">\n\t\t\t\t<td style=\"width:60%;vertical-align: middle !important;\">\n\t\t\t\t\t{{ frappe.utils.money_in_words(total_amount.amt) }}\n\t\t\t\t</td>\n                <td class=\"text-right\" style=\"width:40%;font-size:13px;vertical-align: middle !important;padding-right:3px !important;\">\n                \tTotal (Rounded) <b>{{ frappe.format(total_amount.amt|float) }}.00</b>\n                </td>\n\t\t\t</tr>\n\t\t</table>\n        </div>\n\t\t{% endif %}\n        <!-- END TOTAL BAND -->\n        \n        \n     {% set lower_header_height = \"60%\" %}\n     {% if not (islast and doc.taxes|length > 0) %}\n         {% set lower_header_height = \"60%\" %}\n     {% endif %}\n     <div style=\"width: 100%;flex-grow:1;\">\n     \t\t<div><hr style=\"margin-top:0 !important;margin-bottom:0 !important;border-top:1px solid gray;\"></hr></div>\n            <div>\n\t            <div style=\"width:65%;float: left;\">\n\t\t\t\t\t\t<span style=\"font-size:10px;\"><b>Terms & Conditions</b></span>\t\t\t\t\t   \n\t\t\t\t\t\t<span style=\"font-size: 10px;\">\n\t\t\t\t\t\t\t{{ doc.terms or \"\" }}\n\t\t\t\t\t\t</span>\n\t\t\t\t</div>\n\t            <div style=\"margin-left:10px;float: left;padding-top:5px;\">\n\t                    <span style=\"font-size:10px;\"><b>Company's Registration Details</b></span>\n\t\t\t\t\t\t<span style=\"font-size: 10px;\">\n\t\t\t\t\t\t\t{{ frappe.db.get_value(\"Company\", doc.company, \"registration_details\") or \"\" }} \n\t\t\t\t\t\t</span>                    \n\t            </div>\n            </div>\n     </div>\n     <div style=\"width: 100%;bottom:0px;position:absolute;font-size:12px;\">    \n        <div><hr style=\"margin-top:0 !important;margin-bottom:0 !important;border-top:1px solid gray;\"></hr></div>\n     \t<table style=\"width:100%;min-height:60px;\">\n\t        <tr style=\"height: 35%;background: #eee !important;\">\n                <td style=\"height: 20%;width: 50%; text-align: left;\">\n                      <!-- Intentionally Left Blank -->\n                </td>\n\t            <td style=\"height: 100%;width: 50%; text-align: right;padding-bottom:25px !important;\">\n\t                <span style=\"padding-right:10px;\">For {{ doc.company }}</span>\n\t            </td>\n\t        </tr>\n\t        <tr style=\"background: #eee !important;padding-bottom:2px;\">\n\t            <td style=\"height: 20%;width: 50%; text-align: left;padding-left: 10px !important;\">\n\t                Receivers Signature\n\t            </td>            \n\t            <td style=\"height: 20%;width: 50%; text-align: right;\" colspan=\"100%\">\n\t                <span style=\"padding-right:10px;\">Manager</span>\n\t            </td>\n\t        </tr>\n         </table>\n     </div>\n    \n</div>\n{%- endmacro %}\n<!-- End Macro -->\n\n{% macro print_serialno(itemcode, serialnos) %}\n       {% if serialnos != None -%}\n           \t<div style=\"color:brown;font-size:11px;margin-left:5px;\">\n           \t{% set item_is_vehicle = frappe.db.get_value(\"Item\",itemcode,\"is_vehicle\") %}\n            {% if item_is_vehicle %}\n                  \tChassis No: \n            {% else %}\n                    Serial No:\n            {% endif %}                                                                                                \n            {%- for serial in serialnos.split('\\n') -%}   \n                {% if serial != '' %}\n                   {% set serialdoc = frappe.get_doc(\"Serial No\",serial) %}\n\t               <p style=\"display:inline;\">\n\t                      \t{{ serialdoc.serial_no }}\n\t               </p>\n\t               {% if serialdoc.is_vehicle %}\n                   \t\t <br/>\n                   \t\t Engine No: {{ serialdoc.engine_no }} \n\t\t\t\t\t\t <br/>                   \n\t\t               \t Key No: {{ serialdoc.key_no }}                         \n\t\t\t\t   {% endif %}\n\t\t        {%- endif %}\n\t\t    {%- endfor %}\n            </div>\n\t\t{%- endif %}\t\n{% endmacro %}\n\n\n{% macro do_body() -%}\n\t            <table class=\"body-table\" style=\"width: 100%;height: 100%;font-size:12px;\">\n\n                <tbody>\n\n                    <!-- Initialize Logic to Count Total Number of Rows -->\n                    {% set total_lines = [] %}\n\n\t\t\t\t\t<!-- VERTICAL LINES -->\n                    <tr><td colspan=\"100%\"><hr style=\"margin-top:0 !important;margin-bottom:0 !important;border-top:1px solid gray;\"></hr></td></tr>\n\t\t\t\t\t<tr>\n                    \t<td style=\"width:{{ serial_no_column_width }};border:none !important;\"><!-- INTENTIONALLY LEFT BLANK --></td>\n                        <td rowspan=\"100%\"></td> \n                    \t<td style=\"width:{{ hsn_no_column_width }};border:none !important;\"><!-- INTENTIONALLY LEFT BLANK --></td>\n                        <td rowspan=\"100%\"></td>                         \n                    \t<td style=\"width:{{ description_column_width }};border:none !important;\"><!-- INTENTIONALLY LEFT BLANK --></td>\n                        <td rowspan=\"100%\"></td> \n                    \t<td style=\"width:{{ qty_column_width }};border:none !important;\"><!-- INTENTIONALLY LEFT BLANK --></td>\n                        <td rowspan=\"100%\"></td> \n                    \t<td style=\"width:{{ rate_column_width }};border:none !important;\"><!-- INTENTIONALLY LEFT BLANK --></td>\n                        <td rowspan=\"100%\"></td> \n\t\t\t\t\t</tr>\n                    \n                    {%- for row in doc.items -%}\n\n                        {% if loop.index % 2 == 0 -%}\n                        <!-- Do Something / Alternative Rows -->\t   \n                        {%- endif %}\n\n                        <tr style=\"min-height: {{ row_height }};height: {{ row_height }};border-bottom:1px solid #eee;overflow:hidden;\">\n                            <td style=\"width: {{ serial_no_column_width }};padding-left:4px !important;padding-top:3px !important;overflow:hidden;border:none !important;\">\n                            \t<div style=\"height: {{ row_height }};\">\n                            \t\t{{ row.idx }} \n                                </div>\n                            </td>\n                            <td style=\"width: {{ hsn_no_column_width }};padding-left:4px !important;padding-top:3px !important;overflow:hidden;border:none !important;\">\n                            \t<div style=\"height: {{ row_height }};\">\n                            \t\t{{ frappe.db.get_value(\"Item\",row.item_code,\"gst_hsn_code\") }} \n                                </div>\n                            </td>                            \n                            <td style=\"width: {{ description_column_width }};padding-left:4px !important;padding-top:3px !important;overflow:hidden;border:none !important;\"> \n                            \t<div style=\"height: {{ row_height }};\">\n\t                                <p style=\"display:inline;\">\n\t                                    {{ frappe.db.get_value(\"Item\",row.item_code,\"brand\") }} \n\t                                </p>\n\t                                <p style=\"display:inline;\">\n\t                                \t{{ row.item_name }}\n\t\t                            </p>\n                                    <p style=\"display:inline;\">\n                                    \t<div style=\"color:blue;margin-left:5px;\">\n                                    \t\t<I>{{ row.description }}</I>\n                                        </div>\n                                    </p>\n\t                                {% if row.item_code != row.item_name -%}\n\t                                    <br>Item Code: {{ row.item_code}}</br>\n\t                                {%- endif %}\n                                                                        \n                                    <!-- SALES INVOICE ROW SERIAL NO -->\n                                    {{ print_serialno(row.item_code, row.serial_no) }}\n                                    {% if row.is_vehicle == 1 %}\n                                    \t<div style=\"color:brown;font-size:11px;margin-left:5px;\">\n                                    \tBattery No: {{ row.battery_serial_no }}\n                                        <br/>\n                                        Service Book No: {{ row.service_book_no }}\n                                        </div>\n                                    {% endif %}\n                                    <!-- SALES INVOICE ROW SERIAL NO -->\n                                    \n                                    <!-- SALES INVOICE PACKED ITEM SERIAL NO -->\n                                    {% if doc.packed_items != None %}\n                                       <div style=\"margin-left:10px;\">\n                                    \t{% for packs in doc.packed_items %}\n                                        \t{% if packs.parent_item == row.item_code %}\n                                            <div>\n\t\t\t\t                                <p style=\"display:inline;\">\n\t\t\t\t                                \t{{ packs.item_name }}\n\t\t\t\t\t                            </p>\n\t\t\t                                    <p style=\"display:inline;\">\n\t\t\t                                    \t<I><span style=\"color:blue;\">&nbsp - &nbsp {{ packs.description }} </span></I>\n\t\t\t                                    </p>\n\t\t\t                                    <p style=\"display:inline;\">\n\t\t\t                                    \t<I><span style=\"color:blue;\">&nbsp - &nbsp {{ packs.get_formatted(\"qty\", doc) }} {{ packs.uom or packs.stock_uom }} </span></I>\n\t\t\t                                    </p>          \n                                                {{ print_serialno(packs.item_code, packs.serial_no) }}\n\t\t                                    </div>\t\n                                            {% endif %}\n                                        {% endfor %}\n                                      </div>\n                                    {% endif %}\n                                    <!-- SALES INVOICE PACKED ITEM SERIAL NO -->\n                                    \n                                    <!-- PRINT REMARKS -->\n                                    {% if row.remarks %}\n                                    <span style=\"font-size:9px;\">                                    \n                                        <div style=\"width:100%;\">\n                                        \t<div style=\"float:left;margin-left:5px;\">\n                                        \t\tRemarks:\n                                            </div>\n                                            <div style=\"width:85%;float:left;\">\n                                            \t{{ row.remarks }}\n                                            </div>\n                                       </div>\n                                    </span>                                       \n                                    {% endif %}\n                                    \n                                </div>\n                            </td>\n                            <td style=\"width: {{ qty_column_width }}; text-align: right;padding-right:4px !important;padding-top:3px !important;overflow:hidden;border:none !important;\">\n                            \t<div style=\"height: {{ row_height }};\">\n                                \t{{ row.get_formatted(\"qty\", doc) }} {{ row.uom or row.stock_uom }}\n                                </div>\n                            </td>\n                            <td style=\"width: {{ rate_column_width }}; text-align: right;padding-right:4px !important;padding-top:3px !important;overflow:hidden;border:none !important;\">\n                            \t<div style=\"height: {{ row_height }};\">\n                                \t{% if row.mop_rate %}\n                                \t\t{{ row.get_formatted(\"mop_rate\", doc) }}                                        \n                                    {% else %}\n                                \t\t{{ row.get_formatted(\"rate\", doc) }}                                        \n                                    {% endif %}\n                                </div>\n                            </td>\n                            <td style=\"width: {{ amount_column_width }}; text-align: right;padding-right:4px !important;padding-top:3px !important;overflow:hidden;border:none !important;\">\n                            \t<div style=\"height: {{ row_height }};\">\n                                \t{% if row.mop_rate and row.mop_rate > 0 %}\n                                    \t{% if total_amount.update({'amt':(total_amount.amt+ (row.mop_rate*row.qty))}) %}{% endif %}\n                                \t\t{{ row.get_formatted(\"mop_rate\", doc) }}                                        \n                                \t\t{% set temp_amt = row.mop_rate*row.qty %}                                        \n                                    {% else %}\n                                    \t{% if total_amount.update({'amt':(total_amount.amt+ row.amount)}) %}{% endif %}                                    \n                                \t\t{{ row.get_formatted(\"rate\", doc) }}                                        \n                                \t\t{% set temp_amt = row.amount %}                                               \n                                    {% endif %}\n                                \n                                \t{{ row.get_formatted(\"temp_amt\", doc) }}\n                                </div>\n                            </td>                            \n                        </tr>\n\n\t                <!-- Page Break Logic Here -->\n\t                {% if loop.index % display_rows_per_page == 0  and loop.index < doc.items|length %}\n\t\t                <!-- Fill Empty Space -->\n\t\t                <tr height=\"100%\"> \n\t\t                    <td style=\"width={{ serial_no_column_width }};\"> </td>\n\t\t                </tr>  \n                        <tr><td colspan=\"100%\"><hr style=\"margin-top:0 !important;margin-bottom:0 !important;border-top:1px solid gray;\"></hr></td></tr>\n                        \n\t\t\t\t\t\t<!-- Need to End the Inner Blocks (Table, TBody) Used Above -->\n\t\t\t\t\t\t</tbody></table>\n\t\t\t\t\t\t\t<!-- Page Break -->\n\t\t\t\t\t\t\t{{ insert_page_break(true) }}\n\t\t\t\t\t\t<!-- Start New Inner Block -->\n\t\t\t\t\t\t<table class=\"body-table\" style=\"width: 100%;height: 100%;font-size:12px;\"><tbody>\n\t\t\t\t\t<!-- VERTICAL LINES -->\n\t                    <tr><td colspan=\"100%\"><hr style=\"margin-top:0 !important;margin-bottom:0 !important;border-top:1px solid gray;\"></hr></td></tr>\n\t\t\t\t\t\t<tr>\n\t                    \t<td style=\"width:{{ serial_no_column_width }};border:none !important;\"><!-- INTENTIONALLY LEFT BLANK --></td>\n\t                        <td rowspan=\"100%\"></td> \n\t                    \t<td style=\"width:{{ hsn_no_column_width }};border:none !important;\"><!-- INTENTIONALLY LEFT BLANK --></td>\n\t                        <td rowspan=\"100%\"></td>                             \n\t                    \t<td style=\"width:{{ description_column_width }};border:none !important;\"><!-- INTENTIONALLY LEFT BLANK --></td>\n\t                        <td rowspan=\"100%\"></td> \n\t                    \t<td style=\"width:{{ qty_column_width }};border:none !important;\"><!-- INTENTIONALLY LEFT BLANK --></td>\n\t                        <td rowspan=\"100%\"></td> \n\t                    \t<td style=\"width:{{ rate_column_width }};border:none !important;\"><!-- INTENTIONALLY LEFT BLANK --></td>\n\t                        <td rowspan=\"100%\"></td> \n\t\t\t\t\t\t</tr>                       \n\t                {% endif %}\n                    <!-- End Page Break Logic -->\n                \n                {% endfor %}\n\n                <!-- Fill Empty Space -->\n                <tr height=\"100%\"> \n                    <td style=\"width={{ serial_no_column_width }};\"> </td>\n                </tr>            \n\t\t\t\t<tr><td colspan=\"100%\"><hr style=\"margin-top:0 !important;margin-bottom:0 !important;border-top:1px solid gray;\"></hr></td></tr>\n                \n                <!-- End Table -->\n                </tbody>\n            </table>        \n{%- endmacro %}\n\n<!--------------------------------------------------------------------------------------------------->\n<!-- Don't Edit the Following Blocks -->\n<!-- Instead Use The Macros Above -->\n<!--------------------------------------------------------------------------------------------------->\n\n\n{% macro insert_page_break(test_condition) -%}\n\t{% if test_condition %} \n\n\t\t                <!-- Fill Empty Space -->\n\t\t                <div style=\"height: 100%\"></div>\n\n\t\t\t<!-- End Body Container -->\n\t\t        </div>\n\n\t\t    <!-- End Main Body Div -->  \n\t\t    </div>\n\n\t\t    <!-- Set Footer -->\n\t\t    <div style=\"max-height: {{ max_footer_height }};height: {{ footer_height }};background: {{ footer_background }};;overflow: hidden;display:grid;min-height:200px;flex-grow:0.18;\">\n\t\t\t\t<div style=\"width: 100%;height: 100%;\"> \n\t\t\t\t\t{{ setfooter(false) }}\n\t\t\t\t</div>\n\t\t    </div>\n\n\n\t\t<!-- End Main Div -->\n\t\t</div>\n\n\n\t\t<!-- PAGE BREAK -->\n\t\t<div class=\"page-break\"></div> <!-- Seems to be working in Chrome Ver: 38.0.2125.111 & Chrome 43 -->\n\n\t\t<!-- Logic to Count Total Number of Pages -->\n\t\t{% if total_pages.append('1') %} {% endif %}\t\n\n\t\t<!-- Start Another Main Div Tag -->\n\t\t<div class=\"page-preview\" style=\"height: {{ div_page_height }};max-height: {{ div_max_page_height }};display:flex !important;flex-direction:column;\">    \n\n\t\t    <!-- Set New Header -->\n\t\t    <div style=\"max-height: {{ max_header_height }};height: {{ header_height }};background: {{ header_background }};overflow: hidden;\">\n\t\t\t\t<div style=\"width: 100%;height:100%;\">\n\t\t\t\t\t{{ setheader() }}\n\t\t\t\t</div>\n\t\t    </div>\n\n\n\t\t    <!-- Start a New Body -->\n\t\t    <div style=\"max-height: {{ max_body_height }};height: {{ body_height }};background: {{ body_background }};overflow: hidden;flex:1;display:grid;\"> \n\n\t\t        <!-- New Body Container -->\n\t\t        <div style=\"width:100%;height: 100%;\">\t\n\n\t{% endif %}\n{%- endmacro %}\n\n<!-- Set Global Default font -->\n<span style=\"font-family:{{ global_default_font }};font-size:10px;\">\n\n<!-- Main Div Tag -->\n<div class=\"page-preview\" style=\"height: {{ div_page_height }};max-height: {{ div_max_page_height }};display:flex !important;flex-direction:column;\">\n\t<!-- Logic to Count Total Number of Pages -->\n\t{% set total_pages = [1] %}\n\n    <!-- Set Header -->\n    <div style=\"max-height: {{ max_header_height }};height: {{ header_height }};background: {{ header_background }};overflow: hidden;\">\n\t\t<div style=\"width: 100%;height:100%;\">\n\t\t\t{{ setheader() }}\n\t\t</div>\n    </div>\n\n    <!-- Set Body -->\n    <!-- Main Body Tag -->\n    <div style=\"max-height: {{ max_body_height }};height: {{ body_height }};background: {{ body_background }};overflow: hidden;flex:1;display:grid;\"> \n        <!-- Body Container -->\n        <div style=\"width:100%;height: 100%;\">\n        \n        \t{{ do_body() }}\n\t\n        <!-- End Body Container Div -->\n        </div>\n\n        <!-- End Main Body Div -->            \n    </div>\n\n\n    <!-- Set last Footer -->\n    <div style=\"max-height: {{ max_footer_height }};height: {{ footer_height }};background: {{ footer_background }};;overflow: hidden;display:grid;min-height:200px;flex-grow:0.18;\">\n\t\t<div style=\"width: 100%;height: 100%;\"> \n\t\t\t{{ setfooter(true) }}\n\t\t</div>\n    </div>\n\n</div>\n<!-- End Font -->\n</span>", 
  "line_breaks": 0, 
  "modified": "2017-10-07 12:17:33.914828", 
  "module": "Accounts", 
  "name": "MOP Format", 
  "print_format_builder": 0, 
  "print_format_type": "Server", 
  "show_section_headings": 0, 
  "standard": "No"
 }, 
 {
  "align_labels_left": 0, 
  "css": null, 
  "custom_format": 1, 
  "disabled": 0, 
  "doc_type": "Sales Invoice", 
  "docstatus": 0, 
  "doctype": "Print Format", 
  "font": "Default", 
  "format_data": null, 
  "html": "<!-- TESTED ON CHROME VER 57.0.2987.133 -->\n{% set orientation = \"Portrait\" %}\n{% set display_rows_per_page = 9 %}\n\n{% set row_height = \"auto\" %}\n{% set div_page_height = \"100%\" %}\n{% set div_max_page_height = \"100%\" %}\n{% set page_size = {} %}\n{% if page_size.update({\"min_page_height\":\"8.26in\"}) %}{% endif %}\n{% if page_size.update({\"min_page_width\":\"11.69in\"}) %}{% endif %}\n{% if page_size.update({\"max_page_height\":\"8.26in\"}) %}{% endif %}\n{% if page_size.update({\"max_page_width\":\"11.69in\"}) %}{% endif %}\n{% if page_size.update({\"preferred_page_width\":\"11.69in\"}) %}{% endif %}\n{% if page_size.update({\"preferred_page_height\":\"8.26in\"}) %}{% endif %}\n{% set header_height = \"initial\" %}\n{% set max_header_height = \"initial\" %}\n{% set footer_height = \"initial\" %}\n{% set max_footer_height = \"initial\" %}\n{% set body_height = \"initial\" %}\n{% set max_body_height = \"100%\" %}\n\n{% set footer_background = \"transparent\" %}\n{% set header_background = \"transparent\" %}\n{% set body_background = \"transparent\" %}\n{% set page_padding = \"1cm\" %}\n\n{% set global_default_font = \"Monospace\" %}\n\n{% set column_widths = {} %}\n{% if column_widths.update({\"serial_no_column_width\":\"3%\"}) %}{% endif %}\n{% if column_widths.update({\"hsn_no_column_width\":\"8%\"}) %}{% endif %}\n{% if column_widths.update({\"description_column_width\":\"35%\"}) %}{% endif %}\n{% if column_widths.update({\"qty_column_width\":\"5%\"}) %}{% endif %}\n{% if column_widths.update({\"amount_column_width\":\"10%\"}) %}{% endif %}\n{% if column_widths.update({\"rate_column_width\":\"10%\"}) %}{% endif %}\n\n{% set tax_line_counter = {'tl':1} %}\n{% set tax_line_max_length = 8 %}\n{% set tax_analysis_div_width = \"50%\" %}\n{% set tax_analysis_row_left = \"60%\" %} \n{% set tax_analysis_row_right = \"40%\" %}\n\n{% set taxes_as_columns = true %}\n{% set print_tax_analysis = false %}\n{% if column_widths.update({\"tax_rate_column_width\":\"6%\"}) %}{% endif %}        \n{% if column_widths.update({\"tax_amount_column_width\":\"8%\"}) %}{% endif %}        \n\n{% set key_index = {} %}\n{% set abbr = \" - \"+frappe.db.get_value(\"Company\", doc.company, \"abbr\") %}\n\n{% macro set_orientation_size() %}\n\t{% if orientation != \"Landscape\" %}\n\t\t{% if page_size.update({\"min_page_height\":\"11.69in\"}) %}{% endif %}\n\t\t{% if page_size.update({\"min_page_width\":\"8.26in\"}) %}{% endif %}\n\t\t{% if page_size.update({\"max_page_height\":\"11.69in\"}) %}{% endif %}\n\t\t{% if page_size.update({\"max_page_width\":\"8.26in\"}) %}{% endif %}\n\t\t{% if page_size.update({\"preferred_page_width\":\"8.26in\"}) %}{% endif %}\n\t\t{% if page_size.update({\"preferred_page_height\":\"11.69in\"}) %}{% endif %}\n    {% endif %} \n{% endmacro %}\n\n{% macro set_column_widths() %}\n\t{% set tax_columns = {'ln':0} %}\n    {% if taxes_as_columns %}\n    \t{% for taxes in doc.taxes %}\n\t    \t{% if taxes.charge_type != 'Actual' %}\n\t        \t{% if tax_columns.update({\"ln\":tax_columns.ln + 1}) %} {% endif %}\n\t        {% endif %}\n    \t{% endfor %}\n    {% endif %}\n    {% if tax_columns.ln == 0 %}\n\t    {% if column_widths.update({\"serial_no_column_width\":\"4%\"}) %}{% endif %}\n\t\t{% if column_widths.update({\"hsn_no_column_width\":\"9%\"}) %}{% endif %}\n\t\t{% if column_widths.update({\"description_column_width\":\"50%\"}) %}{% endif %}\n\t\t{% if column_widths.update({\"qty_column_width\":\"7%\"}) %}{% endif %}\n\t\t{% if column_widths.update({\"amount_column_width\":\"15%\"}) %}{% endif %}\n\t\t{% if column_widths.update({\"rate_column_width\":\"15%\"}) %}{% endif %}\n    {% else %}\n\t    {% if column_widths.update({\"serial_no_column_width\":\"3%\"}) %}{% endif %}\n\t\t{% if column_widths.update({\"hsn_no_column_width\":\"7%\"}) %}{% endif %}\t\t\n\t\t{% if column_widths.update({\"qty_column_width\":\"4%\"}) %}{% endif %}\n\t\t{% if column_widths.update({\"amount_column_width\":\"12%\"}) %}{% endif %}\n\t\t{% if column_widths.update({\"rate_column_width\":\"12%\"}) %}{% endif %}\n    \t{% if tax_columns.ln == 1 %}\n        \t{% if column_widths.update({\"description_column_width\":\"40%\"}) %}{% endif %}\n\t\t\t{% if column_widths.update({\"tax_rate_column_width\":\"5%\"}) %}{% endif %}        \n            {% if column_widths.update({\"tax_amount_column_width\":\"10%\"}) %}{% endif %}        \n            {% if column_widths.update({\"total_amount_column_width\":\"12%\"}) %}{% endif %} \n        {% endif %}\n    \t{% if tax_columns.ln == 2 %}\n        \t{% if column_widths.update({\"description_column_width\":\"33%\"}) %}{% endif %}\n\t\t\t{% if column_widths.update({\"tax_rate_column_width\":\"5%\"}) %}{% endif %}        \n            {% if column_widths.update({\"tax_amount_column_width\":\"10%\"}) %}{% endif %}  \n            {% if column_widths.update({\"total_amount_column_width\":\"12%\"}) %}{% endif %}\n\t\t\t{% if column_widths.update({\"amount_column_width\":\"11%\"}) %}{% endif %}\n\t\t\t{% if column_widths.update({\"rate_column_width\":\"11%\"}) %}{% endif %}            \n        {% endif %}        \n    {% endif %}\n{% endmacro %}\n\n{% set total_pages_as_per_rows = (doc.items|length / display_rows_per_page)|int %}\n{% if (doc.items|length % display_rows_per_page|int)|int != 0 %}\n    {% set total_pages_as_per_rows = total_pages_as_per_rows + 1 %}\n{% endif %}\n\n\n{{ set_orientation_size() }}\n{{ set_column_widths() }}\n\n<!-- DONT EDIT STYLE BELOW -->\n<style>\n    body{\n        min-height:100% /* force the BODY element to match the height of the HTML element */\n    }\n    .print-format td {\n        padding: 0px !important;\n    }\n    @-moz-document url-prefix() {\n    \t.print-format {\n\t        height: 99% !important;\n        }\n    }\n    .print-format {\n        height: 100%;\n        background-color: initial;\n        box-shadow: initial;\n        max-width: initial;\n        min-height: initial;\n        margin: initial;\n        padding: initial !important;        \n    }\n    \n    .print-format-gutter {\n        height: 100%;\n    }\n    @media screen {\n        .page-preview {\n            min-height: {{ page_size.min_page_height }} !important;\n            max-width: {{ page_size.max_page_width }} !important;\n            padding: {{ page_padding }};\n            background-color: white;\n            box-shadow: 0px 0px 9px rgba(0,0,0,0.5);\n            margin: auto;\n            display: table !important;\n            width: 100%;\n        }\n    }\n    @media print {    \n    \thtml{\n\t        height:100%;\n\t        position:relative\n\t    }    \n    \t@page {\n            size: {{ page_size.preferred_page_width }} {{ page_size.preferred_page_height }} {{ orientation }};\n            margin: {{ page_padding }};\n        }    \n        body {\n            height: 100%;\n            -webkit-print-color-adjust: exact !important;\n        }\n        .page-preview {\n            height: 100%;\n            width: 100%;\n            display: table;\n        }\n    }\n    @media all {\n \t\tcolcell {\n    \t\tborder-left-style:solid !important;\n            border-left-color:gray !important;\n            border-left-width:1px !important;\n\t\t}\n    }\n</style>\n<!-- DONT EDIT STYLE ABOVE -->\n\n<!---------------------------------------------------------------->\n<!-------- CUSTOM MACROS FOR LOCAL USE --------------------------->\n<!---------------------------------------------------------------->\n\n{% macro vehicle_letter_head() %}\n<div style=\"width:100%;\">\n<table style=\"width: 100%;\">\n    <tbody>\n        <tr style=\"width: 100%; display: flex;\">\n            <td style=\"width: 100%;\">\n            \t<b><span style=\"color: blue; line-height: 20px; font-size: 22px;\">Mehta Automobiles Pvt. Ltd.</span></b>\n                <b>  <span style=\"font-size: 12px;\">\n                \t\t<div>22/1 South Tukoganj, Geeta Bhawan Square,</div>\n\t\t\t    \t\t<div>A.B. Road, Indore. PH: 0731 - 4032224, 2522630</div>                    \n\t\t\t   \t\t</span>\n                </b>            \n            </td>\n            <td style=\"text-align: right; vertical-align: middle !important;\" rowspan=\"100%\">\n            \t<img src=\"/files/MM_LOGO.png\" style=\"width: 70px !important; height: auto !important;\" width=\"52px\" height=\"45px\"/>\n            </td>\n        </tr>\n    </tbody>\n</table>\n</div>\n{% endmacro %}\n\n{% macro vehicle_terms() %}\n<div>\n\t<ul>\n\t\t<li>Goods once sold will not be taken back.</li>\n\t\t<li>Interest @18% per annum would be applicable if payment is not made within 7 days.</li>\n\t\t<li>The Firm is not responsible for Breakage / Theft in transit.</li>\n\t\t<li>Proof of Identity is required for payments above Rs 7,500/- by Card.</li>\n\t\t<li>Warranty as per Manufacturer's Terms and Conditions</li>\n\t</ul>\n</div>\n{% endmacro %}\n\n{% macro tax_analysis_print_format() %}\n <table style=\"height:100%;\">\n \t<tr>\n    \t<th style=\"width:125px;padding:0px !important;width:100%;\">Model (HSN Code)</th>\n\t\t{% for taxes in doc.taxes %}\n        \t{% if taxes.charge_type != 'Actual' %}\n                <th style=\"min-width:45px;padding:0px !important;text-align:right;\">Rate(%)</th>\n        \t\t<th style=\"min-width:70px;padding:0px !important;text-align:right;\">{{ taxes.account_head.split(abbr)[0] }}(Rs)</th>\n                {% if key_index.update({taxes.account_head:loop.index}) %}{% endif %}\n            {% endif %}\n    \t{% endfor %}\n    </tr>\n    \n    {% set items = doc.items|sort(attribute='item_code') %}\n    {% set current_item = {'ci':items[0].item_code} %}\n    {% for model in items %}\n    \t{% if current_item.ci != model.item_code or loop.first %}\n        \t{% if current_item.update({'ci':model.item_code}) %}{% endif %}\n    \t<tr>\n        \t<td>{{ model.item_code }}({{ frappe.db.get_value(\"Item\", model.item_code, \"gst_hsn_code\") }})</td>\n\t\t{% for tax in doc.taxes %}\n        \t{% if tax.charge_type != 'Actual' %}\n\t\t    \t{% set i = tax.item_wise_tax_detail|json_load %}\n\t\t        {% for key, val in i.items() %}\n\t            \t{% if key == model.item_code %}\n\t\t                <td style=\"text-align:right;\">{{ val[0] }}</td>\n\t\t                {% for i in range(key_index[tax.account_head]) %}\n\t\t                \t{% if loop.last %}\n\t\t                \t  <td style=\"text-align:right;\">{{ val[1] }}</td>\n\t\t                    {% endif %}\n\t\t                {% endfor %}   \n\t                {% endif %}\n\t\t        {% endfor %}\n            {% endif %}\n\t    {% endfor %}\n        {% endif %}\n        </tr>\n    {% endfor %}\n    <tr height=\"100%;\"> \n         <td style=\"width=125px;\"> </td>\n    </tr>            \n  </table>\n{% endmacro %}\n\n{% macro do_subtotals() %}\n    <!-- DIFFRENT VAT & CHARGES PRINT -->\n\t<div style=\"display:flex;justify-content:flex-end;flex-wrap:wrap;flex-direction:column;align-items:flex-end;width:100%;\">\n                \n\t\t<!-- SUB TOTAL -->\n\t\t<div style=\"width:100%;\">\n\t\t\t<div style=\"width:50%;float:left;padding: 1px !important;padding-left:10px !important;max-height: 13px;overflow: hidden;\">\n\t\t\t\t\tTaxable Value\n\t\t\t</div>\n\t\t\t<div class=\"text-right\" style=\"width:50%;float:left;padding: 1px !important;padding-right: 2px !important;max-height: 13px;overflow: hidden;\">\n\t\t\t\t\t{{ doc.get_formatted(\"net_total\") }}\n\t\t\t</div>\n\t\t</div>\n\t    <!-- END SUB TOTAL -->\n                \n\t\t{%- for row in doc.taxes -%}\n            {% if row.tax_amount != 0 %}\n\t\t\t\t<div style=\"width:100%;\">\n\t\t\t\t\t<div style=\"width:50%;float:left;padding: 1px !important;padding-left:10px !important;max-height: 13px;overflow: hidden;\">\n\t\t\t\t\t\t\t{{ row.description }}\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"text-right\" style=\"width:50%;float:left;padding: 1px !important;padding-right: 2px !important;max-height: 13px;overflow: hidden;\">\n\t\t\t\t\t\t\t{{ row.get_formatted(\"tax_amount\", doc) }}\n\t\t\t\t\t</div>\n                    <div style=\"clear:both;\"></div>\n\t\t\t\t</div>\n            {% endif %}\n\t\t{%- endfor -%}\n\t</div>\n{% endmacro %}\n\n\n{% macro attach_tax_columns_vertical_lines(is_last) %}\n\t\t{% set columnheight = {'height':\"100%\"} %}\n\t\t{% if not is_last %}\n        \t{% if columnheight.update({'height':\"100%\"}) %} {% endif %}\n        {% endif %}\n        \n\t\t{% set total_len = doc.taxes|length - (doc.taxes|selectattr(\"charge_type\", \"equalto\", \"Actual\")|list)|length %}\n\t\t{% for n in range(1, total_len+1) %}\n                <!-- <div style=\"width: {{ column_widths.tax_rate_column_width }}; text-align: right;padding-right:4px !important;padding-top:3px !important;overflow:hidden;border-left:1px solid gray !important;padding-left:2px !important;float:left;\">&nbsp</div> -->\n\t\t\t\t<div style=\"width: {{ column_widths.tax_amount_column_width }}; text-align: right;padding-right:4px !important;padding-top:3px !important;overflow:hidden;border-left:1px solid gray !important;padding-left:2px !important;float:left;height:{{ columnheight.height }}\">&nbsp</div>               \n        {% endfor %}       \n        <div style=\"width: {{ column_widths.total_amount_column_width }}; text-align: right;padding-right:4px !important;padding-top:3px !important;overflow:hidden;border-left:1px solid gray !important;padding-left:2px !important;float:left;height:{{ columnheight.height }}\">&nbsp</div>       \n        \n\t\t{% if is_last %}\n\t\t\t{% set tax_columns = {'ln':0} %}\n\t\t   \t{% for taxes in doc.taxes %}\n\t\t    \t{% if taxes.charge_type != 'Actual' %}\n\t    \t    \t{% if tax_columns.update({\"ln\":tax_columns.ln + 1}) %} {% endif %}\n\t\t        {% endif %}\n\t    \t{% endfor %}\n            {% if tax_columns.ln == 1 %}\n            \t{% if tax_columns.update({'width':\"34%\"}) %}{% endif %}\n            {% endif %}\n            {% if tax_columns.ln == 2 %}\n            \t{% if tax_columns.update({'width':\"32%\"}) %}{% endif %}\n            {% endif %}            \n        \t<div style=\"background:white !important;position:absolute;height:auto;width:{{ tax_columns.width }};border-top:1px solid gray;bottom:0;right:0;margin-right:1px;margin-left:1px;border-left:1px solid gray;display:flex;padding-bottom:4px;padding-top:4px;padding-right:1px;\">\n            \t{{ do_subtotals() }}\n        \t</div>\n        {% endif %}\n{% endmacro %}\n\n{% macro attach_tax_columns_headers() %}\n\t\t{% for taxes in doc.taxes %}\n        \t{% if taxes.charge_type != 'Actual' %}\n                <!-- <div style=\"width:{{ column_widths.tax_rate_column_width }};vertical-align:middle !important;\">{{ taxes.account_head.split(abbr)[0] }}<br/>(%)</div> -->\n        \t\t<div style=\"width:{{ column_widths.tax_amount_column_width }};vertical-align:middle !important;\">{{ taxes.account_head.split(abbr)[0] }}<br/><span style=\"font-size:10px;\">Amt/Rate(%)</span></div>\n                {% if key_index.update({taxes.account_head:loop.index}) %}{% endif %}\n            {% endif %}\n       {% endfor %}\n       <div style=\"width:{{ column_widths.total_amount_column_width }};vertical-align:middle !important;padding-right:4px !important;float:left;\">Total<br/>(Rs)</div>\n{% endmacro %}\n\n{% macro attach_tax_columns(model, current_item, first) %}\n\t{% set total_amt = {'total':0} %}\n\t{% for tax in doc.taxes %}\n       \t{% if tax.charge_type != 'Actual' %}\n\t    \t{% set i = tax.item_wise_tax_detail|json_load %}\n\t        {% for key, val in i.items() %}\n            \t{% if key == model.item_code %}\n\t                <!-- <div style=\"width: {{ column_widths.tax_rate_column_width }}; text-align: right;padding-right:1px !important;padding-left:1px !important;padding-top:3px !important;overflow:hidden;border-left:1px solid gray !important;padding-left:2px !important;float:left;display:table-cell;\">{{ frappe.utils.fmt_money(val[0]) }}</div> -->\n\t                {% for i in range(key_index[tax.account_head]) %}\n\t                \t{% if loop.last %}\n\t                \t  <div style=\"width: {{ column_widths.tax_amount_column_width }}; text-align: right;padding-right:1px !important;padding-left:1px !important;padding-top:3px !important;overflow:hidden;border-left:1px solid gray !important;padding-left:2px !important;float:left;display:table-cell;\">{{ frappe.utils.fmt_money(val[1]) }}<br/><span style=\"font-size:10px;\">{{ frappe.utils.fmt_money(val[0]) }}%</span></div>\n                          {% if total_amt.update({'total':total_amt.total+val[1]}) %} {% endif %}\n\t                    {% endif %}\n\t                {% endfor %}   \n                {% endif %}\n\t        {% endfor %}\n           {% endif %}\n\t{% endfor %}\n   \t<div style=\"width: {{ column_widths.total_amount_column_width }}; text-align: right;padding-right:1px !important;padding-left:1px !important;padding-top:3px !important;overflow:hidden;border-left:1px solid gray;float:left;display:table-cell;\">\n              \t{{ frappe.utils.fmt_money(model.net_amount+total_amt.total) }}\n    </div>                                         \n{% endmacro %}\n\n\n{% macro insert_vertical_lines(is_last) %}\n      <div style=\"flex:1;display:flex;position:relative;\">\n           <div style=\"width: {{ column_widths.serial_no_column_width }};padding-left:4px !important;padding-top:3px !important;overflow:hidden;float:left;\"></div>\n           <div style=\"width: {{ column_widths.hsn_no_column_width }};padding-left:4px !important;padding-top:3px !important;overflow:hidden;float:left;border-left:1px solid gray;\"></div>                            \n           <div style=\"width: {{ column_widths.description_column_width }};padding-left:4px !important;padding-top:3px !important;overflow:hidden;float:left;border-left:1px solid gray;\"></div>\n           <div style=\"width: {{ column_widths.qty_column_width }}; text-align: right;padding-right:4px !important;padding-top:3px !important;overflow:hidden;border-left:1px solid gray;float:left;\"></div>\n           <div style=\"width: {{ column_widths.rate_column_width }}; text-align: right;padding-right:4px !important;padding-top:3px !important;overflow:hidden;border-left:1px solid gray;float:left;\"></div>\n           <div style=\"width: {{ column_widths.amount_column_width }}; text-align: right;padding-right:4px !important;padding-top:3px !important;overflow:hidden;border-left:1px solid gray;float:left;\"></div>                        \n           {% if taxes_as_columns %}\n              \t{{ attach_tax_columns_vertical_lines(is_last) }}\n           {% endif %}                            \n           <div style=\"clear:both;\"></div>\n     </div>  \n{% endmacro %}\n\n\n{% macro print_taxes_charges() -%}\t\n\t<div style=\"display:flex;width:100%;height:100%;flex-grow:1;\">\n\t    {% set taxes_band_width = {'analysis':\"70%\",'subtotal':\"30%\"} %}\n\t    {% if not print_tax_analysis %}\n\t        {% if taxes_band_width.update({'analysis':\"0%\",'subtotal':\"100%\"}) %} {% endif %}\n\t    {% endif %}\n    \n\t\t{% if print_tax_analysis %}    \n\t\t\t<div style=\"width:{{ taxes_band_width.analysis }};padding-right:10px;\">        \n\t\t\t    \t<div style=\"max-width:50px;float:left;\"><B>TAX BREAKUP</B></div>    \n\t\t\t\t       \t{{ tax_analysis_print_format() }}\n\t\t\t</div>                 \n\t    \t<div style=\"width:{{ taxes_band_width.subtotal }};flex-grow:1;background:#eee !important;\">\n\t    \t\t{{ do_subtotals() }}\n\t\t    </div>        \n\t\t{% endif %}                    \n    </div>\n{%- endmacro %}\n\n<!---------------------------------------------------------------->\n<!-------- END OF CUSTOM MACROS FOR LOCAL USE -------------------->\n<!---------------------------------------------------------------->\n\n<!-- Macro for Header -->\n{% macro setheader() -%}\n{% set header_column_width=20 %}\n{% set value_column_width=80 %}\n<div style=\"width: 100%;height:100%;\">\n\t<div style=\"width:100%;overflow: hidden\">\n    <table style=\"width: 100%;height:100%\">\n        {% if letter_head and not no_letterhead -%}\n        <tr>\n            <td colspan=\"100%\" style=\"width: 100%;padding-bottom: 3px !important;\">\n                {{ vehicle_letter_head() }}\t\n            </td>\n        </tr>\n        <tr><td colspan=\"100%\"><hr style=\"margin-top:0px;margin-bottom:0px;border:none;color:black;background:black;height:1px;\"></hr></td></tr>\n        {%- endif %}\n        <tr style=\"height:100%;\">\n            <td colspan=\"100%\" style=\"width: 100%;padding: 1px !important;\">\n                <div style=\"height: 65px;max-height: 65px;overflow: hidden;background: #eee !important;\">\n                    <table style=\"width: 100%;height:100%;\">\n\t\t\t    \t<tr>\n\t\t\t        \t<td colspan=\"100%\" style=\"width: 100%;padding-top: 3px !important;padding-bottom:3px !important;text-align:right;background:white !important;\">\n\t\t\t\t           \t<div style=\"width:100%;font-size:9px;\">\n\t\t\t                \t<div style=\"float:right;\">\n\t\t\t                    \t\t<span style=\"font-family:wingdings;padding-left:5px;\">o</span>\n\t\t\t                            <span style=\"font-family:ARIAL NARROW;text-transform:uppercase;\">Triplicate for Supplier</span>\n\t\t\t                    </div>\n\t\t\t                    <div style=\"float:right;\">\n\t\t                    \t\t<span style=\"font-family:wingdings;padding-left:5px;\">o</span>\n\t\t\t                        <span style=\"font-family:ARIAL NARROW;text-transform:uppercase;\">Duplicate for Transporter</span>\n\t\t\t                    </div>                                \n\t\t\t                \t<div style=\"float:right;\">\n\t\t\t                    \t<span style=\"font-family:wingdings;\">o</span>\n\t\t\t                        <span style=\"font-family:ARIAL NARROW;text-transform:uppercase;\">Original For Recipient</span>\n\t\t\t                    </div>                                \n\t\t\t                </div>\n\t\t\t            </td>\n        \t\t\t</tr>                    \n                        <tr>\n                            <td style=\"height: 100%;width: 30%;color: black;font-size: 9px;text-transform: uppercase;text-align: left;vertical-align: middle !important; padding-left: 5px !important;\">\n\t                    \t\tTax Payable on Reverse Charge: <b>NO</b>                               \n                                <br/>Page {{ total_pages|length }} of {{ total_pages_as_per_rows }}                                \n                            </td>\t\t\t\t\t\n                            <td style=\"width: 40%;color: black;text-align: center;vertical-align: middle !important;\" rowspan=\"100%\">\n                                <span style=\"font-size: 22px;text-transform:uppercase;\"><B>{{ doc.select_print_heading or \"Tax Invoice\" }}</B></span>\n                            </td>\t\t\t\t\t\n                            <td style=\"height: 100%;width: 30%;color: black;font-size: 12px;text-transform: uppercase;text-align: right;vertical-align: middle !important; padding-right: 5px !important;\">\n                                <B>{{ doc.name[5:] }}<br>Date: {{ doc.get_formatted(\"posting_date\") }}</br> </B>\n                            </td>\t\t\t\t\t\n                        </tr>\n                    </table>\n                </div>\n                <table style=\"border-collapse: collapse;width: 100%;margin-top:2px;line-height:15px;\">\n                    <tr>\n                        <td style=\"width: 50%;vertical-align: middle !important;\">\n                            <table style=\"width: 100%;font-size:14px;\">\n                                <tr> \n                                    <td style=\"width: {{ header_column_width }}%;padding-top:5px !important;color:red;\">\n                                        Name\n                                    </td>\n                                    <td style=\"width: {{ value_column_width }}%;padding-top:5px !important;\">\n                                        <span style=\"text-align: left;text-transform:uppercase;\"><B>{{ doc.customer_name }}</B></span>\n                                    </td>\n                                </tr>\n                                <tr>\n                                \t<td style=\"width: {{ header_column_width }}%;\">\n                                    \t<!-- Intentionally Left Blank -->\n                                    </td>\n                                    <td style=\"width: {{ value_column_width }}%;\">\n                                    \t{% set coname = frappe.db.get_value(\"Customer\", doc.customer, \"company_name\") %}\n                                        {% if coname %}\n                                    \t\t<span style=\"font-size:12px;text-align: left;\"><B>C/O {{ coname }}</B></span>\n                                        {% endif %}\n                                    </td>\n                                </tr>\n                            </table>\n                        </td>\n                    \t<td style=\"vertical-align:middle !important;\">\n                    \t\t<table style=\"width:100%;font-size:14px;\">\n                                <tr> \n                                    <td style=\"width: {{ header_column_width }}%;padding-top:5px !important;color:red;\">\n                                        Name\n                                    </td>\n                                    <td style=\"width: {{ value_column_width }}%;padding-top:5px !important;\">\n                                        <span style=\"text-align: left;text-transform:uppercase;\"><B>{{ doc.customer_name }}</B></span>\n                                    </td>\n                                </tr>\n                                <tr>\n                                \t<td style=\"width: {{ header_column_width }}%;\">\n                                    \t<!-- Intentionally Left Blank -->\n                                    </td>\n                                    <td style=\"width: {{ value_column_width }}%;\">\n                                    \t{% set coname = frappe.db.get_value(\"Customer\", doc.customer, \"company_name\") %}\n                                        {% if coname %}\n                                    \t\t<span style=\"font-size:12px;text-align: left;\"><B>C/O {{ coname }}</B></span>\n                                        {% endif %}\n                                    </td>\n                                </tr>                            \n\t\t                    </table>\n\t                    </td>                        \n                    </tr>\n                    <tr>                    \t\n                        \t<td style=\"width: 50%;padding-bottom: 3px !important;padding-top: 3px !important;\">\n                            <table style=\"width: 100%;font-size:12px;\">\n                                <tr> \n                                    <td style=\"width: {{ header_column_width }}%\">\n                                        <span style=\"color:red;\">Billing Address</span>\n                                    </td>\n                                    <td style=\"width: {{ value_column_width }}%;padding-bottom:3px !important;\">\n                                        <B>{{ doc.address_display }}</B>\n                                    </td>\n                                </tr>\n\t\t\t                    <tr>\n\t\t\t                    \t<td style=\"width: {{ header_column_width }}%;\">\n\t\t\t\t                        \t<span style=\"color:red;\">Contact No</span>\n\t\t\t                        </td>\n\t\t\t                        <td style=\"width: {{ value_column_width }}%;\">\n                                    \t<b>{{ frappe.db.get_value(\"Customer\", doc.customer, \"primary_contact_no\") }}\n\t\t\t                            {% set secondary = frappe.db.get_value(\"Customer\", doc.customer, \"secondary_contact_no\") %}\n\t\t\t                            {% if secondary %}\n\t\t\t                                ,{{ secondary }}\n\t\t\t                            {% endif %}</b>                            \n\t\t\t                        </td>\n\t\t\t                    </tr>                    \n                            </table>\n                        </td>\n                        {% if doc.shipping_address_name %}                        \n                        <td style=\"width: 50%;padding-bottom: 3px !important;padding-top: 3px !important;\">\n                            <table style=\"width: 100%;font-size:12px;\">\n                                <tr> \n                                    <td style=\"width: {{ header_column_width }}%\">\n                                        <span style=\"color:red;\">Delivery Address</span>\n                                    </td>\n                                    <td style=\"width: {{ value_column_width }}%\">\n                                        <B>{{ doc.shipping_address }}</B>\n                                    </td>\n                                </tr>\n                                {% set veh_no = frappe.db.get_value(\"Customer\", doc.customer, \"vehicle_no\") %}\n                                {% if veh_no %}\n\t\t\t                    \t<tr>\n\t\t\t\t                    \t<td style=\"width: {{ header_column_width }}%;\">\n\t\t\t\t\t                        \t<span style=\"color:red;\">Vehicle No</span>\n\t\t\t\t                        </td>\n\t\t\t\t                        <td style=\"width: {{ value_column_width }}%;\">\n\t                                    \t<b>{{ veh_no }}</b>                            \n\t\t\t\t                        </td>\n\t\t\t\t                    </tr>          \n                                {% endif %}\n                            </table>\n                        </td>\n                        {%- endif %}\n                    </tr>\n                <tr><td colspan=\"100%\"><hr style=\"margin-top: 0px;margin-bottom: 0px;padding-bottom:3px !important;\"></hr></td></tr>\t\t\n                <tr>                \n\t                <td colspan=2 style=\"width:100%;padding-bottom: 3px !important;padding-top: 3px !important;\">\n                    \t<div style=\"width:100%;display:flex;\">\n\t               \t\t<div style=\"width:40%;font-size:12px;float:left;\">\n\t               \t\t\t{% if doc.hypothecation %}\n                            <div style=\"width:100%;\">\n\t                   \t\t\t\t<div style=\"color:red;float:left;\">\n\t                       \t\t\t\tHypothecation: \n\t                       \t\t\t</div>\n\t                   \t\t\t\t<div style=\"overflow:hidden;padding-left:10px;\">\n\t                       \t\t\t\t<b>{{ doc.hypothecation }}</b>\n\t                       \t\t\t</div>                        \n                            </div>\n\t              \t\t\t{% endif %}\n\t               \t\t\t{% if doc.reference %}\n                            <div style=\"width:100%;\">\n\t                   \t\t\t\t<div style=\"color:red;float:left;\">\n\t                       \t\t\t\tHYP Reference: \n\t                       \t\t\t</div>\n\t                   \t\t\t\t<div style=\"padding-left:10px;float:left;\">\n\t                       \t\t\t\t<b>{{ doc.reference }}</b>\n\t                       \t\t\t</div>                        \n                            </div>\n\t              \t\t\t{% endif %}                            \n\t                    </div>\n\t               \t\t<div style=\"width:60%;font-size:12px;\">\n\t               \t\t\t{% if doc.purchase_order_no %}\n                            <div style=\"width:100%;\">\n\t                   \t\t\t\t<div style=\"color:red;float:left;\">\n\t                       \t\t\t\tPurchase Order No: \n\t                       \t\t\t</div>\n\t                   \t\t\t\t<div style=\"overflow:hidden;padding-left:10px;\">\n\t                       \t\t\t\t<b>{{ doc.purchase_order_no }}</b>\n\t                       \t\t\t</div>                        \n                            </div>\n                            <div style=\"width:100%;\">\n\t                   \t\t\t\t<div style=\"color:red;float:left;\">\n\t                       \t\t\t\tPurchase Order Date: \n\t                       \t\t\t</div>\n\t                   \t\t\t\t<div style=\"float:left;padding-left:10px;\">\n\t                       \t\t\t\t<b>{{ doc.purchase_order_date }}</b>\n\t                       \t\t\t</div>                        \n                            </div>\n\t              \t\t\t{% endif %}\n                       </div>\n                       </div>\n\t                </td>                    \n                </tr>\n                </table> \n            </td>\n        </tr>\n    </table>\n    </div>\n    <div style=\"width:100%;height: 40px !important;bottom: 0;position: sticky;margin-top:2px;font-size: 11px;text-transform:uppercase;\">\n    <!-- <div style=\"height: 100%;width: 100%;word-wrap:break-word;\"> -->\n        <!-- Column Headings -->\n    \t<div style=\"width: 100%;background: #eee !important;min-height: 15%;height: 40px;font-weight: 600;border-bottom: 1px solid #eee;text-align:center;display:flex;align-items:center;border-bottom:1px solid gray;\">\n            <div style=\"width: {{ column_widths.serial_no_column_width }};vertical-align:middle !important;\">Sr</div>\n            <div style=\"width: {{ column_widths.hsn_no_column_width }};vertical-align:middle !important;\">HSN<br/>Code</div>\n            <div style=\"width: {{ column_widths.description_column_width }};vertical-align:middle !important;\">Item Name</div>\n            <div style=\"width: {{ column_widths.qty_column_width }};vertical-align:middle !important;\">Qty</div>\n            <div style=\"width: {{ column_widths.rate_column_width }};vertical-align:middle !important;\">Rate</div>\n            <div style=\"width: {{ column_widths.amount_column_width }};vertical-align:middle !important;\">Amount</div>\n            {% if taxes_as_columns %}\n            \t{{ attach_tax_columns_headers() }}\n            {% endif %}                        \n        </div>\n    <!-- </div> -->\n    </div>\n</div>\n{%- endmacro %}\n<!-- End Macro -->\n\n\n<!-- Footer Macro -->\n{% macro setfooter(islast) -%}\n<!-- Important Note: Using Position Relative Here and Position Absolute in Table \n Would Anchor Table to the Bottom of DIV -->\n<div style=\"height:100%;width:100%;position:relative;display: flex;flex-direction:column;\">\n\t\t<!-- CONTINUED BAND -->\n\t\t{% if not islast %}\n\t\t<div style=\"width: 100%;padding-top: 20px;padding-bottom:20px;\">\n\t\t\t<table style=\"width: 100%;\">\n\t        \t<tr>\n\t\t            <td style=\"text-align:right;\" colspan=\"100%\">\n\t\t                <b>Continued ... </b>\n\t\t            </td>\n\t\t        </tr>\n\t\t\t</table>\n\t\t</div>\n\t\t{% endif %}\n        <!-- END CONTINUED BAND -->\n                \n        <!-- TAXES BAND -->\n\t\t{% if islast  and doc.taxes|length > 0 %}\n\t\t<div style=\"width: 100%;padding-top:2px;display:flex;flex-direction:column;\">\n\t\t\t\t{{ print_taxes_charges() }}\n        </div>\n\t\t{% endif %}\n        <!-- END TAXES BAND -->\n\n\t\t<!-- TOTAL BAND -->\n\t\t{% if islast %}\n        <div style=\"width: 100%;min-height:35px;background:#eee !important;font-size:11px;\">\n        \t<div style=\"float:left;width:60%;height:100%;padding-top:5px;\">\n\t\t\t\t\t{{ frappe.utils.money_in_words(doc.grand_total) }}\n\t\t\t</div>\n            <div style=\"width:40%;font-size:14px;vertical-align: middle !important;text-align:right;float:left;height:100%;padding-top:5px;padding-right:1px;\">\n                \t<span style=\"text-transform:uppercase;\">Total</span> <b>{{ doc.get_formatted(\"grand_total\") }}</b>\n            </div>\n        </div>\n\t\t{% endif %}\n        <!-- END TOTAL BAND -->\n        \n        \n     {% set lower_header_height = \"60%\" %}\n     {% if not (islast and doc.taxes|length > 0) %}\n         {% set lower_header_height = \"60%\" %}\n     {% endif %}\n     <div style=\"width: 100%;flex-grow:1;\">\n     \t\t<hr style=\"margin-top:0 !important;margin-bottom:0 !important;border-top:1px solid gray;\"></hr>\n            <div>\n\t            <div style=\"width:65%;float: left;padding-right:5px;\">\n\t\t\t\t\t\t<div style=\"width:100%;font-size:10px;background: #eee !important;\">\n                        \t<b>Terms & Conditions</b>\n                        </div>\t\t\t\t\t   \n\t\t\t\t\t\t<div style=\"font-size: 10px;\">\n\t\t\t\t\t\t\t{{ vehicle_terms() }}\n\t\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t            <div style=\"margin-left:10px;overflow:hidden;font-size:11px;\">\n                \t<div>\n                    \t<div style=\"width:100%;background:#eee !important;padding-left:5px;\">\n\t                    \t<span style=\"font-size:10px;\"><b>Company's Registration Details</b></span>\n                        </div>\n\t\t\t\t\t\t<div style=\"padding-left:5px;\">\n\t\t\t\t\t\t\t{{ frappe.db.get_value(\"Company\", doc.company, \"registration_details\") or \"\" }} \n\t\t\t\t\t\t</div>          \n                    </div>\n                    <div style=\"padding-top:10px;\">\n                    \t<div style=\"background:#eee !important;width:100%;padding-left:5px;\">\n                    \t\t<b>Transportation Details</b>\n                        </div>\n                        <div style=\"padding-left:5px;\">\n                        \tVehicle No: {{ doc.vehicle_no or \"\" }}\n                        \t<br/>Date & Time of Supply: {{ doc.date_time_of_supply or \"\" }}\n                        \t<br/>Place of Supply: {{ doc.place_of_supply or \"\" }}\n                       </div>\n                    </div>\n\t            </div>\n            </div>\n     </div>\n     <div style=\"width: 100%;bottom:0px;position:absolute;font-size:12px;\">    \n        <div><hr style=\"margin-top:0 !important;margin-bottom:0 !important;border-top:1px solid gray;\"></hr></div>\n     \t<table style=\"width:100%;min-height:60px;\">\n\t        <tr style=\"height: 35%;background: #eee !important;\">\n                <td style=\"height: 20%;width: 33%; text-align: left;\">\n                      <!-- Intentionally Left Blank -->\n                </td>\n\t            <td style=\"height: 20%;width: 34%; text-align: center;\">\n\t                <!-- Intentionally Left Blank -->\n\t            </td>                                            \n\t            <td style=\"height: 100%;width: 33%; text-align: right;padding-bottom:25px !important;\">\n\t                <span style=\"padding-right:10px;\">For {{ doc.company }}</span>\n\t            </td>\n\t        </tr>\n\t        <tr style=\"background: #eee !important;padding-bottom:2px;\">\n\t            <td style=\"height: 20%;width: 33%; text-align: left;padding-left: 10px !important;\">\n\t                Receivers Signature\n\t            </td>            \n\t            <td style=\"height: 20%;width: 34%; text-align: center;\">\n\t                E. & O.E.\n\t            </td>                            \n\t            <td style=\"height: 20%;width: 33%; text-align: right;\" colspan=\"100%\">\n\t                <span style=\"padding-right:10px;\">Manager</span>\n\t            </td>\n\t        </tr>            \n         </table>\n     </div>\n    \n</div>\n{%- endmacro %}\n<!-- End Macro -->\n\n{% macro print_serialno(itemcode, serialnos) %}\n       {% if serialnos != None -%}\n           \t<div style=\"color:brown;font-size:11px;margin-left:5px;\">\n           \t{% set item_is_vehicle = frappe.db.get_value(\"Item\",itemcode,\"is_vehicle\") %}\n            {% if item_is_vehicle %}\n                  \tChassis No: \n            {% else %}\n                    Serial No:\n            {% endif %}                                                                                                \n            {%- for serial in serialnos.split('\\n') -%}   \n                {% if serial != '' %}\n                   {% set serialdoc = frappe.get_doc(\"Serial No\",serial) %}\n\t               <p style=\"display:inline;\">\n\t                      \t{{ serialdoc.serial_no }}\n\t               </p>\n\t               {% if serialdoc.is_vehicle %}\n                   \t\t <br/>\n                   \t\t Engine No: {{ serialdoc.engine_no }} \n\t\t\t\t\t\t <br/>                   \n\t\t               \t Key No: {{ serialdoc.key_no }}                         \n\t\t\t\t   {% endif %}\n\t\t        {%- endif %}\n\t\t    {%- endfor %}\n            </div>\n\t\t{%- endif %}\t\n{% endmacro %}\n\n\n{% macro do_body() -%}\n\t\t\t\t<!-- Inner Body Container -->\n\t            <div style=\"width: 100%;height: 100%;font-size:12px;display:flex;flex-direction:column;\">\n\n\t\t\t\t    {# set items = doc.items|sort(attribute='item_code') #}\n                    {% set items = doc.items %}\n                   \n                    {%- for row in items -%}\n\n                        {% if loop.index % 2 == 0 -%}\n                        <!-- Do Something / Alternative Rows -->\t   \n                        {%- endif %}\n\n                        <div style=\"min-height: {{ row_height }};height: {{ row_height }};border-bottom:1px solid #eee;overflow:hidden;display:flex;width:100%;\">\n                            <div style=\"width: {{ column_widths.serial_no_column_width }};padding-left:1px !important;padding-top:3px !important;overflow:hidden;float:left;display:table-cell;\">\n                            \t\t{{ loop.index }} \n                            </div>\n                            <div style=\"width: {{ column_widths.hsn_no_column_width }};padding-left:1px !important;padding-top:3px !important;overflow:hidden;float:left;border-left:1px solid gray;display:table-cell;\">\n                            \t\t{{ frappe.db.get_value(\"Item\",row.item_code,\"gst_hsn_code\") }} \n                            </div>                            \n                            <div style=\"width: {{ column_widths.description_column_width }};padding-left:1px !important;padding-top:3px !important;overflow:hidden;float:left;border-left:1px solid gray;display:table-cell;\"> \n                            \t<div style=\"height: {{ row_height }};\">\n                                    {% if row.brand %}\n\t                                <div style=\"display:inline;\">\n\t                                    {{ row.brand }} \n\t                                </div>\n                                    {% endif %}\n\t                                <div style=\"display:inline;\">\n\t                                \t{{ row.item_name }}\n\t\t                            </div>\n                                    <div style=\"display:inline;\">\n                                    \t<div style=\"color:blue;margin-left:5px;\">\n                                    \t\t<I>{{ row.description }}</I>\n                                        </div>\n                                    </div>\n                                                                       \n                                    <!-- SALES INVOICE ROW SERIAL NO -->\n                                    {{ print_serialno(row.item_code, row.serial_no) }}\n                                    {% if row.is_vehicle == 1 %}\n                                    \t<div style=\"color:brown;font-size:11px;margin-left:5px;\">\n                                    \tBattery No: {{ row.battery_serial_no }}\n                                        <br/>\n                                        Service Book No: {{ row.service_book_no }}\n                                        </div>\n                                    {% endif %}\n                                    <!-- SALES INVOICE ROW SERIAL NO -->\n                                    \n                                    <!-- SALES INVOICE PACKED ITEM SERIAL NO -->\n                                    {% if doc.packed_items %}\n                                       <div style=\"margin-left:10px;\">\n                                    \t{% for packs in doc.packed_items %}\n                                        \t{% if packs.parent_item == row.item_code %}\n                                            <div>\n\t\t\t\t                                <div style=\"display:inline;\">\n\t\t\t\t                                \t{{ packs.item_name }}\n\t\t\t\t\t                            </div>\n\t\t\t                                    <div style=\"display:inline;\">\n\t\t\t                                    \t<I><span style=\"color:blue;\">&nbsp - &nbsp {{ packs.description }} </span></I>\n\t\t\t                                    </div>\n\t\t\t                                    <div style=\"display:inline;\">\n\t\t\t                                    \t<I><span style=\"color:blue;\">&nbsp - &nbsp {{ packs.get_formatted(\"qty\", doc) }} {{ packs.uom or packs.stock_uom }} </span></I>\n\t\t\t                                    </div>          \n                                                {{ print_serialno(packs.item_code, packs.serial_no) }}\n\t\t                                    </div>\t\n                                            {% endif %}\n                                        {% endfor %}\n                                      </div>\n                                    {% endif %}\n                                    <!-- SALES INVOICE PACKED ITEM SERIAL NO -->\n                                    \n                                    <!-- PRINT REMARKS -->\n                                    {% if row.remarks %}\n                                    <span style=\"font-size:9px;\">                                    \n                                        <div style=\"width:100%;\">\n                                        \t<div style=\"float:left;margin-left:5px;\">\n                                        \t\tRemarks:\n                                            </div>\n                                            <div style=\"width:85%;float:left;\">\n                                            \t{{ row.remarks }}\n                                            </div>\n                                       </div>\n                                    </span>                                       \n                                    {% endif %}\n                                    \n                                </div>\n                            </div>\n                            \n                            <div style=\"width: {{ column_widths.qty_column_width }}; text-align: right;padding-right:1px !important;padding-left:1px !important;padding-top:3px !important;overflow:hidden;border-left:1px solid gray;float:left;display:table-cell;\">\n                                \t{{ row.get_formatted(\"qty\", doc) }} {{ row.uom or row.stock_uom }}\n                            </div>\n                            <div style=\"width: {{ column_widths.rate_column_width }}; text-align: right;padding-right:1px !important;padding-left:1px !important;padding-top:3px !important;overflow:hidden;border-left:1px solid gray;float:left;display:table-cell;\">\n                                \t{{ frappe.utils.fmt_money(row.net_rate) }}\n                            </div>\n                            <div style=\"width: {{ column_widths.amount_column_width }}; text-align: right;padding-right:1px !important;padding-left:1px !important;padding-top:3px !important;overflow:hidden;border-left:1px solid gray;float:left;display:table-cell;\">\n                                \t{{ frappe.utils.fmt_money(row.net_amount) }}\n                            </div>     \n            \t\t\t\t{% if taxes_as_columns %}\n            \t\t\t\t\t{{ attach_tax_columns(row,current_item,loop.first) }}\n            \t\t\t\t{% endif %}                                                                                    \n                            <div style=\"clear:both;\"></div>\n                        </div>\n\n\t                <!-- Page Break Logic Here -->\n\t                {% if loop.index % display_rows_per_page == 0  and loop.index < doc.items|length %}\n\t\t                <!-- Fill Empty Space -->\n                        {{ insert_vertical_lines(false) }}\n                        <div><hr style=\"margin-top:0 !important;margin-bottom:0 !important;border-top:1px solid gray;\"></hr></div>\n                        \n\t\t\t\t\t\t<!-- Need to Inner Body Container Used Above -->\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<!-- Page Break -->\n\t\t\t\t\t\t\t{{ insert_page_break(true) }}\n                            \n\t\t\t\t\t\t\t<!-- Inner Body Container -->\n\t\t\t            \t<div style=\"width: 100%;height: 100%;font-size:12px;display:flex;flex-direction:column;\">\n\t                {% endif %}\n                    <!-- End Page Break Logic -->\n                \n                {% endfor %}\n\n                <!-- Fill Empty Space -->\n                {{ insert_vertical_lines(true) }}\n\t\t\t\t<div><hr style=\"margin-top:0 !important;margin-bottom:0 !important;border-top:1px solid gray;\"></hr></div>\n                \n                <!-- End Inner Body Container -->\n                </div>\n{%- endmacro %}\n\n<!--------------------------------------------------------------------------------------------------->\n<!-- Don't Edit the Following Blocks -->\n<!-- Instead Use The Macros Above -->\n<!--------------------------------------------------------------------------------------------------->\n\n\n{% macro insert_page_break(test_condition) -%}\n\t{% if test_condition %} \n\n\t\t                <!-- Fill Empty Space -->\n\t\t                <!-- <div style=\"height: 100%\"></div> -->\n\n\t\t\t<!-- End Body Container -->\n\t\t        </div>\n\n\t\t    <!-- End Main Body Div -->  \n\t\t    </div>\n\n\t\t    <!-- Set Footer -->\n\t\t    <div style=\"max-height: {{ max_footer_height }};height: {{ footer_height }};background: {{ footer_background }};;overflow: hidden;display:grid;min-height:200px;flex-grow:0.05;\">\n\t\t\t\t<div style=\"width: 100%;height: 100%;\"> \n\t\t\t\t\t{{ setfooter(false) }}\n\t\t\t\t</div>\n\t\t    </div>\n\n\n\t\t<!-- End Main Div -->\n\t\t</div>\n\n\n\t\t<!-- PAGE BREAK -->\n\t\t<div class=\"page-break\"></div> <!-- Seems to be working in Chrome Ver: 38.0.2125.111 & Chrome 43 -->\n\n\t\t<!-- Logic to Count Total Number of Pages -->\n\t\t{% if total_pages.append('1') %} {% endif %}\t\n\n\t\t<!-- Start Another Main Div Tag -->\n\t\t<div class=\"page-preview\" style=\"height: {{ div_page_height }};max-height: {{ div_max_page_height }};display:flex !important;flex-direction:column;\">    \n\n\t\t    <!-- Set New Header -->\n\t\t    <div style=\"max-height: {{ max_header_height }};height: {{ header_height }};background: {{ header_background }};overflow: hidden;\">\n\t\t\t\t<div style=\"width: 100%;height:100%;\">\n\t\t\t\t\t{{ setheader() }}\n\t\t\t\t</div>\n\t\t    </div>\n\n\n\t\t    <!-- Start a New Body -->\n\t\t    <div style=\"max-height: {{ max_body_height }};height: {{ body_height }};background: {{ body_background }};overflow: hidden;flex:1;display:grid;\"> \n\n\t\t\t\t<!-- New Body Container -->\n\t\t\t\t<div style=\"width:100%;height: 100%;\">\n\n\t{% endif %}\n{%- endmacro %}\n\n<!-- Set Global Default font -->\n<span style=\"font-family:{{ global_default_font }};font-size:10px;\">\n\n<!-- Main Div Tag -->\n<div class=\"page-preview\" style=\"height: {{ page_size.div_page_height }};max-height: {{ div_max_page_height }};display:flex !important;flex-direction:column;\">\n\t<!-- Logic to Count Total Number of Pages -->\n\t{% set total_pages = [1] %}\n\n    <!-- Set Header -->\n    <div style=\"max-height: {{ max_header_height }};height: {{ header_height }};background: {{ header_background }};overflow: hidden;\">\n\t\t<div style=\"width: 100%;height:100%;\">\n\t\t\t{{ setheader() }}\n\t\t</div>\n    </div>\n\n    <!-- Set Body -->\n    <!-- Main Body Tag -->\n    <div style=\"max-height: {{ max_body_height }};height: {{ body_height }};background: {{ body_background }};overflow: hidden;flex:1;display:grid;\"> \n        <!-- Body Container -->\n        <div style=\"width:100%;height: 100%;\">\n        \n        \t{{ do_body() }}\n\t\n        <!-- End Body Container Div -->\n        </div>\n\n        <!-- End Main Body Div -->            \n    </div>\n\n\n    <!-- Set last Footer -->\n    <div style=\"max-height: {{ max_footer_height }};height: {{ footer_height }};background: {{ footer_background }};;overflow: hidden;display:grid;min-height:200px;flex-grow:0.05;\">\n\t\t<div style=\"width: 100%;height: 100%;\"> \n\t\t\t{{ setfooter(true) }}\n\t\t</div>\n    </div>\n\n</div>\n<!-- End Font -->\n</span>", 
  "line_breaks": 0, 
  "modified": "2017-10-07 12:17:12.321294", 
  "module": "Accounts", 
  "name": "Vehicle and Spares Invoice", 
  "print_format_builder": 0, 
  "print_format_type": "Server", 
  "show_section_headings": 0, 
  "standard": "No"
 }, 
 {
  "align_labels_left": 0, 
  "css": null, 
  "custom_format": 1, 
  "disabled": 0, 
  "doc_type": "Sales Invoice", 
  "docstatus": 0, 
  "doctype": "Print Format", 
  "font": "Default", 
  "format_data": null, 
  "html": "<!-- TESTED ON CHROME VER 57.0.2987.133 -->\n{% set orientation = \"Portrait\" %}\n{% set display_rows_per_page = 8 %}\n\n{% set row_height = \"auto\" %}\n{% set div_page_height = \"100%\" %}\n{% set div_max_page_height = \"100%\" %}\n{% set page_size = {} %}\n{% if page_size.update({\"min_page_height\":\"8.26in\"}) %}{% endif %}\n{% if page_size.update({\"min_page_width\":\"11.69in\"}) %}{% endif %}\n{% if page_size.update({\"max_page_height\":\"8.26in\"}) %}{% endif %}\n{% if page_size.update({\"max_page_width\":\"11.69in\"}) %}{% endif %}\n{% if page_size.update({\"preferred_page_width\":\"11.69in\"}) %}{% endif %}\n{% if page_size.update({\"preferred_page_height\":\"8.26in\"}) %}{% endif %}\n{% set header_height = \"initial\" %}\n{% set max_header_height = \"initial\" %}\n{% set footer_height = \"initial\" %}\n{% set max_footer_height = \"initial\" %}\n{% set body_height = \"initial\" %}\n{% set max_body_height = \"100%\" %}\n\n{% set footer_background = \"transparent\" %}\n{% set header_background = \"transparent\" %}\n{% set body_background = \"transparent\" %}\n{% set page_padding = \"1cm\" %}\n\n{% set global_default_font = \"Monospace\" %}\n\n{% set column_widths = {} %}\n{% if column_widths.update({\"serial_no_column_width\":\"3%\"}) %}{% endif %}\n{% if column_widths.update({\"hsn_no_column_width\":\"8%\"}) %}{% endif %}\n{% if column_widths.update({\"description_column_width\":\"35%\"}) %}{% endif %}\n{% if column_widths.update({\"qty_column_width\":\"5%\"}) %}{% endif %}\n{% if column_widths.update({\"amount_column_width\":\"10%\"}) %}{% endif %}\n{% if column_widths.update({\"rate_column_width\":\"10%\"}) %}{% endif %}\n\n{% set tax_line_counter = {'tl':1} %}\n{% set tax_line_max_length = 8 %}\n{% set tax_analysis_div_width = \"50%\" %}\n{% set tax_analysis_row_left = \"60%\" %} \n{% set tax_analysis_row_right = \"40%\" %}\n\n{% set taxes_as_columns = true %}\n{% set print_tax_analysis = false %}\n{% if column_widths.update({\"tax_rate_column_width\":\"6%\"}) %}{% endif %}        \n{% if column_widths.update({\"tax_amount_column_width\":\"8%\"}) %}{% endif %}        \n\n{% set key_index = {} %}\n{% set abbr = \" - \"+frappe.db.get_value(\"Company\", doc.company, \"abbr\") %}\n\n{% macro set_orientation_size() %}\n\t{% if orientation != \"Landscape\" %}\n\t\t{% if page_size.update({\"min_page_height\":\"11.69in\"}) %}{% endif %}\n\t\t{% if page_size.update({\"min_page_width\":\"8.26in\"}) %}{% endif %}\n\t\t{% if page_size.update({\"max_page_height\":\"11.69in\"}) %}{% endif %}\n\t\t{% if page_size.update({\"max_page_width\":\"8.26in\"}) %}{% endif %}\n\t\t{% if page_size.update({\"preferred_page_width\":\"8.26in\"}) %}{% endif %}\n\t\t{% if page_size.update({\"preferred_page_height\":\"11.69in\"}) %}{% endif %}\n    {% endif %} \n{% endmacro %}\n\n{% macro set_column_widths() %}\n\t{% set tax_columns = {'ln':0} %}\n    {% if taxes_as_columns %}\n    \t{% for taxes in doc.taxes %}\n\t    \t{% if taxes.charge_type != 'Actual' %}\n\t        \t{% if tax_columns.update({\"ln\":tax_columns.ln + 1}) %} {% endif %}\n\t        {% endif %}\n    \t{% endfor %}\n    {% endif %}\n    {% if tax_columns.ln == 0 %}\n\t    {% if column_widths.update({\"serial_no_column_width\":\"4%\"}) %}{% endif %}\n\t\t{% if column_widths.update({\"hsn_no_column_width\":\"9%\"}) %}{% endif %}\n\t\t{% if column_widths.update({\"description_column_width\":\"50%\"}) %}{% endif %}\n\t\t{% if column_widths.update({\"qty_column_width\":\"7%\"}) %}{% endif %}\n\t\t{% if column_widths.update({\"amount_column_width\":\"15%\"}) %}{% endif %}\n\t\t{% if column_widths.update({\"rate_column_width\":\"15%\"}) %}{% endif %}\n    {% else %}\n\t    {% if column_widths.update({\"serial_no_column_width\":\"3%\"}) %}{% endif %}\n\t\t{% if column_widths.update({\"hsn_no_column_width\":\"8%\"}) %}{% endif %}\t\t\n\t\t{% if column_widths.update({\"qty_column_width\":\"4%\"}) %}{% endif %}\n\t\t{% if column_widths.update({\"amount_column_width\":\"12%\"}) %}{% endif %}\n\t\t{% if column_widths.update({\"rate_column_width\":\"12%\"}) %}{% endif %}\n    \t{% if tax_columns.ln == 1 %}\n        \t{% if column_widths.update({\"description_column_width\":\"39%\"}) %}{% endif %}\n\t\t\t{% if column_widths.update({\"tax_rate_column_width\":\"5%\"}) %}{% endif %}        \n            {% if column_widths.update({\"tax_amount_column_width\":\"10%\"}) %}{% endif %}        \n            {% if column_widths.update({\"total_amount_column_width\":\"12%\"}) %}{% endif %} \n        {% endif %}\n    \t{% if tax_columns.ln == 2 %}\n        \t{% if column_widths.update({\"description_column_width\":\"32%\"}) %}{% endif %}\n\t\t\t{% if column_widths.update({\"tax_rate_column_width\":\"5%\"}) %}{% endif %}        \n            {% if column_widths.update({\"tax_amount_column_width\":\"10%\"}) %}{% endif %}  \n            {% if column_widths.update({\"total_amount_column_width\":\"12%\"}) %}{% endif %}\n\t\t\t{% if column_widths.update({\"amount_column_width\":\"11%\"}) %}{% endif %}\n\t\t\t{% if column_widths.update({\"rate_column_width\":\"11%\"}) %}{% endif %}            \n        {% endif %}        \n    {% endif %}\n{% endmacro %}\n\n{% set total_pages_as_per_rows = (doc.items|length / display_rows_per_page)|int %}\n{% if (doc.items|length % display_rows_per_page|int)|int != 0 %}\n    {% set total_pages_as_per_rows = total_pages_as_per_rows + 1 %}\n{% endif %}\n\n\n{{ set_orientation_size() }}\n{{ set_column_widths() }}\n\n<!-- DONT EDIT STYLE BELOW -->\n<style>\n    body{\n        min-height:100% /* force the BODY element to match the height of the HTML element */\n    }\n    .print-format td {\n        padding: 0px !important;\n    }\n    @-moz-document url-prefix() {\n    \t.print-format {\n\t        height: 99% !important;\n        }\n    }\n    .print-format {\n        height: 100%;\n        background-color: initial;\n        box-shadow: initial;\n        max-width: initial;\n        min-height: initial;\n        margin: initial;\n        padding: initial !important;        \n    }\n    \n    .print-format-gutter {\n        height: 100%;\n    }\n    @media screen {\n        .page-preview {\n            min-height: {{ page_size.min_page_height }} !important;\n            max-width: {{ page_size.max_page_width }} !important;\n            padding: {{ page_padding }};\n            background-color: white;\n            box-shadow: 0px 0px 9px rgba(0,0,0,0.5);\n            margin: auto;\n            display: table !important;\n            width: 100%;\n        }\n    }\n    @media print {    \n    \thtml{\n\t        height:100%;\n\t        position:relative\n\t    }    \n    \t@page {\n            size: {{ page_size.preferred_page_width }} {{ page_size.preferred_page_height }} {{ orientation }};\n            margin: {{ page_padding }};\n        }    \n        body {\n            height: 100%;\n            -webkit-print-color-adjust: exact !important;\n        }\n        .page-preview {\n            height: 100%;\n            width: 100%;\n            display: table;\n        }\n    }\n    @media all {\n \t\tcolcell {\n    \t\tborder-left-style:solid !important;\n            border-left-color:gray !important;\n            border-left-width:1px !important;\n\t\t}\n    }\n</style>\n<!-- DONT EDIT STYLE ABOVE -->\n\n<!---------------------------------------------------------------->\n<!-------- CUSTOM MACROS FOR LOCAL USE --------------------------->\n<!---------------------------------------------------------------->\n\n{% macro tax_analysis_print_format() %}\n <table style=\"height:100%;\">\n \t<tr>\n    \t<th style=\"width:125px;padding:0px !important;width:100%;\">Model (HSN Code)</th>\n\t\t{% for taxes in doc.taxes %}\n        \t{% if taxes.charge_type != 'Actual' %}\n                <th style=\"min-width:45px;padding:0px !important;text-align:right;\">Rate(%)</th>\n        \t\t<th style=\"min-width:70px;padding:0px !important;text-align:right;\">{{ taxes.account_head.split(abbr)[0] }}(Rs)</th>\n                {% if key_index.update({taxes.account_head:loop.index}) %}{% endif %}\n            {% endif %}\n    \t{% endfor %}\n    </tr>\n    \n    {% set items = doc.items|sort(attribute='item_code') %}\n    {% set current_item = {'ci':items[0].item_code} %}\n    {% for model in items %}\n    \t{% if current_item.ci != model.item_code or loop.first %}\n        \t{% if current_item.update({'ci':model.item_code}) %}{% endif %}\n    \t<tr>\n        \t<td>{{ model.item_code }}({{ frappe.db.get_value(\"Item\", model.item_code, \"gst_hsn_code\") }})</td>\n\t\t{% for tax in doc.taxes %}\n        \t{% if tax.charge_type != 'Actual' %}\n\t\t    \t{% set i = tax.item_wise_tax_detail|json_load %}\n\t\t        {% for key, val in i.items() %}\n\t            \t{% if key == model.item_code %}\n\t\t                <td style=\"text-align:right;\">{{ val[0] }}</td>\n\t\t                {% for i in range(key_index[tax.account_head]) %}\n\t\t                \t{% if loop.last %}\n\t\t                \t  <td style=\"text-align:right;\">{{ val[1] }}</td>\n\t\t                    {% endif %}\n\t\t                {% endfor %}   \n\t                {% endif %}\n\t\t        {% endfor %}\n            {% endif %}\n\t    {% endfor %}\n        {% endif %}\n        </tr>\n    {% endfor %}\n    <tr height=\"100%;\"> \n         <td style=\"width=125px;\"> </td>\n    </tr>            \n  </table>\n{% endmacro %}\n\n{% macro do_subtotals() %}\n    <!-- DIFFRENT VAT & CHARGES PRINT -->\n\t<div style=\"display:flex;justify-content:flex-end;flex-wrap:wrap;flex-direction:column;align-items:flex-end;width:100%;\">\n                \n\t\t<!-- SUB TOTAL -->\n\t\t<div style=\"width:100%;\">\n\t\t\t<div style=\"width:50%;float:left;padding: 1px !important;padding-left:10px !important;max-height: 13px;overflow: hidden;\">\n\t\t\t\t\tTaxable Value\n\t\t\t</div>\n\t\t\t<div class=\"text-right\" style=\"width:50%;float:left;padding: 1px !important;padding-right: 2px !important;max-height: 13px;overflow: hidden;\">\n\t\t\t\t\t{{ doc.get_formatted(\"net_total\") }}\n\t\t\t</div>\n\t\t</div>\n\t    <!-- END SUB TOTAL -->\n                \n\t\t{%- for row in doc.taxes -%}\n            {% if row.tax_amount != 0 %}\n\t\t\t\t<div style=\"width:100%;\">\n\t\t\t\t\t<div style=\"width:50%;float:left;padding: 1px !important;padding-left:10px !important;max-height: 13px;overflow: hidden;\">\n\t\t\t\t\t\t\t{{ row.description }}\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"text-right\" style=\"width:50%;float:left;padding: 1px !important;padding-right: 2px !important;max-height: 13px;overflow: hidden;\">\n\t\t\t\t\t\t\t{{ row.get_formatted(\"tax_amount\", doc) }}\n\t\t\t\t\t</div>\n                    <div style=\"clear:both;\"></div>\n\t\t\t\t</div>\n            {% endif %}\n\t\t{%- endfor -%}\n\t</div>\n{% endmacro %}\n\n\n{% macro attach_tax_columns_vertical_lines(is_last) %}\n\t\t{% set columnheight = {'height':\"100%\"} %}\n\t\t{% if not is_last %}\n        \t{% if columnheight.update({'height':\"100%\"}) %} {% endif %}\n        {% endif %}\n        \n\t\t{% set total_len = doc.taxes|length - (doc.taxes|selectattr(\"charge_type\", \"equalto\", \"Actual\")|list)|length %}\n\t\t{% for n in range(1, total_len+1) %}\n                <!-- <div style=\"width: {{ column_widths.tax_rate_column_width }}; text-align: right;padding-right:4px !important;padding-top:3px !important;overflow:hidden;border-left:1px solid gray !important;padding-left:2px !important;float:left;\">&nbsp</div> -->\n\t\t\t\t<div style=\"width: {{ column_widths.tax_amount_column_width }}; text-align: right;padding-right:4px !important;padding-top:3px !important;overflow:hidden;border-left:1px solid gray !important;padding-left:2px !important;float:left;height:{{ columnheight.height }}\">&nbsp</div>               \n        {% endfor %}       \n        <div style=\"width: {{ column_widths.total_amount_column_width }}; text-align: right;padding-right:4px !important;padding-top:3px !important;overflow:hidden;border-left:1px solid gray !important;padding-left:2px !important;float:left;height:{{ columnheight.height }}\">&nbsp</div>       \n        \n\t\t{% if is_last %}\n\t\t\t{% set tax_columns = {'ln':0} %}\n\t\t   \t{% for taxes in doc.taxes %}\n\t\t    \t{% if taxes.charge_type != 'Actual' %}\n\t    \t    \t{% if tax_columns.update({\"ln\":tax_columns.ln + 1}) %} {% endif %}\n\t\t        {% endif %}\n\t    \t{% endfor %}\n            {% if tax_columns.ln == 1 %}\n            \t{% if tax_columns.update({'width':\"34%\"}) %}{% endif %}\n            {% endif %}\n            {% if tax_columns.ln == 2 %}\n            \t{% if tax_columns.update({'width':\"32%\"}) %}{% endif %}\n            {% endif %}            \n        \t<div style=\"background:white !important;position:absolute;height:auto;width:{{ tax_columns.width }};border-top:1px solid gray;bottom:0;right:0;margin-right:1px;margin-left:1px;border-left:1px solid gray;display:flex;padding-bottom:4px;padding-top:4px;padding-right:1px;\">\n            \t{{ do_subtotals() }}\n        \t</div>\n        {% endif %}\n{% endmacro %}\n\n{% macro attach_tax_columns_headers() %}\n\t\t{% for taxes in doc.taxes %}\n        \t{% if taxes.charge_type != 'Actual' %}\n                <!-- <div style=\"width:{{ column_widths.tax_rate_column_width }};vertical-align:middle !important;\">{{ taxes.account_head.split(abbr)[0] }}<br/>(%)</div> -->\n        \t\t<div style=\"width:{{ column_widths.tax_amount_column_width }};vertical-align:middle !important;\">{{ taxes.account_head.split(abbr)[0] }}<br/><span style=\"font-size:10px;\">Amt/Rate(%)</span></div>\n                {% if key_index.update({taxes.account_head:loop.index}) %}{% endif %}\n            {% endif %}\n       {% endfor %}\n       <div style=\"width:{{ column_widths.total_amount_column_width }};vertical-align:middle !important;padding-right:4px !important;float:left;\">Total<br/>(Rs)</div>\n{% endmacro %}\n\n{% macro attach_tax_columns(model, current_item, first) %}\n\t{% set total_amt = {'total':0} %}\n\t{% for tax in doc.taxes %}\n       \t{% if tax.charge_type != 'Actual' %}\n\t    \t{% set i = tax.item_wise_tax_detail|json_load %}\n\t        {% for key, val in i.items() %}\n            \t{% if key == model.item_code %}\n\t                <!-- <div style=\"width: {{ column_widths.tax_rate_column_width }}; text-align: right;padding-right:1px !important;padding-left:1px !important;padding-top:3px !important;overflow:hidden;border-left:1px solid gray !important;padding-left:2px !important;float:left;display:table-cell;\">{{ frappe.utils.fmt_money(val[0]) }}</div> -->\n\t                {% for i in range(key_index[tax.account_head]) %}\n\t                \t{% if loop.last %}\n\t                \t  <div style=\"width: {{ column_widths.tax_amount_column_width }}; text-align: right;padding-right:1px !important;padding-left:1px !important;padding-top:3px !important;overflow:hidden;border-left:1px solid gray !important;padding-left:2px !important;float:left;display:table-cell;\">{{ frappe.utils.fmt_money(val[1]) }}<br/><span style=\"font-size:10px;\">{{ frappe.utils.fmt_money(val[0]) }}%</span></div>\n                          {% if total_amt.update({'total':total_amt.total+val[1]}) %} {% endif %}\n\t                    {% endif %}\n\t                {% endfor %}   \n                {% endif %}\n\t        {% endfor %}\n           {% endif %}\n\t{% endfor %}\n   \t<div style=\"width: {{ column_widths.total_amount_column_width }}; text-align: right;padding-right:1px !important;padding-left:1px !important;padding-top:3px !important;overflow:hidden;border-left:1px solid gray;float:left;display:table-cell;\">\n              \t{{ frappe.utils.fmt_money(model.net_amount+total_amt.total) }}\n    </div>                                         \n{% endmacro %}\n\n\n{% macro insert_vertical_lines(is_last) %}\n      <div style=\"flex:1;display:flex;position:relative;\">\n           <div style=\"width: {{ column_widths.serial_no_column_width }};padding-left:4px !important;padding-top:3px !important;overflow:hidden;float:left;\"></div>\n           <div style=\"width: {{ column_widths.hsn_no_column_width }};padding-left:4px !important;padding-top:3px !important;overflow:hidden;float:left;border-left:1px solid gray;\"></div>                            \n           <div style=\"width: {{ column_widths.description_column_width }};padding-left:4px !important;padding-top:3px !important;overflow:hidden;float:left;border-left:1px solid gray;\"></div>\n           <div style=\"width: {{ column_widths.qty_column_width }}; text-align: right;padding-right:4px !important;padding-top:3px !important;overflow:hidden;border-left:1px solid gray;float:left;\"></div>\n           <div style=\"width: {{ column_widths.rate_column_width }}; text-align: right;padding-right:4px !important;padding-top:3px !important;overflow:hidden;border-left:1px solid gray;float:left;\"></div>\n           <div style=\"width: {{ column_widths.amount_column_width }}; text-align: right;padding-right:4px !important;padding-top:3px !important;overflow:hidden;border-left:1px solid gray;float:left;\"></div>                        \n           {% if taxes_as_columns %}\n              \t{{ attach_tax_columns_vertical_lines(is_last) }}\n           {% endif %}                            \n           <div style=\"clear:both;\"></div>\n     </div>  \n{% endmacro %}\n\n\n{% macro print_taxes_charges() -%}\t\n\t<div style=\"display:flex;width:100%;height:100%;flex-grow:1;\">\n\t    {% set taxes_band_width = {'analysis':\"70%\",'subtotal':\"30%\"} %}\n\t    {% if not print_tax_analysis %}\n\t        {% if taxes_band_width.update({'analysis':\"0%\",'subtotal':\"100%\"}) %} {% endif %}\n\t    {% endif %}\n    \n\t\t{% if print_tax_analysis %}    \n\t\t\t<div style=\"width:{{ taxes_band_width.analysis }};padding-right:10px;\">        \n\t\t\t    \t<div style=\"max-width:50px;float:left;\"><B>TAX BREAKUP</B></div>    \n\t\t\t\t       \t{{ tax_analysis_print_format() }}\n\t\t\t</div>                 \n\t    \t<div style=\"width:{{ taxes_band_width.subtotal }};flex-grow:1;background:#eee !important;\">\n\t    \t\t{{ do_subtotals() }}\n\t\t    </div>        \n\t\t{% endif %}                    \n    </div>\n{%- endmacro %}\n\n<!---------------------------------------------------------------->\n<!-------- END OF CUSTOM MACROS FOR LOCAL USE -------------------->\n<!---------------------------------------------------------------->\n\n<!-- Macro for Header -->\n{% macro setheader() -%}\n{% set header_column_width=20 %}\n{% set value_column_width=80 %}\n<div style=\"width: 100%;height:100%;\">\n\t<div style=\"width:100%;overflow: hidden\">\n    <table style=\"width: 100%;height:100%\">\n        {% if letter_head and not no_letterhead -%}\n        <tr>\n            <td colspan=\"100%\" style=\"width: 100%;padding-bottom: 3px !important;\">\n                {{ letter_head }}\t\n            </td>\n        </tr>\n        <tr><td colspan=\"100%\"><hr style=\"margin-top:0px;margin-bottom:0px;border:none;color:black;background:black;height:1px;\"></hr></td></tr>\n        {%- endif %}\n        <tr style=\"height:100%;\">\n            <td colspan=\"100%\" style=\"width: 100%;padding: 1px !important;\">\n                <div style=\"height: 65px;max-height: 65px;overflow: hidden;background: #eee !important;\">\n                    <table style=\"width: 100%;height:100%;\">\n\t\t\t    \t<tr>\n\t\t\t        \t<td colspan=\"100%\" style=\"width: 100%;padding-top: 3px !important;padding-bottom:3px !important;text-align:right;background:white !important;\">\n\t\t\t\t           \t<div style=\"width:100%;font-size:9px;\">\n\t\t\t                \t<div style=\"float:right;\">\n\t\t\t                    \t\t<span style=\"font-family:wingdings;padding-left:5px;\">o</span>\n\t\t\t                            <span style=\"font-family:ARIAL NARROW;text-transform:uppercase;\">Triplicate for Supplier</span>\n\t\t\t                    </div>\n\t\t\t                    <div style=\"float:right;\">\n\t\t                    \t\t<span style=\"font-family:wingdings;padding-left:5px;\">o</span>\n\t\t\t                        <span style=\"font-family:ARIAL NARROW;text-transform:uppercase;\">Duplicate for Transporter</span>\n\t\t\t                    </div>                                \n\t\t\t                \t<div style=\"float:right;\">\n\t\t\t                    \t<span style=\"font-family:wingdings;\">o</span>\n\t\t\t                        <span style=\"font-family:ARIAL NARROW;text-transform:uppercase;\">Original For Recipient</span>\n\t\t\t                    </div>                                \n\t\t\t                </div>\n\t\t\t            </td>\n        \t\t\t</tr>                    \n                        <tr>\n                            <td style=\"height: 100%;width: 30%;color: black;font-size: 9px;text-transform: uppercase;text-align: left;vertical-align: middle !important; padding-left: 5px !important;\">\n\t                    \t\tTax Payable on Reverse Charge: <b>NO</b>                               \n                                <br/>Page {{ total_pages|length }} of {{ total_pages_as_per_rows }}                                \n                            </td>\t\t\t\t\t\n                            <td style=\"width: 40%;color: black;text-align: center;vertical-align: middle !important;\" rowspan=\"100%\">\n                                <span style=\"font-size: 22px;text-transform:uppercase;\"><B>{{ doc.select_print_heading or \"Tax Invoice\" }}</B></span>\n                            </td>\t\t\t\t\t\n                            <td style=\"height: 100%;width: 30%;color: black;font-size: 12px;text-transform: uppercase;text-align: right;vertical-align: middle !important; padding-right: 5px !important;\">\n                                <B>{{ doc.name[5:] }}<br>Date: {{ doc.get_formatted(\"posting_date\") }}</br> </B>\n                            </td>\t\t\t\t\t\n                        </tr>\n                    </table>\n                </div>\n                <table style=\"border-collapse: collapse;width: 100%;margin-top:2px;line-height:15px;\">\n                    <tr>\n                        <td style=\"width: 50%;vertical-align: middle !important;\">\n                            <table style=\"width: 100%;font-size:14px;\">\n                                <tr> \n                                    <td style=\"width: {{ header_column_width }}%;padding-top:5px !important;color:red;\">\n                                        Name\n                                    </td>\n                                    <td style=\"width: {{ value_column_width }}%;padding-top:5px !important;\">\n                                        <span style=\"text-align: left;text-transform:uppercase;\"><B>{{ coname }}</B></span>\n                                    </td>\n                                </tr>\n                                <tr>\n                                \t<td style=\"width: {{ header_column_width }}%;\">\n                                    \t<!-- Intentionally Left Blank -->\n                                    </td>\n                                    <td style=\"width: {{ value_column_width }}%;\">\n                                    \t\t<span style=\"font-size:12px;text-align: left;\"><B>C/O {{ doc.customer_name }}</B></span>\n                                    </td>\n                                </tr>\n                            </table>\n                        </td>\n                    \t<td style=\"vertical-align:middle !important;\">\n                    \t\t<table style=\"width:100%;font-size:14px;\">\n                                <tr> \n                                    <td style=\"width: {{ header_column_width }}%;padding-top:5px !important;color:red;\">\n                                        Name\n                                    </td>\n                                    <td style=\"width: {{ value_column_width }}%;padding-top:5px !important;\">\n                                        <span style=\"text-align: left;text-transform:uppercase;\"><B>{{ coname }}</B></span>\n                                    </td>\n                                </tr>\n                                <tr>\n                                \t<td style=\"width: {{ header_column_width }}%;\">\n                                    \t<!-- Intentionally Left Blank -->\n                                    </td>\n                                    <td style=\"width: {{ value_column_width }}%;\">\n                                    \t\t<span style=\"font-size:12px;text-align: left;\"><B>C/O {{ doc.customer_name }}</B></span>\n                                    </td>\n                                </tr>                            \n\t\t                    </table>\n\t                    </td>                        \n                    </tr>\n                    <tr>                    \t\n                        \t<td style=\"width: 50%;padding-bottom: 3px !important;padding-top: 3px !important;\">\n                            <table style=\"width: 100%;font-size:12px;\">\n                                <tr> \n                                    <td style=\"width: {{ header_column_width }}%\">\n                                        <span style=\"color:red;\">Billing Address</span>\n                                    </td>\n                                    <td style=\"width: {{ value_column_width }}%;padding-bottom:3px !important;\">\n                                        <B>{{ doc.address_display }}</B>\n                                    </td>\n                                </tr>\n\t\t\t                    <tr>\n\t\t\t                    \t<td style=\"width: {{ header_column_width }}%;\">\n\t\t\t\t                        \t<span style=\"color:red;\">Contact No</span>\n\t\t\t                        </td>\n\t\t\t                        <td style=\"width: {{ value_column_width }}%;\">\n                                    \t<b>{{ frappe.db.get_value(\"Customer\", doc.customer, \"primary_contact_no\") }}\n\t\t\t                            {% set secondary = frappe.db.get_value(\"Customer\", doc.customer, \"secondary_contact_no\") %}\n\t\t\t                            {% if secondary %}\n\t\t\t                                ,{{ secondary }}\n\t\t\t                            {% endif %}</b>                            \n\t\t\t                        </td>\n\t\t\t                    </tr>                    \n                            </table>\n                        </td>\n                        {% if doc.shipping_address_name %}                        \n                        <td style=\"width: 50%;padding-bottom: 3px !important;padding-top: 3px !important;\">\n                            <table style=\"width: 100%;font-size:12px;\">\n                                <tr> \n                                    <td style=\"width: {{ header_column_width }}%\">\n                                        <span style=\"color:red;\">Delivery Address</span>\n                                    </td>\n                                    <td style=\"width: {{ value_column_width }}%\">\n                                        <B>{{ doc.shipping_address }}</B>\n                                    </td>\n                                </tr>\n                                {% set veh_no = frappe.db.get_value(\"Customer\", doc.customer, \"vehicle_no\") %}\n                                {% if veh_no %}\n\t\t\t                    \t<tr>\n\t\t\t\t                    \t<td style=\"width: {{ header_column_width }}%;\">\n\t\t\t\t\t                        \t<span style=\"color:red;\">Vehicle No</span>\n\t\t\t\t                        </td>\n\t\t\t\t                        <td style=\"width: {{ value_column_width }}%;\">\n\t                                    \t<b>{{ veh_no }}</b>                            \n\t\t\t\t                        </td>\n\t\t\t\t                    </tr>          \n                                {% endif %}\n                            </table>\n                        </td>\n                        {%- endif %}\n                    </tr>\n                <tr><td colspan=\"100%\"><hr style=\"margin-top: 0px;margin-bottom: 0px;padding-bottom:3px !important;\"></hr></td></tr>\t\t\n                <tr>                \n\t                <td colspan=2 style=\"width:100%;padding-bottom: 3px !important;padding-top: 3px !important;\">\n                    \t<div style=\"width:100%;display:flex;\">\n\t               \t\t<div style=\"width:40%;font-size:12px;float:left;\">\n\t               \t\t\t{% if doc.hypothecation %}\n                            <div style=\"width:100%;\">\n\t                   \t\t\t\t<div style=\"color:red;float:left;\">\n\t                       \t\t\t\tHypothecation: \n\t                       \t\t\t</div>\n\t                   \t\t\t\t<div style=\"overflow:hidden;padding-left:10px;\">\n\t                       \t\t\t\t<b>{{ doc.hypothecation }}</b>\n\t                       \t\t\t</div>                        \n                            </div>\n\t              \t\t\t{% endif %}\n\t               \t\t\t{% if doc.reference %}\n                            <div style=\"width:100%;\">\n\t                   \t\t\t\t<div style=\"color:red;float:left;\">\n\t                       \t\t\t\tHYP Reference: \n\t                       \t\t\t</div>\n\t                   \t\t\t\t<div style=\"padding-left:10px;float:left;\">\n\t                       \t\t\t\t<b>{{ doc.reference }}</b>\n\t                       \t\t\t</div>                        \n                            </div>\n\t              \t\t\t{% endif %}                            \n\t                    </div>\n\t               \t\t<div style=\"width:60%;font-size:12px;\">\n\t               \t\t\t{% if doc.purchase_order_no %}\n                            <div style=\"width:100%;\">\n\t                   \t\t\t\t<div style=\"color:red;float:left;\">\n\t                       \t\t\t\tPurchase Order No: \n\t                       \t\t\t</div>\n\t                   \t\t\t\t<div style=\"overflow:hidden;padding-left:10px;\">\n\t                       \t\t\t\t<b>{{ doc.purchase_order_no }}</b>\n\t                       \t\t\t</div>                        \n                            </div>\n                            <div style=\"width:100%;\">\n\t                   \t\t\t\t<div style=\"color:red;float:left;\">\n\t                       \t\t\t\tPurchase Order Date: \n\t                       \t\t\t</div>\n\t                   \t\t\t\t<div style=\"float:left;padding-left:10px;\">\n\t                       \t\t\t\t<b>{{ doc.purchase_order_date }}</b>\n\t                       \t\t\t</div>                        \n                            </div>\n\t              \t\t\t{% endif %}\n                       </div>\n                       </div>\n\t                </td>                    \n                </tr>\n                </table> \n            </td>\n        </tr>\n    </table>\n    </div>\n    <div style=\"width:100%;height: 40px !important;bottom: 0;position: sticky;margin-top:2px;font-size: 11px;text-transform:uppercase;\">\n    <!-- <div style=\"height: 100%;width: 100%;word-wrap:break-word;\"> -->\n        <!-- Column Headings -->\n    \t<div style=\"width: 100%;background: #eee !important;min-height: 15%;height: 40px;font-weight: 600;border-bottom: 1px solid #eee;text-align:center;display:flex;align-items:center;border-bottom:1px solid gray;\">\n            <div style=\"width: {{ column_widths.serial_no_column_width }};vertical-align:middle !important;\">Sr</div>\n            <div style=\"width: {{ column_widths.hsn_no_column_width }};vertical-align:middle !important;\">HSN<br/>Code</div>\n            <div style=\"width: {{ column_widths.description_column_width }};vertical-align:middle !important;\">Item Name</div>\n            <div style=\"width: {{ column_widths.qty_column_width }};vertical-align:middle !important;\">Qty</div>\n            <div style=\"width: {{ column_widths.rate_column_width }};vertical-align:middle !important;\">Rate</div>\n            <div style=\"width: {{ column_widths.amount_column_width }};vertical-align:middle !important;\">Amount</div>\n            {% if taxes_as_columns %}\n            \t{{ attach_tax_columns_headers() }}\n            {% endif %}                        \n        </div>\n    <!-- </div> -->\n    </div>\n</div>\n{%- endmacro %}\n<!-- End Macro -->\n\n\n<!-- Footer Macro -->\n{% macro setfooter(islast) -%}\n<!-- Important Note: Using Position Relative Here and Position Absolute in Table \n Would Anchor Table to the Bottom of DIV -->\n<div style=\"height:100%;width:100%;position:relative;display: flex;flex-direction:column;\">\n\t\t<!-- CONTINUED BAND -->\n\t\t{% if not islast %}\n\t\t<div style=\"width: 100%;padding-top: 20px;padding-bottom:20px;\">\n\t\t\t<table style=\"width: 100%;\">\n\t        \t<tr>\n\t\t            <td style=\"text-align:right;\" colspan=\"100%\">\n\t\t                <b>Continued ... </b>\n\t\t            </td>\n\t\t        </tr>\n\t\t\t</table>\n\t\t</div>\n\t\t{% endif %}\n        <!-- END CONTINUED BAND -->\n                \n        <!-- TAXES BAND -->\n\t\t{% if islast  and doc.taxes|length > 0 %}\n\t\t<div style=\"width: 100%;padding-top:2px;display:flex;flex-direction:column;\">\n\t\t\t\t{{ print_taxes_charges() }}\n        </div>\n\t\t{% endif %}\n        <!-- END TAXES BAND -->\n\n\t\t<!-- TOTAL BAND -->\n\t\t{% if islast %}\n        <div style=\"width: 100%;min-height:35px;background:#eee !important;font-size:11px;\">\n        \t<div style=\"float:left;width:60%;height:100%;padding-top:5px;\">\n\t\t\t\t\t{{ frappe.utils.money_in_words(doc.grand_total) }}\n\t\t\t</div>\n            <div style=\"width:40%;font-size:14px;vertical-align: middle !important;text-align:right;float:left;height:100%;padding-top:5px;padding-right:1px;\">\n                \t<span style=\"text-transform:uppercase;\">Total</span> <b>{{ doc.get_formatted(\"grand_total\") }}</b>\n            </div>\n        </div>\n\t\t{% endif %}\n        <!-- END TOTAL BAND -->\n        \n        \n     {% set lower_header_height = \"60%\" %}\n     {% if not (islast and doc.taxes|length > 0) %}\n         {% set lower_header_height = \"60%\" %}\n     {% endif %}\n     <div style=\"width: 100%;flex-grow:1;\">\n     \t\t<hr style=\"margin-top:0 !important;margin-bottom:0 !important;border-top:1px solid gray;\"></hr>\n            <div>\n\t            <div style=\"width:65%;float: left;padding-right:5px;\">\n\t\t\t\t\t\t<div style=\"width:100%;font-size:10px;background: #eee !important;\">\n                        \t<b>Terms & Conditions</b>\n                        </div>\t\t\t\t\t   \n\t\t\t\t\t\t<div style=\"font-size: 10px;\">\n\t\t\t\t\t\t\t{{ doc.terms or \"\" }}\n\t\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t            <div style=\"margin-left:10px;overflow:hidden;font-size:11px;\">\n                \t<div>\n                    \t<div style=\"width:100%;background:#eee !important;padding-left:5px;\">\n\t                    \t<span style=\"font-size:10px;\"><b>Company's Registration Details</b></span>\n                        </div>\n\t\t\t\t\t\t<div style=\"padding-left:5px;\">\n\t\t\t\t\t\t\t{{ frappe.db.get_value(\"Company\", doc.company, \"registration_details\") or \"\" }} \n\t\t\t\t\t\t</div>          \n                    </div>\n                    <div style=\"padding-top:10px;\">\n                    \t<div style=\"background:#eee !important;width:100%;padding-left:5px;\">\n                    \t\t<b>Transportation Details</b>\n                        </div>\n                        <div style=\"padding-left:5px;\">\n                        \tVehicle No: {{ doc.vehicle_no or \"\" }}\n                        \t<br/>Date & Time of Supply: {{ doc.date_time_of_supply or \"\" }}\n                        \t<br/>Place of Supply: {{ doc.place_of_supply or \"\" }}\n                       </div>\n                    </div>\n\t            </div>\n            </div>\n     </div>\n     <div style=\"width: 100%;bottom:0px;position:absolute;font-size:12px;\">    \n        <div><hr style=\"margin-top:0 !important;margin-bottom:0 !important;border-top:1px solid gray;\"></hr></div>\n     \t<table style=\"width:100%;min-height:60px;\">\n\t        <tr style=\"height: 35%;background: #eee !important;\">\n                <td style=\"height: 20%;width: 33%; text-align: left;\">\n                      <!-- Intentionally Left Blank -->\n                </td>\n\t            <td style=\"height: 20%;width: 34%; text-align: center;\">\n\t                <!-- Intentionally Left Blank -->\n\t            </td>                                            \n\t            <td style=\"height: 100%;width: 33%; text-align: right;padding-bottom:25px !important;\">\n\t                <span style=\"padding-right:10px;\">For {{ doc.company }}</span>\n\t            </td>\n\t        </tr>\n\t        <tr style=\"background: #eee !important;padding-bottom:2px;\">\n\t            <td style=\"height: 20%;width: 33%; text-align: left;padding-left: 10px !important;\">\n\t                Receivers Signature\n\t            </td>            \n\t            <td style=\"height: 20%;width: 34%; text-align: center;\">\n\t                E. & O.E.\n\t            </td>                            \n\t            <td style=\"height: 20%;width: 33%; text-align: right;\" colspan=\"100%\">\n\t                <span style=\"padding-right:10px;\">Manager</span>\n\t            </td>\n\t        </tr>            \n         </table>\n     </div>\n    \n</div>\n{%- endmacro %}\n<!-- End Macro -->\n\n{% macro print_serialno(itemcode, serialnos) %}\n       {% if serialnos != None -%}\n           \t<div style=\"color:brown;font-size:11px;margin-left:5px;\">\n           \t{% set item_is_vehicle = frappe.db.get_value(\"Item\",itemcode,\"is_vehicle\") %}\n            {% if item_is_vehicle %}\n                  \tChassis No: \n            {% else %}\n                    Serial No:\n            {% endif %}                                                                                                \n            {%- for serial in serialnos.split('\\n') -%}   \n                {% if serial != '' %}\n                   {% set serialdoc = frappe.get_doc(\"Serial No\",serial) %}\n\t               <p style=\"display:inline;\">\n\t                      \t{{ serialdoc.serial_no }}\n\t               </p>\n\t               {% if serialdoc.is_vehicle %}\n                   \t\t <br/>\n                   \t\t Engine No: {{ serialdoc.engine_no }} \n\t\t\t\t\t\t <br/>                   \n\t\t               \t Key No: {{ serialdoc.key_no }}                         \n\t\t\t\t   {% endif %}\n\t\t        {%- endif %}\n\t\t    {%- endfor %}\n            </div>\n\t\t{%- endif %}\t\n{% endmacro %}\n\n\n{% macro do_body() -%}\n\t\t\t\t<!-- Inner Body Container -->\n\t            <div style=\"width: 100%;height: 100%;font-size:12px;display:flex;flex-direction:column;\">\n\n\t\t\t\t    {# set items = doc.items|sort(attribute='item_code') #}\n                    {% set items = doc.items %}\n                   \n                    {%- for row in items -%}\n\n                        {% if loop.index % 2 == 0 -%}\n                        <!-- Do Something / Alternative Rows -->\t   \n                        {%- endif %}\n\n                        <div style=\"min-height: {{ row_height }};height: {{ row_height }};border-bottom:1px solid #eee;overflow:hidden;display:flex;width:100%;\">\n                            <div style=\"width: {{ column_widths.serial_no_column_width }};padding-left:1px !important;padding-top:3px !important;overflow:hidden;float:left;display:table-cell;\">\n                            \t\t{{ loop.index }} \n                            </div>\n                            <div style=\"width: {{ column_widths.hsn_no_column_width }};padding-left:1px !important;padding-top:3px !important;overflow:hidden;float:left;border-left:1px solid gray;display:table-cell;\">\n                            \t\t{{ frappe.db.get_value(\"Item\",row.item_code,\"gst_hsn_code\") }} \n                            </div>                            \n                            <div style=\"width: {{ column_widths.description_column_width }};padding-left:1px !important;padding-top:3px !important;overflow:hidden;float:left;border-left:1px solid gray;display:table-cell;\"> \n                            \t<div style=\"height: {{ row_height }};\">\n                                    {% if row.brand %}\n\t                                <div style=\"display:inline;\">\n\t                                    {{ row.brand }} \n\t                                </div>\n                                    {% endif %}\n\t                                <div style=\"display:inline;\">\n\t                                \t{{ row.item_name }}\n\t\t                            </div>\n                                    <div style=\"display:inline;\">\n                                    \t<div style=\"color:blue;margin-left:5px;\">\n                                    \t\t<I>{{ row.description }}</I>\n                                        </div>\n                                    </div>\n                                                                       \n                                    <!-- SALES INVOICE ROW SERIAL NO -->\n                                    {{ print_serialno(row.item_code, row.serial_no) }}\n                                    {% if row.is_vehicle == 1 %}\n                                    \t<div style=\"color:brown;font-size:11px;margin-left:5px;\">\n                                    \tBattery No: {{ row.battery_serial_no }}\n                                        <br/>\n                                        Service Book No: {{ row.service_book_no }}\n                                        </div>\n                                    {% endif %}\n                                    <!-- SALES INVOICE ROW SERIAL NO -->\n                                    \n                                    <!-- SALES INVOICE PACKED ITEM SERIAL NO -->\n                                    {% if doc.packed_items %}\n                                       <div style=\"margin-left:10px;\">\n                                    \t{% for packs in doc.packed_items %}\n                                        \t{% if packs.parent_item == row.item_code %}\n                                            <div>\n\t\t\t\t                                <div style=\"display:inline;\">\n\t\t\t\t                                \t{{ packs.item_name }}\n\t\t\t\t\t                            </div>\n\t\t\t                                    <div style=\"display:inline;\">\n\t\t\t                                    \t<I><span style=\"color:blue;\">&nbsp - &nbsp {{ packs.description }} </span></I>\n\t\t\t                                    </div>\n\t\t\t                                    <div style=\"display:inline;\">\n\t\t\t                                    \t<I><span style=\"color:blue;\">&nbsp - &nbsp {{ packs.get_formatted(\"qty\", doc) }} {{ packs.uom or packs.stock_uom }} </span></I>\n\t\t\t                                    </div>          \n                                                {{ print_serialno(packs.item_code, packs.serial_no) }}\n\t\t                                    </div>\t\n                                            {% endif %}\n                                        {% endfor %}\n                                      </div>\n                                    {% endif %}\n                                    <!-- SALES INVOICE PACKED ITEM SERIAL NO -->\n                                    \n                                    <!-- PRINT REMARKS -->\n                                    {% if row.remarks %}\n                                    <span style=\"font-size:9px;\">                                    \n                                        <div style=\"width:100%;\">\n                                        \t<div style=\"float:left;margin-left:5px;\">\n                                        \t\tRemarks:\n                                            </div>\n                                            <div style=\"width:85%;float:left;\">\n                                            \t{{ row.remarks }}\n                                            </div>\n                                       </div>\n                                    </span>                                       \n                                    {% endif %}\n                                    \n                                </div>\n                            </div>\n                            \n                            <div style=\"width: {{ column_widths.qty_column_width }}; text-align: right;padding-right:1px !important;padding-left:1px !important;padding-top:3px !important;overflow:hidden;border-left:1px solid gray;float:left;display:table-cell;\">\n                                \t{{ row.get_formatted(\"qty\", doc) }} {{ row.uom or row.stock_uom }}\n                            </div>\n                            <div style=\"width: {{ column_widths.rate_column_width }}; text-align: right;padding-right:1px !important;padding-left:1px !important;padding-top:3px !important;overflow:hidden;border-left:1px solid gray;float:left;display:table-cell;\">\n                                \t{{ frappe.utils.fmt_money(row.net_rate) }}\n                            </div>\n                            <div style=\"width: {{ column_widths.amount_column_width }}; text-align: right;padding-right:1px !important;padding-left:1px !important;padding-top:3px !important;overflow:hidden;border-left:1px solid gray;float:left;display:table-cell;\">\n                                \t{{ frappe.utils.fmt_money(row.net_amount) }}\n                            </div>     \n            \t\t\t\t{% if taxes_as_columns %}\n            \t\t\t\t\t{{ attach_tax_columns(row,current_item,loop.first) }}\n            \t\t\t\t{% endif %}                                                                                    \n                            <div style=\"clear:both;\"></div>\n                        </div>\n\n\t                <!-- Page Break Logic Here -->\n\t                {% if loop.index % display_rows_per_page == 0  and loop.index < doc.items|length %}\n\t\t                <!-- Fill Empty Space -->\n                        {{ insert_vertical_lines(false) }}\n                        <div><hr style=\"margin-top:0 !important;margin-bottom:0 !important;border-top:1px solid gray;\"></hr></div>\n                        \n\t\t\t\t\t\t<!-- Need to Inner Body Container Used Above -->\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<!-- Page Break -->\n\t\t\t\t\t\t\t{{ insert_page_break(true) }}\n                            \n\t\t\t\t\t\t\t<!-- Inner Body Container -->\n\t\t\t            \t<div style=\"width: 100%;height: 100%;font-size:12px;display:flex;flex-direction:column;\">\n\t                {% endif %}\n                    <!-- End Page Break Logic -->\n                \n                {% endfor %}\n\n                <!-- Fill Empty Space -->\n                {{ insert_vertical_lines(true) }}\n\t\t\t\t<div><hr style=\"margin-top:0 !important;margin-bottom:0 !important;border-top:1px solid gray;\"></hr></div>\n                \n                <!-- End Inner Body Container -->\n                </div>\n{%- endmacro %}\n\n<!--------------------------------------------------------------------------------------------------->\n<!-- Don't Edit the Following Blocks -->\n<!-- Instead Use The Macros Above -->\n<!--------------------------------------------------------------------------------------------------->\n\n\n{% macro insert_page_break(test_condition) -%}\n\t{% if test_condition %} \n\n\t\t                <!-- Fill Empty Space -->\n\t\t                <!-- <div style=\"height: 100%\"></div> -->\n\n\t\t\t<!-- End Body Container -->\n\t\t        </div>\n\n\t\t    <!-- End Main Body Div -->  \n\t\t    </div>\n\n\t\t    <!-- Set Footer -->\n\t\t    <div style=\"max-height: {{ max_footer_height }};height: {{ footer_height }};background: {{ footer_background }};;overflow: hidden;display:grid;min-height:200px;flex-grow:0.18;\">\n\t\t\t\t<div style=\"width: 100%;height: 100%;\"> \n\t\t\t\t\t{{ setfooter(false) }}\n\t\t\t\t</div>\n\t\t    </div>\n\n\n\t\t<!-- End Main Div -->\n\t\t</div>\n\n\n\t\t<!-- PAGE BREAK -->\n\t\t<div class=\"page-break\"></div> <!-- Seems to be working in Chrome Ver: 38.0.2125.111 & Chrome 43 -->\n\n\t\t<!-- Logic to Count Total Number of Pages -->\n\t\t{% if total_pages.append('1') %} {% endif %}\t\n\n\t\t<!-- Start Another Main Div Tag -->\n\t\t<div class=\"page-preview\" style=\"height: {{ div_page_height }};max-height: {{ div_max_page_height }};display:flex !important;flex-direction:column;\">    \n\n\t\t    <!-- Set New Header -->\n\t\t    <div style=\"max-height: {{ max_header_height }};height: {{ header_height }};background: {{ header_background }};overflow: hidden;\">\n\t\t\t\t<div style=\"width: 100%;height:100%;\">\n\t\t\t\t\t{{ setheader() }}\n\t\t\t\t</div>\n\t\t    </div>\n\n\n\t\t    <!-- Start a New Body -->\n\t\t    <div style=\"max-height: {{ max_body_height }};height: {{ body_height }};background: {{ body_background }};overflow: hidden;flex:1;display:grid;\"> \n\n\t\t\t\t<!-- New Body Container -->\n\t\t\t\t<div style=\"width:100%;height: 100%;\">\n\n\t{% endif %}\n{%- endmacro %}\n\n{% set coname = frappe.db.get_value(\"Customer\", doc.customer, \"company_name\") %}\n{% if coname %}\n<!-- Set Global Default font -->\n<span style=\"font-family:{{ global_default_font }};font-size:10px;\">\n\n<!-- Main Div Tag -->\n<div class=\"page-preview\" style=\"height: {{ page_size.div_page_height }};max-height: {{ div_max_page_height }};display:flex !important;flex-direction:column;\">\n\t<!-- Logic to Count Total Number of Pages -->\n\t{% set total_pages = [1] %}\n\n    <!-- Set Header -->\n    <div style=\"max-height: {{ max_header_height }};height: {{ header_height }};background: {{ header_background }};overflow: hidden;\">\n\t\t<div style=\"width: 100%;height:100%;\">\n\t\t\t{{ setheader() }}\n\t\t</div>\n    </div>\n\n    <!-- Set Body -->\n    <!-- Main Body Tag -->\n    <div style=\"max-height: {{ max_body_height }};height: {{ body_height }};background: {{ body_background }};overflow: hidden;flex:1;display:grid;\"> \n        <!-- Body Container -->\n        <div style=\"width:100%;height: 100%;\">\n        \n        \t{{ do_body() }}\n\t\n        <!-- End Body Container Div -->\n        </div>\n\n        <!-- End Main Body Div -->            \n    </div>\n\n\n    <!-- Set last Footer -->\n    <div style=\"max-height: {{ max_footer_height }};height: {{ footer_height }};background: {{ footer_background }};;overflow: hidden;display:grid;min-height:200px;flex-grow:0.18;\">\n\t\t<div style=\"width: 100%;height: 100%;\"> \n\t\t\t{{ setfooter(true) }}\n\t\t</div>\n    </div>\n\n</div>\n<!-- End Font -->\n</span>\n{% endif %}", 
  "line_breaks": 0, 
  "modified": "2017-10-07 12:16:28.849210", 
  "module": "Accounts", 
  "name": "Care of Problem", 
  "print_format_builder": 0, 
  "print_format_type": "Server", 
  "show_section_headings": 0, 
  "standard": "No"
 }
]